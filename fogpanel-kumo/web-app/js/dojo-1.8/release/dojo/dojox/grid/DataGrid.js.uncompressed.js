//>>built
require({cache:{"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(k,m,j,e,c){var d=c.doc.documentElement,g=e("ie"),b=e("opera"),i=Math.floor,f=e("ff"),c=k.boxModel.replace(/-/,""),g={dj_ie:g,dj_ie6:6==i(g),dj_ie7:7==i(g),dj_ie8:8==i(g),dj_ie9:9==i(g),dj_quirks:e("quirks"),dj_iequirks:g&&e("quirks"),dj_opera:b,dj_khtml:e("khtml"),dj_webkit:e("webkit"),dj_safari:e("safari"),dj_chrome:e("chrome"),dj_gecko:e("mozilla"),dj_ff3:3==i(f)};g["dj_"+
c]=!0;var a="",h;for(h in g)g[h]&&(a+=h+" ");d.className=m.trim(d.className+" "+a);j(90,function(){if(!k.isBodyLtr()){var b="dj_rtl dijitRtl "+a.replace(/ /g,"-rtl ");d.className=m.trim(d.className+" "+b+"dj_rtl dijitRtl "+a.replace(/ /g,"-rtl "))}});return e})},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(k,m,j,e){j(90,function(){m("highcontrast")&&k.add(e.body(),"dijit_a11y")});return m})},"dojox/grid/_View":function(){define("dojo,dijit/registry,../main,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/_base/connect,dojo/_base/sniff,dojo/query,dojo/_base/window,dojo/text!./resources/View.html,dojo/dnd/Source,dijit/_Widget,dijit/_TemplatedMixin,dojox/html/metrics,./util,dojo/_base/html,./_Builder,dojo/dnd/Avatar,dojo/dnd/Manager".split(","),
function(k,m,j,e,c,d,g,b,i,f,a,h,t,n,r,p,q,o,v,l){var a=e("dojox.grid._View",[t,n],{defaultWidth:"18em",viewWidth:"",templateString:a,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:o._HeaderBuilder,_contentBuilderClass:o._ContentBuilder,postMixInProperties:function(){this.rowNodes={}},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");p.funnelEvents(this.contentNode,this,"doContentEvent","mouseover,mouseout,click,dblclick,contextmenu,mousedown".split(","));
p.funnelEvents(this.headerNode,this,"doHeaderEvent","dblclick,mouseover,mouseout,mousemove,mousedown,click,contextmenu".split(","));this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);if(!this.grid.isLeftToRight())this.headerNodeContainer.style.width=""},destroy:function(){q.destroy(this.headerNode);delete this.headerNode;for(var a in this.rowNodes)this._cleanupRowWidgets(this.rowNodes[a]),q.destroy(this.rowNodes[a]);this.rowNodes={};this.source&&this.source.destroy();
this.inherited(arguments)},focus:function(){b("ie")||b("webkit")||b("opera")?this.hiddenFocusNode.focus():this.scrollboxNode.focus()},setStructure:function(a){a=this.structure=a;this.viewWidth=a.width&&!isNaN(a.width)?a.width+"em":a.width||(a.noscroll?"auto":this.viewWidth);this._onBeforeRow=a.onBeforeRow||function(){};this._onAfterRow=a.onAfterRow||function(){};if(this.noscroll=a.noscroll)this.scrollboxNode.style.overflow="hidden";this.simpleStructure=Boolean(1==a.cells.length);this.testFlexCells();
this.updateStructure()},_cleanupRowWidgets:function(a){a&&c.forEach(i("[widgetId]",a).map(m.byNode),function(a){a._destroyOnRemove?(a.destroy(),delete a):a.domNode&&a.domNode.parentNode&&a.domNode.parentNode.removeChild(a.domNode)})},onBeforeRow:function(a,l){this._onBeforeRow(a,l);0<=a&&this._cleanupRowWidgets(this.getRowNode(a))},onAfterRow:function(a,l,b){this._onAfterRow(a,l,b);var f=this.grid;c.forEach(i(".dojoxGridStubNode",b),function(a){if(a&&a.parentNode){var l=a.getAttribute("linkWidget"),
b=window.parseInt(q.attr(a,"cellIdx"),10);f.getCell(b);(l=m.byId(l))?(a.parentNode.replaceChild(l.domNode,a),l._started||l.startup(),k.destroy(a)):a.innerHTML=""}},this)},testFlexCells:function(){this.flexCells=!1;for(var a=0,l;l=this.structure.cells[a];a++)for(var b=0,c;c=l[b];b++)c.view=this,this.flexCells=this.flexCells||c.isFlex();return this.flexCells},updateStructure:function(){this.header.update();this.content.update()},getScrollbarWidth:function(){var a=this.hasVScrollbar(),l=q.style(this.scrollboxNode,
"overflow");this.noscroll||!l||"hidden"==l?a=!1:"scroll"==l&&(a=!0);return a?r.getScrollbar().w:0},getColumnsWidth:function(){var a=this.headerContentNode;return a&&a.firstChild?a.firstChild.offsetWidth:0},setColumnsWidth:function(a){this.headerContentNode.firstChild.style.width=a+"px";if(this.viewWidth)this.viewWidth=a+"px"},getWidth:function(){return this.viewWidth||this.getColumnsWidth()+this.getScrollbarWidth()+"px"},getContentWidth:function(){return Math.max(0,q._getContentBox(this.domNode).w-
this.getScrollbarWidth())+"px"},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(0<=this._togglingColumn)this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn),this._togglingColumn=-1;var a=this.grid.layout.cells,l=d.hitch(this,function(l,b){!this.grid.isLeftToRight()&&(b=!b);for(var c=b?-1:1,f=this.header.getCellNodeIndex(l)+c,h=a[f];h&&h.getHeaderNode()&&"none"==h.getHeaderNode().style.display;)f+=c,h=a[f];return h?h.getHeaderNode():null});if(this.grid.columnReordering&&
this.simpleStructure){this.source&&this.source.destroy();this.bottomMarker&&q.destroy(this.bottomMarker);this.bottomMarker=q.byId("dojoxGrid_bottomMarker");this.topMarker&&q.destroy(this.topMarker);this.topMarker=q.byId("dojoxGrid_topMarker");if(!this.bottomMarker)this.bottomMarker=q.create("div",{id:"dojoxGrid_bottomMarker","class":"dojoxGridColPlaceBottom"},f.body()),this._hide(this.bottomMarker),this.topMarker=q.create("div",{id:"dojoxGrid_topMarker","class":"dojoxGridColPlaceTop"},f.body()),this._hide(this.topMarker);
this.arrowDim=q.contentBox(this.bottomMarker);var c=q.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new h(this.headerContentNode.firstChild.rows[0],{horizontal:!0,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:!1,onMouseDown:d.hitch(this,function(a){this.header.decorateEvent(a);if((this.header.overRightResizeArea(a)||this.header.overLeftResizeArea(a))&&this.header.canResize(a)&&!this.header.moveable)this.header.beginColumnResize(a);else{if(this.grid.headerMenu)this.grid.headerMenu.onCancel(!0);
a.button===(9>b("ie")?1:0)&&h.prototype.onMouseDown.call(this.source,a)}}),onMouseOver:d.hitch(this,function(a){var l=this.source;l._getChildByEvent(a)&&h.prototype.onMouseOver.apply(l,arguments)}),_markTargetAnchor:d.hitch(this,function(a){var b=this.source;if(!(b.current==b.targetAnchor&&b.before==a)){b.targetAnchor&&l(b.targetAnchor,b.before)&&b._removeItemClass(l(b.targetAnchor,b.before),b.before?"After":"Before");h.prototype._markTargetAnchor.call(b,a);var f=a?b.targetAnchor:l(b.targetAnchor,
b.before),a=0;if(!f)f=b.targetAnchor,a=q.contentBox(f).w+this.arrowDim.w/2+2;f=q.position(f,!0);a=Math.floor(f.x-this.arrowDim.w/2+a);q.style(this.bottomMarker,"visibility","visible");q.style(this.topMarker,"visibility","visible");q.style(this.bottomMarker,{left:a+"px",top:c+f.y+"px"});q.style(this.topMarker,{left:a+"px",top:f.y-this.arrowDim.h+"px"});b.targetAnchor&&l(b.targetAnchor,b.before)&&b._addItemClass(l(b.targetAnchor,b.before),b.before?"After":"Before")}}),_unmarkTargetAnchor:d.hitch(this,
function(){var a=this.source;a.targetAnchor&&(a.targetAnchor&&l(a.targetAnchor,a.before)&&a._removeItemClass(l(a.targetAnchor,a.before),a.before?"After":"Before"),this._hide(this.bottomMarker),this._hide(this.topMarker),h.prototype._unmarkTargetAnchor.call(a))}),destroy:d.hitch(this,function(){g.disconnect(this._source_conn);g.unsubscribe(this._source_sub);h.prototype.destroy.call(this.source);this.bottomMarker&&(q.destroy(this.bottomMarker),delete this.bottomMarker);this.topMarker&&(q.destroy(this.topMarker),
delete this.topMarker)}),onDndCancel:d.hitch(this,function(){h.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker)})});this._source_conn=g.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=g.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup()}},_hide:function(a){q.style(a,{top:"-10000px",visibility:"hidden"})},_onDndDropBefore:function(a){if(l.manager().target===this.source){this.source._targetNode=this.source.targetAnchor;
this.source._beforeTarget=this.source.before;var b=this.grid.views.views,a=b[a.viewIndex],b=b[this.index];b!=a&&(a.convertColPctToFixed(),b.convertColPctToFixed())}},_onDndDrop:function(a,b){if(l.manager().target!==this.source){if(l.manager().source===this.source)this._removingColumn=!0}else{this._hide(this.bottomMarker);this._hide(this.topMarker);var c=q.marginBox(b[0]).w;if(a.viewIndex!==this.index){var f=this.grid.views.views,h=f[a.viewIndex],f=f[this.index];h.viewWidth&&"auto"!=h.viewWidth&&h.setColumnsWidth(h.getColumnsWidth()-
c);f.viewWidth&&"auto"!=f.viewWidth&&f.setColumnsWidth(f.getColumnsWidth())}c=this.source._targetNode;h=this.source._beforeTarget;!this.grid.isLeftToRight()&&(h=!h);var f=this.grid.layout,d=this.index;delete this.source._targetNode;delete this.source._beforeTarget;f.moveColumn(a.viewIndex,d,b[0]?q.attr(b[0],"idx"):null,c?q.attr(c,"idx"):null,h)}},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells)this.contentWidth=this.getContentWidth(),
this.headerContentNode.firstChild.style.width=this.contentWidth;p.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode])},_getHeaderContent:function(a){var b=a.name||a.grid.getCellName(a);/^\s+$/.test(b)&&(b="&nbsp;");var l=['<div class="dojoxGridSortNode'];a.index!=a.grid.getSortIndex()?l.push('">'):l=l.concat([" ",0<a.grid.sortInfo?"dojoxGridSortUp":"dojoxGridSortDown",'"><div class="dojoxGridArrowButtonChar">',0<a.grid.sortInfo?"&#9650;":"&#9660;",'</div><div class="dojoxGridArrowButtonNode" role="presentation"></div>',
'<div class="dojoxGridColCaption">']);l=l.concat([b,"</div></div>"]);return l.join("")},resize:function(){this.adaptHeight();this.adaptWidth()},hasHScrollbar:function(a){var b=this._hasHScroll||!1;if(void 0==this._hasHScroll||a)this.noscroll?this._hasHScroll=!1:(a=q.style(this.scrollboxNode,"overflow"),this._hasHScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);b!==this._hasHScroll&&this.grid.update();return this._hasHScroll},
hasVScrollbar:function(a){var b=this._hasVScroll||!1;if(void 0==this._hasVScroll||a)this.noscroll?this._hasVScroll=!1:(a=q.style(this.scrollboxNode,"overflow"),this._hasVScroll="hidden"==a?!1:"scroll"==a?!0:this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);b!==this._hasVScroll&&this.grid.update();return this._hasVScroll},convertColPctToFixed:function(){var a=!1;this.grid.initialWidth="";var b=i("th",this.headerContentNode),l=c.map(b,function(b,l){var f=b.style.width;q.attr(b,"vIdx",
l);if(f&&"%"==f.slice(-1))a=!0;else if(f&&"px"==f.slice(-2))return window.parseInt(f,10);return q.contentBox(b).w});return a?(c.forEach(this.grid.layout.cells,function(a,b){if(a.view==this){var f=a.view.getHeaderCellNode(a.index);if(f&&q.hasAttr(f,"vIdx")){var c=window.parseInt(q.attr(f,"vIdx"));this.setColWidth(b,l[c]);q.removeAttr(f,"vIdx")}}},this),!0):!1},adaptHeight:function(a){if(!this.grid._autoHeight){var b=this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10)||
this.domNode.clientHeight;if(!a&&(a=this.noscroll))a:{for(var l in this.grid.views.views)if(a=this.grid.views.views[l],a!==this&&a.hasHScrollbar()){a=!0;break a}a=!1}a&&(b-=r.getScrollbar().h);p.setStyleHeightPx(this.scrollboxNode,b)}this.hasVScrollbar(!0)},adaptWidth:function(){if(this.flexCells)this.contentWidth=this.getContentWidth(),this.headerContentNode.firstChild.style.width=this.contentWidth;var a=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();this._removingColumn?(a=Math.min(a,this.getColumnsWidth())+
"px",this._removingColumn=!1):a=Math.max(a,this.getColumnsWidth())+"px";this.contentNode.style.width=a;this.hasHScrollbar(!0)},setSize:function(a,b){var l=this.domNode.style,f=this.headerNode.style;if(a)l.width=a,f.width=a;l.height=0<=b?b+"px":""},renderRow:function(a){var b=this.createRowNode(a);this.buildRow(a,b);return b},createRowNode:function(a){var b=document.createElement("div");b.className=this.classTag+"Row";this instanceof j.grid._RowSelector?q.attr(b,"role","presentation"):(q.attr(b,"role",
"row"),"none"!=this.grid.selectionMode&&b.setAttribute("aria-selected","false"));b[p.gridViewTag]=this.id;b[p.rowIndexTag]=a;return this.rowNodes[a]=b},buildRow:function(a,b){this.buildRowContent(a,b);this.styleRow(a,b)},buildRowContent:function(a,b){b.innerHTML=this.content.generateHtml(a,a);if(this.flexCells&&this.contentWidth)b.firstChild.style.width=this.contentWidth;p.fire(this,"onAfterRow",[a,this.structure.cells,b])},rowRemoved:function(a){0<=a&&this._cleanupRowWidgets(this.getRowNode(a));
this.grid.edit.save(this,a);delete this.rowNodes[a]},getRowNode:function(a){return this.rowNodes[a]},getCellNode:function(a,b){var l=this.getRowNode(a);if(l)return this.content.getCellNode(l,b)},getHeaderCellNode:function(a){if(this.headerContentNode)return this.header.getCellNode(this.headerContentNode,a)},styleRow:function(a,b){b._style=void 0==b.style.cssText?b.getAttribute("style"):b.style.cssText;this.styleRowNode(a,b)},styleRowNode:function(a,b){b&&this.doStyleRowNode(a,b)},doStyleRowNode:function(a,
b){this.grid.styleRowNode(a,b)},updateRow:function(a){var b=this.getRowNode(a);if(b)b.style.height="",this.buildRow(a,b);return b},updateRowStyles:function(a){this.styleRowNode(a,this.getRowNode(a))},lastTop:0,firstScroll:0,_nativeScroll:!1,doscroll:function(){if(13<=b("ff"))this._nativeScroll=!0;var a=this.grid.isLeftToRight();if(2>this.firstScroll){if(!a&&1==this.firstScroll||a&&0===this.firstScroll){var l=q.marginBox(this.headerNodeContainer);if(b("ie"))this.headerNodeContainer.style.width=l.w+
this.getScrollbarWidth()+"px";else if(b("mozilla"))this.headerNodeContainer.style.width=l.w-this.getScrollbarWidth()+"px",this.scrollboxNode.scrollLeft=a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth}this.firstScroll++}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;a=this.scrollboxNode.scrollTop;a!==this.lastTop&&this.grid.scrollTo(a);this._nativeScroll=!1},setScrollTop:function(a){this.lastTop=a;if(!this._nativeScroll)this.scrollboxNode.scrollTop=
a;return this.scrollboxNode.scrollTop},doContentEvent:function(a){if(this.content.decorateEvent(a))this.grid.onContentEvent(a)},doHeaderEvent:function(a){if(this.header.decorateEvent(a))this.grid.onHeaderEvent(a)},dispatchContentEvent:function(a){return this.content.dispatchEvent(a)},dispatchHeaderEvent:function(a){return this.header.dispatchEvent(a)},setColWidth:function(a,b){this.grid.setCellWidth(a,b+"px")},update:function(){if(this.domNode){this.content.update();this.grid.update();var a=this.scrollboxNode.scrollLeft;
this.scrollboxNode.scrollLeft=a;this.headerNode.scrollLeft=a}}}),u=e("dojox.grid._GridAvatar",v,{construct:function(){var a=f.doc,b=a.createElement("table");b.cellPadding=b.cellSpacing="0";b.className="dojoxGridDndAvatar";b.style.position="absolute";b.style.zIndex=1999;b.style.margin="0px";var c=a.createElement("tbody"),h=a.createElement("tr"),d=a.createElement("td"),g=a.createElement("td");h.className="dojoxGridDndAvatarItem";g.className="dojoxGridDndAvatarItemImage";g.style.width="16px";var o=this.manager.source;
if(o.creator)o=o._normalizedCreator(o.getItem(this.manager.nodes[0].id).data,"avatar").node;else{var o=this.manager.nodes[0].cloneNode(!0),i,r;if("tr"==o.tagName.toLowerCase())i=a.createElement("table"),r=a.createElement("tbody"),r.appendChild(o),i.appendChild(r),o=i;else if("th"==o.tagName.toLowerCase())i=a.createElement("table"),r=a.createElement("tbody"),a=a.createElement("tr"),i.cellPadding=i.cellSpacing="0",a.appendChild(o),r.appendChild(a),i.appendChild(r),o=i}o.id="";d.appendChild(o);h.appendChild(g);
h.appendChild(d);q.style(h,"opacity",0.9);c.appendChild(h);b.appendChild(c);this.node=b;b=l.manager();this.oldOffsetY=b.OFFSET_Y;b.OFFSET_Y=1},destroy:function(){l.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments)}}),s=l.manager().makeAvatar;l.manager().makeAvatar=function(){return void 0!==this.source.viewIndex&&!q.hasClass(f.body(),"dijit_a11y")?new u(this):s.call(l.manager())};return a})},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(k,
m){return k("dijit._Contained",null,{_getSibling:function(j){var e=this.domNode;do e=e[j+"Sibling"];while(e&&1!=e.nodeType);return e&&m.byNode(e)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var j=this.getParent();return!j||!j.getIndexOfChild?-1:j.getIndexOfChild(this)}})})},"dojo/dnd/Selector":function(){define("../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../dom,../dom-construct,../mouse,../_base/NodeList,../on,../touch,./common,./Container".split(","),
function(k,m,j,e,c,d,g,b,i,f,a,h,t){var n=m("dojo.dnd.Selector",t,{constructor:function(b,h){h||(h={});this.singular=h.singular;this.autoSync=h.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(f(this.node,a.press,c.hitch(this,"onMouseDown")),f(this.node,a.release,c.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new i,b=h._empty,f;for(f in this.selection)f in b||a.push(d.byId(f));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,b){this._addItemClass(d.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=h._empty,b;for(b in this.selection)if(!(b in a)){var f=d.byId(b);this.delItem(b);g.destroy(f)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){var b=b||e.global,f=this.selection,c=h._empty,d;for(d in f)d in c||a.call(b,this.getItem(d),d,this)},sync:function(){n.superclass.sync.call(this);
if(this.anchor&&!this.getItem(this.anchor.id))this.anchor=null;var a=[],b=h._empty,f;for(f in this.selection)f in b||this.getItem(f)||a.push(f);k.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,f,c){var h=this._normalizedCreator;this._normalizedCreator=function(b,f){var c=h.call(this,b,f);a?(this.anchor?this.anchor!=c.node&&(this._removeItemClass(c.node,"Anchor"),this._addItemClass(c.node,"Selected")):(this.anchor=c.node,this._removeItemClass(c.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[c.node.id]=1):(this._removeItemClass(c.node,"Selected"),this._removeItemClass(c.node,"Anchor"));return c};n.superclass.insertNodes.call(this,b,f,c);this._normalizedCreator=h;return this},destroy:function(){n.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!h.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,b.isLeft(a)&&j.stop(a);else{if(!this.singular&&a.shiftKey){h.getCopyKeyState(a)||this._removeSelection();var f=this.getAllNodes();if(f.length){if(!this.anchor)this.anchor=f[0],this._addItemClass(this.anchor,"Anchor");this.selection[this.anchor.id]=1;if(this.anchor!=this.current){for(var c=0,d;c<f.length&&!(d=f[c],d==this.anchor||d==this.current);++c);for(++c;c<f.length;++c){d=f[c];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=1}this._addItemClass(this.current,
"Selected");this.selection[this.current.id]=1}}}else if(this.singular)this.anchor==this.current?h.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1);else if(h.getCopyKeyState(a))this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&
(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);else if(!(this.current.id in this.selection))this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1;j.stop(a)}},onMouseUp:function(){if(this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current))this.anchor=this.current,this._addItemClass(this.anchor,
"Anchor"),this.selection[this.current.id]=1},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=f(this.node,a.move,c.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=h._empty,b;for(b in this.selection)if(!(b in a)){var f=d.byId(b);f&&this._removeItemClass(f,"Selected")}this.selection={};return this},_removeAnchor:function(){if(this.anchor)this._removeItemClass(this.anchor,
"Anchor"),this.anchor=null;return this}});return n})},"dojox/grid/DataSelection":function(){define("dojox/grid/DataSelection",["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(k,m,j){return k("dojox.grid.DataSelection",j,{constructor:function(e){if(e.keepSelection)this.preserver=new m(this)},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var e=j.prototype.getFirstSelected.call(this);return-1==e?null:this.grid.getItem(e)},getNextSelected:function(e){e=
this.grid.getItemIndex(e);e=j.prototype.getNextSelected.call(this,e);return-1==e?null:this.grid.getItem(e)},getSelected:function(){for(var e=[],c=0,d=this.selected.length;c<d;c++)this.selected[c]&&e.push(this.grid.getItem(c));return e},addToSelection:function(e){if("none"!=this.mode){var c=null,c="number"==typeof e||"string"==typeof e?e:this.grid.getItemIndex(e);j.prototype.addToSelection.call(this,c)}},deselect:function(e){if("none"!=this.mode){var c=null,c="number"==typeof e||"string"==typeof e?
e:this.grid.getItemIndex(e);j.prototype.deselect.call(this,c)}},deselectAll:function(e){var c=null;e||"number"==typeof e?(c="number"==typeof e||"string"==typeof e?e:this.grid.getItemIndex(e),j.prototype.deselectAll.call(this,c)):this.inherited(arguments)}})})},"url:dijit/templates/CheckedMenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitemcheckbox" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t\t<span class="dijitCheckedMenuItemIconChar">&#10003;</span>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,labelNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">&#160;</td>\n</tr>\n',
"dojo/dnd/Manager":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../_base/window,../dom-class,../Evented,../has,../keys,../on,../topic,../touch,./common,./autoscroll,./Avatar".split(","),function(k,m,j,e,c,d,g,b,i,f,a,h,t,n,r){var p=m("dojo.dnd.Manager",[g],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:b("touch")?0:16,OFFSET_Y:b("touch")?-64:16,overSource:function(b){if(this.avatar)this.target=
b&&"Disabled"!=b.targetState?b:null,this.canDropFlag=Boolean(this.target),this.avatar.update();a.publish("/dnd/source/over",b)},outSource:function(b){if(this.avatar){if(this.target==b)this.target=null,this.canDropFlag=!1,this.avatar.update(),a.publish("/dnd/source/over",null)}else a.publish("/dnd/source/over",null)},startDrag:function(b,g,i){n.autoScrollStart(c.doc);this.source=b;this.nodes=g;this.copy=Boolean(i);this.avatar=this.makeAvatar();c.body().appendChild(this.avatar.node);a.publish("/dnd/start",
b,g,this.copy);this.events=[f(c.doc,h.move,e.hitch(this,"onMouseMove")),f(c.doc,h.release,e.hitch(this,"onMouseUp")),f(c.doc,"keydown",e.hitch(this,"onKeyDown")),f(c.doc,"keyup",e.hitch(this,"onKeyUp")),f(c.doc,"dragstart",j.stop),f(c.body(),"selectstart",j.stop)];d.add(c.body(),"dojoDnd"+(i?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);if(this.canDropFlag!=a)this.canDropFlag=a,this.avatar.update()},stopDrag:function(){d.remove(c.body(),["dojoDndCopy","dojoDndMove"]);k.forEach(this.events,
function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new r(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var f=this.avatar;if(f)n.autoScrollNodes(a),f=f.node.style,f.left=a.pageX+this.OFFSET_X+"px",f.top=a.pageY+this.OFFSET_Y+"px",f=Boolean(this.source.copyState(t.getCopyKeyState(a))),this.copy!=f&&this._setCopyStatus(f);b("touch")&&a.preventDefault()},onMouseUp:function(b){if(this.avatar){if(this.target&&
this.canDropFlag){var f=Boolean(this.source.copyState(t.getCopyKeyState(b)));a.publish("/dnd/drop/before",this.source,this.nodes,f,this.target,b);a.publish("/dnd/drop",this.source,this.nodes,f,this.target,b)}else a.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(b){if(this.avatar)switch(b.keyCode){case i.CTRL:b=Boolean(this.source.copyState(!0));this.copy!=b&&this._setCopyStatus(b);break;case i.ESCAPE:a.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==
i.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();d.replace(c.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});t._manager=null;p.manager=t.manager=function(){if(!t._manager)t._manager=new p;return t._manager};return p})},"dijit/a11yclick":function(){define("dijit/a11yclick","dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),
function(k,m,j,e,c,d,g){function b(b){return(b.keyCode===j.ENTER||b.keyCode===j.SPACE)&&!b.ctrlKey&&!b.shiftKey&&!b.altKey&&!b.metaKey}var i=null;c("dom-addeventlistener")?g.doc.addEventListener("keydown",function(b){i=b.target},!0):function(){var b=function(a){i=a.srcElement};g.doc.attachEvent("onkeydown",b);d.addOnWindowUnload(function(){g.doc.detachEvent("onkeydown",b)})}();return function(f,a){if(/input|button/i.test(f.nodeName))return k(f,"click",a);var h=[k(f,"keydown",function(a){if(b(a))i=
a.target,a.preventDefault()}),k(f,"keyup",function(a){b(a)&&a.target==i&&(i=null,k.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),k(f,"click",function(b){a.call(this,b)})];if(c("touch")){var d;h.push(k(f,"touchend",function(a){var b=a.target;d=setTimeout(function(){d=null;k.emit(b,"click",{cancelable:!0,bubbles:!0})},600)}),k(f,"click",function(){d&&clearTimeout(d)}))}return{remove:function(){m.forEach(h,function(a){a.remove()});d&&(clearTimeout(d),d=null)}}}})},"dojox/grid/_RowSelector":function(){define(["dojo/_base/declare",
"./_View"],function(k,m){return k("dojox.grid._RowSelector",m,{defaultWidth:"2em",noscroll:!0,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden"},getWidth:function(){return this.viewWidth||this.defaultWidth},buildRowContent:function(j,e){e.innerHTML='<table class="dojoxGridRowbarTable" style="width:'+(this.contentWidth||0)+'px;height:1px;" border="0" cellspacing="0" cellpadding="0" role="presentation"><tr><td class="dojoxGridRowbarInner">&nbsp;</td></tr></table>'},
renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight()},adaptWidth:function(){if(!("contentWidth"in this)&&this.contentNode&&0<this.contentNode.offsetWidth)this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth},doStyleRowNode:function(j,e){var c=["dojoxGridRowbar dojoxGridNonNormalizedCell"];this.grid.rows.isOver(j)&&c.push("dojoxGridRowbarOver");this.grid.selection.isSelected(j)&&c.push("dojoxGridRowbarSelected");e.className=c.join(" ")},domouseover:function(j){this.grid.onMouseOverRow(j)},
domouseout:function(j){if(!this.isIntraRowEvent(j))this.grid.onMouseOutRow(j)}})})},"dojox/grid/_Layout":function(){define("dojox/grid/_Layout","dojo/_base/kernel,../main,dojo/_base/declare,dojo/_base/array,dojo/_base/lang,dojo/dom-geometry,./cells,./_RowSelector".split(","),function(k,m,j,e,c,d){return j("dojox.grid._Layout",null,{constructor:function(c){this.grid=c},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(c,b,d,f,a){for(var h=this.structure[c].cells[0],t=this.structure[b].cells[0],
n=null,r=n=0,c=0,p;p=h[c];c++)if(p.index==d){n=c;break}n=h.splice(n,1)[0];n.view=this.grid.views.views[b];for(c=0,p=null;p=t[c];c++)if(p.index==f){r=c;break}a||(r+=1);t.splice(r,0,n);if(d=this.grid.getCell(this.grid.getSortIndex()))d._currentlySorted=this.grid.getSortAsc();this.cells=[];for(c=d=0;b=this.structure[c];c++)for(f=0;a=b.cells[f];f++)for(h=0;p=a[h];h++){p.index=d;this.cells.push(p);if("_currentlySorted"in p)t=d+1,t*=p._currentlySorted?1:-1,this.grid.sortInfo=t,delete p._currentlySorted;
d++}e.forEach(this.cells,function(a){var b=a.markup[2].split(" ");parseInt(b[1].substring(5))!=a.index&&(b[1]='idx="'+a.index+'"',a.markup[2]=b.join(" "))});this.grid.setupHeaderMenu()},setColumnVisibility:function(c,b){var i=this.cells[c];if(i.hidden==b){i.hidden=!b;var f=i.view,a=f.viewWidth;if(a&&"auto"!=a)f._togglingColumn=d.getMarginBox(i.getHeaderNode()).w||0;f.update();return!0}return!1},addCellDef:function(d,b,i){var f=this,a=function(a){var b=0;1<a.colSpan?b=0:(b=a.width||f._defaultCellProps.width||
f.defaultWidth,isNaN(b)||(b+="em"));return b},d={grid:this.grid,subrow:d,layoutIndex:b,index:this.cells.length};if(i&&i instanceof m.grid.cells._Base)return b=c.clone(i),d.unitWidth=a(b._props),b=c.mixin(b,this._defaultCellProps,i._props,d);b=i.type||i.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||m.grid.cells.Cell;c.isString(b)&&(b=c.getObject(b));d.unitWidth=a(i);return new b(c.mixin({},this._defaultCellProps,i,d))},addRowDef:function(c,b){for(var d=[],f=0,a=0,h=!0,t=0,
n;n=b[t];t++)if(n=this.addCellDef(c,t,n),d.push(n),this.cells.push(n),h&&n.relWidth)f+=n.relWidth;else if(n.width)n=n.width,"string"==typeof n&&"%"==n.slice(-1)?a+=window.parseInt(n,10):"auto"==n&&(h=!1);f&&h&&e.forEach(d,function(b){if(b.relWidth)b.width=b.unitWidth=b.relWidth/f*(100-a)+"%"});return d},addRowsDef:function(d){var b=[];if(c.isArray(d))if(c.isArray(d[0]))for(var i=0,f;d&&(f=d[i]);i++)b.push(this.addRowDef(i,f));else b.push(this.addRowDef(0,d));return b},addViewDef:function(d){this._defaultCellProps=
d.defaultCell||{};d.width&&"auto"==d.width&&delete d.width;return c.mixin({},d,{cells:this.addRowsDef(d.rows||d.cells)})},setStructure:function(d){this.fieldIndex=0;this.cells=[];var b=this.structure=[];if(this.grid.rowSelector){var i={type:m._scopeName+".grid._RowSelector"};if(c.isString(this.grid.rowSelector)){var f=this.grid.rowSelector;"false"==f?i=null:"true"!=f&&(i.width=f)}else this.grid.rowSelector||(i=null);i&&b.push(this.addViewDef(i))}i=function(a){return null!==a&&c.isObject(a)&&("cells"in
a||"rows"in a||"type"in a&&!("name"in a||"field"in a||"get"in a))};if(c.isArray(d)){for(var f=!1,a=0,h;h=d[a];a++)if(i(h)){f=!0;break}if(f)for(a=0;h=d[a];a++)c.isArray(h)&&(c.isArray(h[0])||"name"in h[0]||"field"in h[0]||"get"in h[0])?b.push(this.addViewDef({cells:h})):i(h)&&b.push(this.addViewDef(h));else b.push(this.addViewDef({cells:d}))}else i(d)&&b.push(this.addViewDef(d));this.cellCount=this.cells.length;this.grid.setupHeaderMenu()}})})},"dojox/grid/_Grid":function(){require({cache:{"url:dojox/grid/resources/_Grid.html":'<div hidefocus="hidefocus" role="grid" dojoAttachEvent="onmouseout:_mouseOut">\n\t<div class="dojoxGridMasterHeader" dojoAttachPoint="viewsHeaderNode" role="presentation"></div>\n\t<div class="dojoxGridMasterView" dojoAttachPoint="viewsNode" role="presentation"></div>\n\t<div class="dojoxGridMasterMessages" style="display: none;" dojoAttachPoint="messagesNode"></div>\n\t<span dojoAttachPoint="lastFocusNode" tabindex="0"></span>\n</div>\n'}});
define("dojox/grid/_Grid","dojo/_base/kernel,../main,dojo/_base/declare,./_Events,./_Scroller,./_Layout,./_View,./_ViewManager,./_RowManager,./_FocusManager,./_EditManager,./Selection,./_RowSelector,./util,dijit/_Widget,dijit/_TemplatedMixin,dijit/CheckedMenuItem,dojo/text!./resources/_Grid.html,dojo/string,dojo/_base/array,dojo/_base/lang,dojo/_base/sniff,dojox/html/metrics,dojo/_base/html,dojo/query,dojo/dnd/common,dojo/i18n!dijit/nls/loading".split(","),function(k,m,j,e,c,d,g,b,i,f,a,h,t,n,r,p,
q,o,v,l,u,s,y,w,x){if(!k.isCopyKey)k.isCopyKey=k.dnd.getCopyKeyState;j=j("dojox.grid._Grid",[r,p,e],{templateString:o,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:!1,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:!0,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:!1,selectionMode:"extended",rowSelector:"",columnReordering:!1,headerMenu:null,placeholderLabel:"GridColumns",selectable:!1,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",
errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:!0,formatterScope:null,editable:!1,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:d,buildRendering:function(){this.inherited(arguments);if(!this.domNode.getAttribute("tabIndex"))this.domNode.tabIndex="0";this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,
"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");y.initOnFontResize();this.connect(y,"onFontResize","textSizeChanged");n.funnelEvents(this.domNode,this,"doKeyEvent",n.keyEvents);"none"!=this.selectionMode&&this.domNode.setAttribute("aria-multiselectable","single"==this.selectionMode?"false":"true");w.addClass(this.domNode,this.classTag);this.isLeftToRight()||w.addClass(this.domNode,this.classTag+"Rtl")},postMixInProperties:function(){this.inherited(arguments);
var a=k.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=v.substitute(this.loadingMessage,a);this.errorMessage=v.substitute(this.errorMessage,a);if(this.srcNodeRef&&this.srcNodeRef.style.height)this.height=this.srcNodeRef.style.height;this._setAutoHeightAttr(this.autoHeight,!0);this.lastScrollTop=this.scrollTop=0},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);
if(this.domNode&&this.autoWidth&&this.initialWidth)this.domNode.style.width=this.initialWidth;this.domNode&&!this.editable&&w.attr(this.domNode,"aria-readonly","true")},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.scroller&&(this.scroller.destroy(),delete this.scroller);this.edit.destroy();delete this.edit;this.views.destroyViews();this.focus&&(this.focus.destroy(),delete this.focus);this.headerMenu&&this._placeholders.length&&(l.forEach(this._placeholders,
function(a){a.unReplace(!0)}),this.headerMenu.unBindDomNode(this.viewsHeaderNode));this.inherited(arguments)},_setAutoHeightAttr:function(a,b){"string"==typeof a&&(a=!a||"false"==a?!1:"true"==a?!0:window.parseInt(a,10));"number"==typeof a&&(isNaN(a)&&(a=!1),0>a?a=!0:0===a&&(a=!1));this.autoHeight=a;this._autoHeight="boolean"==typeof a?a:"number"==typeof a?a>=this.get("rowCount"):!1;this._started&&!b&&this.render()},_getRowCountAttr:function(){return this.updating&&this.invalidated&&void 0!=this.invalidated.rowCount?
this.invalidated.rowCount:this.rowCount},textSizeChanged:function(){this.render()},sizeChange:function(){this.update()},createManagers:function(){this.rows=new i(this);this.focus=new f(this);this.edit=new a(this)},createSelection:function(){this.selection=new h(this)},createScroller:function(){this.scroller=new c;this.scroller.grid=this;this.scroller.renderRow=u.hitch(this,"renderRow");this.scroller.removeRow=u.hitch(this,"rowRemoved")},createLayout:function(){this.layout=new this._layoutClass(this);
this.connect(this.layout,"moveColumn","onMoveColumn")},onMoveColumn:function(){this.update()},onResizeColumn:function(){},createViews:function(){this.views=new b(this);this.views.createView=u.hitch(this,"createView")},createView:function(a,b){var l=new (u.getObject(a))({grid:this,index:b});this.viewsNode.appendChild(l.domNode);this.viewsHeaderNode.appendChild(l.headerNode);this.views.addView(l);w.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return l},buildViews:function(){for(var a=
0,b;b=this.layout.structure[a];a++)this.createView(b.type||m._scopeName+".grid._View",a).setStructure(b);this.scroller.setContentNodes(this.views.getContentNodes())},_setStructureAttr:function(a){a&&u.isString(a)&&(k.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0"),a=u.getObject(a));this.structure=a;if(!a)if(this.layout.structure)a=this.layout.structure;else return;this.views.destroyViews();this.focus.focusView=null;a!==this.layout.structure&&
this.layout.setStructure(a);this._structureChanged()},setStructure:function(a){k.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(a)},getColumnTogglingItems:function(){var a,b=[];a=l.map(this.layout.cells,function(a){if(!a.menuItems)a.menuItems=[];var c=this,f=new q({label:a.name,checked:!a.hidden,_gridCell:a,onChange:function(a){if(c.layout.setColumnVisibility(this._gridCell.index,a)){var b=this._gridCell.menuItems;
1<b.length&&l.forEach(b,function(b){b!==this&&b.setAttribute("checked",a)},this);a=l.filter(c.layout.cells,function(a){1<a.menuItems.length?l.forEach(a.menuItems,"item.set('disabled', false);"):a.menuItems[0].set("disabled",!1);return!a.hidden});1==a.length&&l.forEach(a[0].menuItems,"item.set('disabled', true);")}},destroy:function(){this._gridCell.menuItems.splice(l.indexOf(this._gridCell.menuItems,this),1);delete this._gridCell;q.prototype.destroy.apply(this,arguments)}});a.menuItems.push(f);a.hidden||
b.push(f);return f},this);1==b.length&&b[0].set("disabled",!0);return a},_setHeaderMenuAttr:function(a){if(this._placeholders&&this._placeholders.length)l.forEach(this._placeholders,function(a){a.unReplace(!0)}),this._placeholders=[];this.headerMenu&&this.headerMenu.unBindDomNode(this.viewsHeaderNode);if(this.headerMenu=a)if(this.headerMenu.bindDomNode(this.viewsHeaderNode),this.headerMenu.getPlaceholders)this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel)},setHeaderMenu:function(a){k.deprecated("dojox.grid._Grid.setHeaderMenu(obj)",
"use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(a)},setupHeaderMenu:function(){this._placeholders&&this._placeholders.length&&l.forEach(this._placeholders,function(a){a._replaced&&a.unReplace(!0);a.replace(this.getColumnTogglingItems())},this)},_fetch:function(){this.setScrollTop(0)},getItem:function(){return null},showMessage:function(a){a?(this.messagesNode.innerHTML=a,this.messagesNode.style.display=""):(this.messagesNode.innerHTML="",this.messagesNode.style.display=
"none")},_structureChanged:function(){this.buildViews();this.autoRender&&this._started&&this.render()},hasLayout:function(){return this.layout.cells.length},resize:function(a,b){if(!k.isIE||a||b||!this._autoHeight)this._pendingChangeSize=a,this._pendingResultSize=b,this.sizeChange()},_getPadBorder:function(){return this._padBorder=this._padBorder||w._getPadBorderExtents(this.domNode)},_getHeaderHeight:function(){var a=this.viewsHeaderNode.style,b="none"==a.display?0:this.views.measureHeader();a.height=
b+"px";this.views.normalizeHeaderNodeHeight();return b},_resize:function(a,b){a=a||this._pendingChangeSize;b=b||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(this.domNode){var c=this.domNode.parentNode;if(c&&!(1!=c.nodeType||!this.hasLayout()||"hidden"==c.style.visibility||"none"==c.style.display)){var f=this._getPadBorder(),d=void 0,h;if(this._autoHeight)this.domNode.style.height="auto";else if("number"==typeof this.autoHeight)h=d=this._getHeaderHeight(),
h+=this.scroller.averageRowHeight*this.autoHeight,this.domNode.style.height=h+"px";else if(this.domNode.clientHeight<=f.h)c==document.body?this.domNode.style.height=this.defaultHeight:this.height?this.domNode.style.height=this.height:this.fitTo="parent";b&&(a=b);if(!this._autoHeight&&a)w.marginBox(this.domNode,a),this.height=this.domNode.style.height,delete this.fitTo;else if("parent"==this.fitTo)h=this._parentContentBoxHeight=this._parentContentBoxHeight||w._getContentBox(c).h,this.domNode.style.height=
Math.max(0,h)+"px";c=l.some(this.views.views,function(a){return a.flexCells});!this._autoHeight&&0===(h||w._getContentBox(this.domNode).h)?this.viewsHeaderNode.style.display="none":(this.viewsHeaderNode.style.display="block",!c&&void 0===d&&(d=this._getHeaderHeight()));c&&(d=void 0);this.adaptWidth();this.adaptHeight(d);this.postresize()}}},adaptWidth:function(){var a=!this.initialWidth&&this.autoWidth,b=this.views.arrange(1,a?0:this.domNode.clientWidth||this.domNode.offsetWidth-this._getPadBorder().w);
this.views.onEach("adaptWidth");if(a)this.domNode.style.width=b+"px"},adaptHeight:function(a){var a=void 0===a?this._getHeaderHeight():a,b=this._autoHeight?-1:Math.max(this.domNode.clientHeight-a,0)||0;this.views.onEach("setSize",[0,b]);this.views.onEach("adaptHeight");if(!this._autoHeight){var c=0,f=0,d=l.filter(this.views.views,function(a){(a=a.hasHScrollbar())?c++:f++;return!a});0<c&&0<f&&l.forEach(d,function(a){a.adaptHeight(!0)})}this.scroller.windowHeight=!0===this.autoHeight||-1!=b||"number"==
typeof this.autoHeight&&this.autoHeight>=this.get("rowCount")?b:Math.max(this.domNode.clientHeight-a,0)},startup:function(){this._started||(this.inherited(arguments),this.autoRender&&this.render())},render:function(){if(this.domNode&&this._started)this.hasLayout()?(this.update=this.defaultUpdate,this._render()):this.scroller.init(0,this.keepRows,this.rowsPerPage)},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender()},
prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize()},postrender:function(){this.postresize();this.focus.initFocusView();w.setSelectable(this.domNode,this.selectable)},postresize:function(){if(this._autoHeight)this.viewsNode.style.height=Math.max(this.views.measureContent())+"px"},renderRow:function(a,b){this.views.renderRow(a,b,this._skipRowRenormalize)},rowRemoved:function(a){this.views.rowRemoved(a)},invalidated:null,
updating:!1,beginUpdate:function(){this.invalidated=[];this.updating=!0},endUpdate:function(){this.updating=!1;var a=this.invalidated,b;if(a.all)this.update();else if(void 0!=a.rowCount)this.updateRowCount(a.rowCount);else for(b in a)this.updateRow(Number(b));this.invalidated=[]},defaultUpdate:function(){if(this.domNode)this.updating?this.invalidated.all=!0:(this.lastScrollTop=this.scrollTop,this.prerender(),this.scroller.invalidateNodes(),this.setScrollTop(this.lastScrollTop),this.postrender())},
update:function(){this.render()},updateRow:function(a){a=Number(a);this.updating?this.invalidated[a]=!0:(this.views.updateRow(a),this.scroller.rowHeightChanged(a))},updateRows:function(a,b){var a=Number(a),b=Number(b),l;if(this.updating)for(l=0;l<b;l++)this.invalidated[l+a]=!0;else{for(l=0;l<b;l++)this.views.updateRow(l+a,this._skipRowRenormalize);this.scroller.rowHeightChanged(a)}},updateRowCount:function(a){this.updating?this.invalidated.rowCount=a:(this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,
!0),this.layout.cells.length&&this.scroller.updateRowCount(a),this._resize(),this.layout.cells.length&&this.setScrollTop(this.scrollTop))},updateRowStyles:function(a){this.views.updateRowStyles(a)},getRowNode:function(a){if(this.focus.focusView&&!(this.focus.focusView instanceof t))return this.focus.focusView.rowNodes[a];for(var b=0,l;l=this.views.views[b];b++)if(!(l instanceof t))return l.rowNodes[a];return null},rowHeightChanged:function(a){this.views.renormalizeRow(a);this.scroller.rowHeightChanged(a)},
fastScroll:!0,delayScroll:!1,scrollRedrawThreshold:s("ie")?100:50,scrollTo:function(a){if(this.fastScroll){var b=Math.abs(this.lastScrollTop-a);this.lastScrollTop=a;if(b>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=!0;this.scrollTop=a;this.views.setScrollTop(a);this._pendingScroll&&window.clearTimeout(this._pendingScroll);var l=this;this._pendingScroll=window.setTimeout(function(){delete l._pendingScroll;l.finishScrollJob()},200)}else this.setScrollTop(a)}else this.setScrollTop(a)},
finishScrollJob:function(){this.delayScroll=!1;this.setScrollTop(this.scrollTop)},setScrollTop:function(a){this.scroller.scroll(this.views.setScrollTop(a))},scrollToRow:function(a){this.setScrollTop(this.scroller.findScrollTop(a)+1)},styleRowNode:function(a,b){b&&this.rows.styleRowNode(a,b)},_mouseOut:function(){this.rows.setOverRow(-2)},getCell:function(a){return this.layout.cells[a]},setCellWidth:function(a,b){this.getCell(a).unitWidth=b},getCellName:function(a){return"Cell "+a.index},canSort:function(){},
sort:function(){},getSortAsc:function(a){a=void 0==a?this.sortInfo:a;return Boolean(0<a)},getSortIndex:function(a){a=void 0==a?this.sortInfo:a;return Math.abs(a)-1},setSortIndex:function(a,b){var l=a+1;void 0!=b?l*=b?1:-1:this.getSortIndex()==a&&(l=-this.sortInfo);this.setSortInfo(l)},setSortInfo:function(a){if(this.canSort(a))this.sortInfo=a,this.sort(),this.update()},doKeyEvent:function(a){a.dispatch="do"+a.type;this.onKeyEvent(a)},_dispatch:function(a,b){return a in this?this[a](b):!1},dispatchKeyEvent:function(a){this._dispatch(a.dispatch,
a)},dispatchContentEvent:function(a){this.edit.dispatchEvent(a)||a.sourceView.dispatchContentEvent(a)||this._dispatch(a.dispatch,a)},dispatchHeaderEvent:function(a){a.sourceView.dispatchHeaderEvent(a)||this._dispatch("doheader"+a.type,a)},dokeydown:function(a){this.onKeyDown(a)},doclick:function(a){if(a.cellNode)this.onCellClick(a);else this.onRowClick(a)},dodblclick:function(a){if(a.cellNode)this.onCellDblClick(a);else this.onRowDblClick(a)},docontextmenu:function(a){if(a.cellNode)this.onCellContextMenu(a);
else this.onRowContextMenu(a)},doheaderclick:function(a){if(a.cellNode)this.onHeaderCellClick(a);else this.onHeaderClick(a)},doheaderdblclick:function(a){if(a.cellNode)this.onHeaderCellDblClick(a);else this.onHeaderDblClick(a)},doheadercontextmenu:function(a){if(a.cellNode)this.onHeaderCellContextMenu(a);else this.onHeaderContextMenu(a)},doStartEdit:function(a,b){this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,l){this.onApplyCellEdit(a,b,l)},doCancelEdit:function(a){this.onCancelEdit(a)},doApplyEdit:function(a){this.onApplyEdit(a)},
addRow:function(){this.updateRowCount(this.get("rowCount")+1)},removeSelectedRows:function(){this.allItemsSelected?this.updateRowCount(0):this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));this.selection.clear()}});j.markupFactory=function(a,b,l,c){var f=function(a){a=w.attr(a,"width")||"auto";"auto"!=a&&"em"!=a.slice(-2)&&"%"!=a.slice(-1)&&(a=parseInt(a,10)+"px");return a};if(!a.structure&&"table"==b.nodeName.toLowerCase())a.structure=x("> colgroup",b).map(function(a){var b=
w.attr(a,"span"),b={noscroll:"true"==w.attr(a,"noscroll")?!0:!1,__span:b?parseInt(b,10):1,cells:[]};if(w.hasAttr(a,"width"))b.width=f(a);return b}),a.structure.length||a.structure.push({__span:Infinity,cells:[]}),x("thead > tr",b).forEach(function(b,l){var d=0,h=0,i,e=null;x("> th",b).map(function(b){e?d>=i+e.__span&&(h++,i+=e.__span,e=a.structure[h]):(i=0,e=a.structure[0]);var g={name:u.trim(w.attr(b,"name")||b.innerHTML),colSpan:parseInt(w.attr(b,"colspan")||1,10),type:u.trim(w.attr(b,"cellType")||
""),id:u.trim(w.attr(b,"id")||"")};d+=g.colSpan;var o=w.attr(b,"rowspan");if(o)g.rowSpan=o;if(w.hasAttr(b,"width"))g.width=f(b);if(w.hasAttr(b,"relWidth"))g.relWidth=window.parseInt(w.attr(b,"relWidth"),10);if(w.hasAttr(b,"hidden"))g.hidden="true"==w.attr(b,"hidden")||!0===w.attr(b,"hidden");c&&c(b,g);g.type=g.type?u.getObject(g.type):m.grid.cells.Cell;g.type&&g.type.markupFactory&&g.type.markupFactory(b,g);e.cells[l]||(e.cells[l]=[]);e.cells[l].push(g)})});return new l(a,b)};return j})},"dojox/main":function(){define("dojox/main",
["dojo/_base/kernel"],function(k){return k.dojox})},"dojo/dnd/Mover":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(k,m,j,e,c,d,g,b,i,f,a,h,t,n){return m("dojo.dnd.Mover",[f],{constructor:function(b,c,f){this.node=g.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=f;b=b.ownerDocument;this.events=[a(b,h.move,
e.hitch(this,"onFirstMove")),a(b,h.move,e.hitch(this,"onMouseMove")),a(b,h.release,e.hitch(this,"onMouseUp")),a(b,"dragstart",j.stop),a(b.body,"selectstart",j.stop)];n.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);j.stop(a)},onMouseUp:function(a){(c("webkit")&&c("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();j.stop(a)},onFirstMove:function(a){var c=
this.node.style,f,h=this.host;switch(c.position){case "relative":case "absolute":f=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=b.getMarginBox(this.node);f=d.doc.body;var g=i.getComputedStyle(f),l=b.getMarginBox(f,g),g=b.getContentBox(f,g);f=c.l-(g.l-l.l);c=c.t-(g.t-l.t)}this.marginBox.l=f-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(h&&h.onFirstMove)h.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){k.forEach(this.events,
function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(k,m,j,e){return k("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var d=this._attrPairNames;return d[c]?d[c]:d[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,d){return"function"===typeof this[d.g]?this[d.g]():
this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,d){if("object"===typeof c){for(var g in c)c.hasOwnProperty(g)&&"_watchCallbacks"!=g&&this.set(g,c[g]);return this}g=this._getAttrNames(c);var b=this._get(c,g);g=this[g.s];var i;"function"===typeof g?i=g.apply(this,Array.prototype.slice.call(arguments,1)):this[c]=d;if(this._watchCallbacks){var f=this;e(i,function(){f._watchCallbacks(c,b,d)})}return this},_changeAttrValue:function(c,d){var g=this.get(c);this[c]=d;this._watchCallbacks&&
this._watchCallbacks(c,g,d);return this},watch:function(c,d){var g=this._watchCallbacks;if(!g)var b=this,g=this._watchCallbacks=function(a,c,f,d){var i=function(d){if(d)for(var d=d.slice(),i=0,g=d.length;i<g;i++)d[i].call(b,a,c,f)};i(g["_"+a]);d||i(g["*"])};!d&&"function"===typeof c?(d=c,c="*"):c="_"+c;var i=g[c];"object"!==typeof i&&(i=g[c]=[]);i.push(d);var f={};f.unwatch=f.remove=function(){var a=j.indexOf(i,d);-1<a&&i.splice(a,1)};return f}})})},"dojo/touch":function(){define("./_base/kernel,./_base/lang,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),
function(k,m,j,e,c,d,g,b,i){function f(a){return function(b,f){return c(b,a,f)}}var j=d("touch"),a,h;j&&(b(function(){h=i.body();i.doc.addEventListener("touchstart",function(a){var b=h;h=a.target;c.emit(b,"dojotouchout",{target:b,relatedTarget:h,bubbles:!0});c.emit(h,"dojotouchover",{target:h,relatedTarget:b,bubbles:!0})},!0);c(i.doc,"touchmove",function(a){if((a=i.doc.elementFromPoint(a.pageX-i.global.pageXOffset,a.pageY-i.global.pageYOffset))&&h!==a)c.emit(h,"dojotouchout",{target:h,relatedTarget:a,
bubbles:!0}),c.emit(a,"dojotouchover",{target:a,relatedTarget:h,bubbles:!0}),h=a})}),a=function(a,b){return c(i.doc,"touchmove",function(c){(a===i.doc||e.isDescendant(h,a))&&b.call(this,m.mixin({},c,{target:h}))})});g={press:f(j?"touchstart":"mousedown"),move:j?a:f("mousemove"),release:f(j?"touchend":"mouseup"),cancel:j?f("touchcancel"):g.leave,over:f(j?"dojotouchover":"mouseover"),out:f(j?"dojotouchout":"mouseout"),enter:g._eventHandler(j?"dojotouchover":"mouseover"),leave:g._eventHandler(j?"dojotouchout":
"mouseout")};return k.touch=g})},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(k,m,j,e){return k("dojox.grid.Selection",null,{constructor:function(c){this.grid=c;this.selected=[];this.setMode(c.selectionMode)},mode:"extended",selected:null,updating:0,selectedIndex:-1,setMode:function(c){this.selected.length&&this.deselectAll();this.mode="extended"!=c&&"multiple"!=c&&"single"!=c&&"none"!=c?"extended":c},onCanSelect:function(c){return this.grid.onCanSelect(c)},
onCanDeselect:function(c){return this.grid.onCanDeselect(c)},onSelected:function(){},onDeselected:function(){},onChanging:function(){},onChanged:function(){},isSelected:function(c){return"none"==this.mode?!1:this.selected[c]},getFirstSelected:function(){if(!this.selected.length||"none"==this.mode)return-1;for(var c=0,d=this.selected.length;c<d;c++)if(this.selected[c])return c;return-1},getNextSelected:function(c){if("none"==this.mode)return-1;for(var c=c+1,d=this.selected.length;c<d;c++)if(this.selected[c])return c;
return-1},getSelected:function(){for(var c=[],d=0,g=this.selected.length;d<g;d++)this.selected[d]&&c.push(d);return c},getSelectedCount:function(){for(var c=0,d=0;d<this.selected.length;d++)this.selected[d]&&c++;return c},_beginUpdate:function(){if(0===this.updating)this.onChanging();this.updating++},_endUpdate:function(){this.updating--;if(0===this.updating)this.onChanged()},select:function(c){"none"!=this.mode&&("multiple"!=this.mode?(this.deselectAll(c),this.addToSelection(c)):this.toggleSelect(c))},
addToSelection:function(c){if("none"!=this.mode)if(j.isArray(c))m.forEach(c,this.addToSelection,this);else if(c=Number(c),this.selected[c])this.selectedIndex=c;else if(!1!==this.onCanSelect(c)){this.selectedIndex=c;var d=this.grid.getRowNode(c);d&&e.set(d,"aria-selected","true");this._beginUpdate();this.selected[c]=!0;this.onSelected(c);this._endUpdate()}},deselect:function(c){if("none"!=this.mode)if(j.isArray(c))m.forEach(c,this.deselect,this);else{c=Number(c);if(this.selectedIndex==c)this.selectedIndex=
-1;if(this.selected[c]&&!1!==this.onCanDeselect(c)){var d=this.grid.getRowNode(c);d&&e.set(d,"aria-selected","false");this._beginUpdate();delete this.selected[c];this.onDeselected(c);this._endUpdate()}}},setSelected:function(c,d){this[d?"addToSelection":"deselect"](c)},toggleSelect:function(c){j.isArray(c)?m.forEach(c,this.toggleSelect,this):this.setSelected(c,!this.selected[c])},_range:function(c,d,g){var b=0<=c?c:d,c=d;b>c&&(c=b,b=d);for(d=b;d<=c;d++)g(d)},selectRange:function(c,d){this._range(c,
d,j.hitch(this,"addToSelection"))},deselectRange:function(c,d){this._range(c,d,j.hitch(this,"deselect"))},insert:function(c){this.selected.splice(c,0,!1);this.selectedIndex>=c&&this.selectedIndex++},remove:function(c){this.selected.splice(c,1);this.selectedIndex>=c&&this.selectedIndex--},deselectAll:function(c){for(var d in this.selected)d!=c&&!0===this.selected[d]&&this.deselect(d)},clickSelect:function(c,d,g){if("none"!=this.mode){this._beginUpdate();if("extended"!=this.mode)this.select(c);else{var b=
this.selectedIndex;d||this.deselectAll(c);g?this.selectRange(b,c):d?this.toggleSelect(c):this.addToSelection(c)}this._endUpdate()}},clickSelectEvent:function(c){this.clickSelect(c.rowIndex,dojo.isCopyKey(c),c.shiftKey)},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate()}})})},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),
function(k,m,j,e,c,d,g,b,i){m=m("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);k.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,c.hitch(this,"_setStateClass"))},this);for(var b in this.cssStateNodes)this._trackMouseState(this[b],this.cssStateNodes[b]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(b){if(!this.disabled)switch(b.type){case "mouseover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function b(c){a=a.concat(k.map(a,function(a){return a+c}),"dijit"+c)}var a=this.baseClass.split(" ");this.isLeftToRight()||b("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&b(c);this.state&&b(this.state);
this.selected&&b("Selected");this._opened&&b("Opened");this.disabled?b("Disabled"):this.readOnly?b("ReadOnly"):this.active?b("Active"):this.hovering&&b("Hover");this.focused&&b("Focused");var c=this.stateNode||this.domNode,d={};k.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&k.forEach(this._stateClasses,function(a){delete d[a]});k.forEach(a,function(a){d[a]=!0});var i=[],g;for(g in d)i.push(g);c.className=i.join(" ");this._stateClasses=a},_subnodeCssMouseEvent:function(b,
a,c){function d(c){e.toggle(b,a+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":e.toggle(b,a+"Hover",!0);break;case "mouseout":e.toggle(b,a+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":d(!0);break;case "mouseup":case "touchend":d(!1);break;case "focus":case "focusin":e.toggle(b,a+"Focused",!0);break;case "blur":case "focusout":e.toggle(b,a+"Focused",!1)}},_trackMouseState:function(b,a){b._cssState=a}});g(function(){function c(a){if(!j.isDescendant(a.relatedTarget,
a.target))for(var b=a.target;b&&b!=a.relatedTarget;b=b.parentNode)if(b._cssState){var f=i.getEnclosingWidget(b);f&&(b==f.domNode?f._cssMouseEvent(a):f._subnodeCssMouseEvent(b,b._cssState,a))}}function a(a){a.target=a.srcElement;c(a)}var h=b.body();k.forEach("mouseover,mouseout,mousedown,touchstart,mouseup,touchend".split(","),function(b){h.addEventListener?h.addEventListener(b,c,!0):h.attachEvent("on"+b,a)});d(h,"focusin, focusout",function(a){var b=a.target;b._cssState&&!b.getAttribute("widgetId")&&
i.getEnclosingWidget(b)._subnodeCssMouseEvent(b,b._cssState,a)})});return m})},"url:dojox/grid/resources/_Grid.html":'<div hidefocus="hidefocus" role="grid" dojoAttachEvent="onmouseout:_mouseOut">\n\t<div class="dojoxGridMasterHeader" dojoAttachPoint="viewsHeaderNode" role="presentation"></div>\n\t<div class="dojoxGridMasterView" dojoAttachPoint="viewsNode" role="presentation"></div>\n\t<div class="dojoxGridMasterMessages" style="display: none;" dojoAttachPoint="messagesNode"></div>\n\t<span dojoAttachPoint="lastFocusNode" tabindex="0"></span>\n</div>\n',
"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(k,m,j){return k("dojox.grid._RowManager",null,{constructor:function(e){this.grid=e},linesToEms:2,overRow:-2,prepareStylingRow:function(e,c){return{index:e,node:c,odd:Boolean(e&1),selected:!!this.grid.selection.isSelected(e),over:this.isOver(e),customStyles:"",customClasses:"dojoxGridRow"}},styleRowNode:function(e,c){var d=this.prepareStylingRow(e,c);this.grid.onStyleRow(d);this.applyStyles(d)},
applyStyles:function(e){e.node.className=e.customClasses;var c=e.node.style.height,d=e.node,g=e.customStyles+";"+(e.node._style||"");void 0==d.style.cssText?d.setAttribute("style",g):d.style.cssText=g;e.node.style.height=c},updateStyles:function(e){this.grid.updateRowStyles(e)},setOverRow:function(e){var c=this.overRow;this.overRow=e;c!=this.overRow&&(m.isString(c)||0<=c)&&this.updateStyles(c);this.updateStyles(this.overRow)},isOver:function(e){return this.overRow==e&&!j.contains(this.grid.domNode,
"dojoxGridColumnResizing")}})})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-construct,./dom-style,./has,./ready,./_base/window".split(","),function(k,m,j,e,c,d,g,b){d.add("highcontrast",function(){var d=b.doc.createElement("div");d.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(m.blankGif||k.toUrl("./resources/blank.gif"))+");";b.body().appendChild(d);var f=c.getComputedStyle(d),a=f.backgroundImage,
f=f.borderTopColor==f.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);e.destroy(d);return f});g(90,function(){d("highcontrast")&&j.add(b.body(),"dj_a11y")});return d})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(k,m){var j={};m.setObject("dojo.string",j);j.rep=function(e,c){if(0>=c||!e)return"";for(var d=[];;){c&1&&d.push(e);if(!(c>>=1))break;e+=e}return d.join("")};j.pad=function(e,c,d,g){d||(d="0");e=""+e;c=j.rep(d,Math.ceil((c-e.length)/d.length));return g?
e+c:c+e};j.substitute=function(e,c,d,g){g=g||k.global;d=d?m.hitch(g,d):function(b){return b};return e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(b,i,f){b=m.getObject(i,!1,c);f&&(b=m.getObject(f,!1,g).call(g,b,i));return d(b,i).toString()})};j.trim=String.prototype.trim?m.trim:function(e){for(var e=e.replace(/^\s+/,""),c=e.length-1;0<=c;c--)if(/\S/.test(e.charAt(c))){e=e.substring(0,c+1);break}return e};return j})},"dojo/dnd/Avatar":function(){define("../_base/declare,../_base/window,../dom,../dom-attr,../dom-class,../dom-construct,../hccss,../query".split(","),
function(k,m,j,e,c,d,g,b){return k("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var b=d.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),c=this.manager.source,a,h=d.create("tbody",null,b),t=d.create("tr",null,h),n=d.create("td",null,t),r=Math.min(5,this.manager.nodes.length),p=0;g("highcontrast")&&d.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},n);d.create("span",{innerHTML:c.generateText?
this._generateText():""},n);for(e.set(t,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});p<r;++p)c.creator?a=c._normalizedCreator(c.getItem(this.manager.nodes[p].id).data,"avatar").node:(a=this.manager.nodes[p].cloneNode(!0),"tr"==a.tagName.toLowerCase()&&(t=d.create("table"),d.create("tbody",null,t).appendChild(a),a=t)),a.id="",t=d.create("tr",null,h),n=d.create("td",null,t),n.appendChild(a),e.set(t,{"class":"dojoDndAvatarItem",style:{opacity:(9-p)/10}});this.node=b},destroy:function(){d.destroy(this.node);
this.node=!1},update:function(){c.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(g("highcontrast")){var d=j.byId("a11yIcon"),f="+";this.manager.canDropFlag&&!this.manager.copy?f="< ":!this.manager.canDropFlag&&!this.manager.copy?f="o":this.manager.canDropFlag||(f="x");d.innerHTML=f}b("tr.dojoDndAvatarHeader td span"+(g("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"dojox/grid/_Scroller":function(){define("dojox/grid/_Scroller",["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(k,m,j,e,c){var d=function(b){b&&dojo.forEach(k.toArray(),function(d){d.domNode&&c.isDescendant(d.domNode,b,!0)&&d.destroy()})},g=function(b,d){for(var f=[],a=0,h;h=b.childNodes[a];){a++;var g=c.byId(h);(g&&g.tagName?g.tagName.toLowerCase():"")==d&&f.push(h)}return f};return m("dojox.grid._Scroller",null,{constructor:function(b){this.setContentNodes(b);
this.pageHeights=[];this.pageNodes=[];this.stack=[]},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(b,c,d){switch(arguments.length){case 3:this.rowsPerPage=d;case 2:this.keepRows=c;case 1:this.rowCount=b}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);
this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode)this.scrollboxNode.scrollTop=0,this.scroll(0),this.scrollboxNode.onscroll=j.hitch(this,"onscroll")},_getPageCount:function(b,c){return b?Math.ceil(b/c)||1:0},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode},setKeepInfo:function(b){this.keepRows=b;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2)},setContentNodes:function(b){this.colCount=
(this.contentNodes=b)?this.contentNodes.length:0;this.pageNodes=[];for(b=0;b<this.colCount;b++)this.pageNodes[b]=[]},getDefaultNodes:function(){return this.pageNodes[0]||[]},invalidate:function(){this._invalidating=!0;this.invalidateNodes();this.pageHeights=[];this.height=this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0;this.resize();this._invalidating=!1},updateRowCount:function(b){this.invalidateNodes();this.rowCount=b;b=this.pageCount;if(0===b)this.height=1;
this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<b)for(b-=1;b>=this.pageCount;b--)this.height-=this.getPageHeight(b),delete this.pageHeights[b];else this.pageCount>b&&(this.height+=this.defaultPageHeight*(this.pageCount-b-1)+this.calcLastPageHeight());this.resize()},pageExists:function(b){return Boolean(this.getDefaultPageNode(b))},measurePage:function(b){return this.grid.rowHeight?((b+1)*this.rowsPerPage>this.rowCount?this.rowCount-b*this.rowsPerPage:this.rowsPerPage)*
(this.grid.rowHeight+1):(b=this.getDefaultPageNode(b))&&b.innerHTML?b.offsetHeight:void 0},positionPage:function(b,c){for(var d=0;d<this.colCount;d++)this.pageNodes[d][b].style.top=c+"px"},repositionPages:function(b){for(var c=this.getDefaultNodes(),d=0,a=0;a<this.stack.length;a++)d=Math.max(this.stack[a],d);for(var h=(a=c[b])?this.getPageNodePosition(a)+this.getPageHeight(b):0,b=b+1;b<=d;b++){if(a=c[b]){if(this.getPageNodePosition(a)==h)break;this.positionPage(b,h)}h+=this.getPageHeight(b)}},installPage:function(b){for(var c=
0;c<this.colCount;c++)this.contentNodes[c].appendChild(this.pageNodes[c][b])},preparePage:function(b,c){for(var d=c?this.popPage():null,a=0;a<this.colCount;a++){var h=this.pageNodes[a],g=null===d?this.createPageNode():this.invalidatePageNode(d,h);g.pageIndex=b;h[b]=g}},renderPage:function(b){var c=[],d;for(d=0;d<this.colCount;d++)c[d]=this.pageNodes[d][b];for(d=0,b*=this.rowsPerPage;d<this.rowsPerPage&&b<this.rowCount;d++,b++)this.renderRow(b,c)},removePage:function(b){for(var c=0,b=b*this.rowsPerPage;c<
this.rowsPerPage;c++,b++)this.removeRow(b)},destroyPage:function(b){for(var d=0;d<this.colCount;d++){var f=this.invalidatePageNode(b,this.pageNodes[d]);f&&c.destroy(f)}},pacify:function(){},pacifying:!1,pacifyTicks:200,setPacifying:function(b){if(this.pacifying!=b)this.pacifying=b,this.pacify(this.pacifying)},startPacify:function(){this.startPacifyTicks=(new Date).getTime()},doPacify:function(){var b=(new Date).getTime()-this.startPacifyTicks>this.pacifyTicks;this.setPacifying(!0);this.startPacify();
return b},endPacify:function(){this.setPacifying(!1)},resize:function(){if(this.scrollboxNode)this.windowHeight=this.scrollboxNode.clientHeight;for(var b=0;b<this.colCount;b++)e.setStyleHeightPx(this.contentNodes[b],Math.max(1,this.height));b=!this._invalidating;if(!b){var c=this.grid.get("autoHeight");"number"==typeof c&&c<=Math.min(this.rowsPerPage,this.rowCount)&&(b=!0)}b&&this.needPage(this.page,this.pageTop);b=this.page<this.pageCount-1?this.rowsPerPage:this.rowCount%this.rowsPerPage||this.rowsPerPage;
c=this.getPageHeight(this.page);this.averageRowHeight=0<c&&0<b?c/b:0},calcLastPageHeight:function(){if(!this.pageCount)return 0;var b=(this.rowCount%this.rowsPerPage||this.rowsPerPage)*this.defaultRowHeight;return this.pageHeights[this.pageCount-1]=b},updateContentHeight:function(b){this.height+=b;this.resize()},updatePageHeight:function(b,c,d){if(this.pageExists(b)){var a=this.getPageHeight(b),h=this.measurePage(b);void 0===h&&(h=a);this.pageHeights[b]=h;if(a!=h){this.updateContentHeight(h-a);var g=
this.grid.get("autoHeight");"number"==typeof g&&g>this.rowCount||!0===g&&!c?d?(c=this.grid.viewsNode.style,c.height=parseInt(c.height)+h-a+"px",this.repositionPages(b)):this.grid.sizeChange():this.repositionPages(b)}return h}return 0},rowHeightChanged:function(b,c){this.updatePageHeight(Math.floor(b/this.rowsPerPage),!1,c)},invalidateNodes:function(){for(;this.stack.length;)this.destroyPage(this.popPage())},createPageNode:function(){var b=document.createElement("div");c.attr(b,"role","presentation");
b.style.position="absolute";b.style[this.grid.isLeftToRight()?"left":"right"]="0";return b},getPageHeight:function(b){b=this.pageHeights[b];return void 0!==b?b:this.defaultPageHeight},pushPage:function(b){return this.stack.push(b)},popPage:function(){return this.stack.shift()},findPage:function(b){for(var c=0,d=0,a=0;c<this.pageCount&&!(a=this.getPageHeight(c),d+a>=b);c++,d+=a);this.page=c;this.pageTop=d},buildPage:function(b,c,d){this.preparePage(b,c);this.positionPage(b,d);this.installPage(b);this.renderPage(b);
this.pushPage(b)},needPage:function(b,c){var d=this.getPageHeight(b);this.pageExists(b)?this.positionPage(b,c):(this.buildPage(b,!this.grid._autoHeight&&this.keepPages&&this.stack.length>=this.keepPages,c),d=this.updatePageHeight(b,!0));return d},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop)},scroll:function(b){this.grid.scrollTop=b;if(this.colCount){this.startPacify();this.findPage(b);for(var c=this.height,d=this.getScrollBottom(b),a=this.page,h=this.pageTop;a<this.pageCount&&(0>
d||h<d);a++)h+=this.needPage(a,h);this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,b);this.lastVisibleRow=this.getLastVisibleRow(a-1,h,d);c!=this.height&&this.repositionPages(a-1);this.endPacify()}},getScrollBottom:function(b){return 0<=this.windowHeight?b+this.windowHeight:-1},processNodeEvent:function(b,c){for(var d=b.target;d&&d!=c&&d.parentNode&&d.parentNode.parentNode!=c;)d=d.parentNode;if(!d||!d.parentNode||d.parentNode.parentNode!=c)return!1;b.topRowIndex=d.parentNode.pageIndex*
this.rowsPerPage;var a=b.topRowIndex,h;a:{h=0;for(var g,e=d.parentNode;g=e.childNodes[h++];)if(g==d){h-=1;break a}h=-1}b.rowIndex=a+h;b.rowTarget=d;return!0},processEvent:function(b){return this.processNodeEvent(b,this.contentNode)},renderRow:function(){},removeRow:function(){},getDefaultPageNode:function(b){return this.getDefaultNodes()[b]},positionPageNode:function(){},getPageNodePosition:function(b){return b.offsetTop},invalidatePageNode:function(b,c){var f=c[b];if(f)delete c[b],this.removePage(b,
f),d(f),f.innerHTML="";return f},getPageRow:function(b){return b*this.rowsPerPage},getLastPageRow:function(b){return Math.min(this.rowCount,this.getPageRow(b+1))-1},getFirstVisibleRow:function(b,c,d){if(!this.pageExists(b))return 0;for(var a=this.getPageRow(b),h=this.getDefaultNodes(),b=g(h[b],"div"),h=0,e=b.length;h<e&&c<d;h++,a++)c+=b[h].offsetHeight;return a?a-1:a},getLastVisibleRow:function(b,c,d){if(!this.pageExists(b))return 0;for(var a=this.getDefaultNodes(),h=this.getLastPageRow(b),b=g(a[b],
"div"),a=b.length-1;0<=a&&c>d;a--,h--)c-=b[a].offsetHeight;return h+1},findTopRow:function(b){for(var c=this.getDefaultNodes(),c=g(c[this.page],"div"),d=0,a=c.length,h=this.pageTop,e;d<a;d++)if(e=c[d].offsetHeight,h+=e,h>=b)return this.offset=e-(h-b),d+this.page*this.rowsPerPage;return-1},findScrollTop:function(b){var c=Math.floor(b/this.rowsPerPage),d=0,a;for(a=0;a<c;a++)d+=this.getPageHeight(a);this.pageTop=d;this.page=c;this.needPage(c,this.pageTop);a=this.getDefaultNodes();var h=g(a[c],"div"),
c=b-this.rowsPerPage*c;for(a=0,b=h.length;a<b&&a<c;a++)d+=h[a].offsetHeight;return d},dummy:0})})},"dojox/grid/_Events":function(){define("dojox/grid/_Events",["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(k,m,j,e,c){return j("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(c){this.dispatchKeyEvent(c)},onContentEvent:function(c){this.dispatchContentEvent(c)},onHeaderEvent:function(c){this.dispatchHeaderEvent(c)},onStyleRow:function(c){c.customClasses+=
(c.odd?" dojoxGridRowOdd":"")+(c.selected?" dojoxGridRowSelected":"")+(c.over?" dojoxGridRowOver":"");this.focus.styleRow(c);this.edit.styleRow(c)},onKeyDown:function(c){if(!c.altKey&&!c.metaKey){var g;switch(c.keyCode){case k.ESCAPE:this.edit.cancel();break;case k.ENTER:if(!this.edit.isEditing()){g=this.focus.getHeaderIndex();if(0<=g){this.setSortIndex(g);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(c),c.shiftKey);e.stop(c)}c.shiftKey||(g=this.edit.isEditing(),this.edit.apply(),
g||this.edit.setEditCell(this.focus.cell,this.focus.rowIndex));this.edit.isEditing()||((this.focus.focusView||this.views.views[0]).content.decorateEvent(c),this.onRowClick(c),e.stop(c));break;case k.SPACE:if(!this.edit.isEditing()){g=this.focus.getHeaderIndex();if(0<=g){this.setSortIndex(g);break}else this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(c),c.shiftKey);e.stop(c)}break;case k.TAB:this.focus[c.shiftKey?"previousKey":"nextKey"](c);break;case k.LEFT_ARROW:case k.RIGHT_ARROW:if(!this.edit.isEditing()){var b=
c.keyCode;e.stop(c);g=this.focus.getHeaderIndex();0<=g&&c.shiftKey&&c.ctrlKey?this.focus.colSizeAdjust(c,g,5*(b==k.LEFT_ARROW?-1:1)):(c=b==k.LEFT_ARROW?1:-1,this.isLeftToRight()&&(c*=-1),this.focus.move(0,c))}break;case k.UP_ARROW:!this.edit.isEditing()&&0!==this.focus.rowIndex&&(e.stop(c),this.focus.move(-1,0));break;case k.DOWN_ARROW:!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount&&(e.stop(c),this.focus.move(1,0));break;case k.PAGE_UP:!this.edit.isEditing()&&0!==this.focus.rowIndex&&
(e.stop(c),this.focus.rowIndex!=this.scroller.firstVisibleRow+1?this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1)),this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0)));break;case k.PAGE_DOWN:!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount&&(e.stop(c),this.focus.rowIndex!=this.scroller.lastVisibleRow-1?this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,
0):(this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1)),this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0)))}}},onMouseOver:function(c){-1==c.rowIndex?this.onHeaderCellMouseOver(c):this.onCellMouseOver(c)},onMouseOut:function(c){-1==c.rowIndex?this.onHeaderCellMouseOut(c):this.onCellMouseOut(c)},onMouseDown:function(c){-1==c.rowIndex?this.onHeaderCellMouseDown(c):this.onCellMouseDown(c)},onMouseOverRow:function(c){this.rows.isOver(c.rowIndex)||(this.rows.setOverRow(c.rowIndex),
-1==c.rowIndex?this.onHeaderMouseOver(c):this.onRowMouseOver(c))},onMouseOutRow:function(c){if(this.rows.isOver(-1))this.onHeaderMouseOut(c);else this.rows.isOver(-2)||(this.rows.setOverRow(-2),this.onRowMouseOut(c))},onMouseDownRow:function(c){if(-1!=c.rowIndex)this.onRowMouseDown(c)},onCellMouseOver:function(c){c.cellNode&&m.add(c.cellNode,this.cellOverClass)},onCellMouseOut:function(c){c.cellNode&&m.remove(c.cellNode,this.cellOverClass)},onCellMouseDown:function(){},onCellClick:function(c){this._click[0]=
this._click[1];this._click[1]=c;this.edit.isEditCell(c.rowIndex,c.cellIndex)||this.focus.setFocusCell(c.cell,c.rowIndex);1<this._click.length&&null==this._click[0]&&this._click.shift();this.onRowClick(c)},onCellDblClick:function(d){var g;g=1<this._click.length&&c("ie")?this._click[1]:1<this._click.length&&this._click[0].rowIndex!=this._click[1].rowIndex?this._click[0]:d;this.focus.setFocusCell(g.cell,g.rowIndex);this.onRowClick(g);this.edit.setEditCell(g.cell,g.rowIndex);this.onRowDblClick(d)},onCellContextMenu:function(c){this.onRowContextMenu(c)},
onCellFocus:function(c,g){this.edit.cellFocus(c,g)},onRowClick:function(c){this.edit.rowClick(c);this.selection.clickSelectEvent(c)},onRowDblClick:function(){},onRowMouseOver:function(){},onRowMouseOut:function(){},onRowMouseDown:function(){},onRowContextMenu:function(c){e.stop(c)},onHeaderMouseOver:function(){},onHeaderMouseOut:function(){},onHeaderCellMouseOver:function(c){c.cellNode&&m.add(c.cellNode,this.cellOverClass)},onHeaderCellMouseOut:function(c){c.cellNode&&m.remove(c.cellNode,this.cellOverClass)},
onHeaderCellMouseDown:function(){},onHeaderClick:function(){},onHeaderCellClick:function(c){this.setSortIndex(c.cell.index);this.onHeaderClick(c)},onHeaderDblClick:function(){},onHeaderCellDblClick:function(c){this.onHeaderDblClick(c)},onHeaderCellContextMenu:function(c){this.onHeaderContextMenu(c)},onHeaderContextMenu:function(c){this.headerMenu||e.stop(c)},onStartEdit:function(){},onApplyCellEdit:function(){},onCancelEdit:function(){},onApplyEdit:function(){},onCanSelect:function(){return!0},onCanDeselect:function(){return!0},
onSelected:function(c){this.updateRowStyles(c)},onDeselected:function(c){this.updateRowStyles(c)},onSelectionChanged:function(){}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),function(k,m,j,e,c,d){var g={};k.setObject("dojo.dnd.autoscroll",g);g.getViewport=d.getBox;g.V_TRIGGER_AUTOSCROLL=32;g.H_TRIGGER_AUTOSCROLL=32;g.V_AUTOSCROLL_VALUE=16;g.H_AUTOSCROLL_VALUE=16;var b,i=j.doc,f=Infinity,a=Infinity;g.autoScrollStart=
function(c){i=c;b=d.getBox(i);c=j.body(i).parentNode;f=Math.max(c.scrollHeight-b.h,0);a=Math.max(c.scrollWidth-b.w,0)};g.autoScroll=function(c){var e=b||d.getBox(i),n=j.body(i).parentNode,r=0,p=0;c.clientX<g.H_TRIGGER_AUTOSCROLL?r=-g.H_AUTOSCROLL_VALUE:c.clientX>e.w-g.H_TRIGGER_AUTOSCROLL&&(r=Math.min(g.H_AUTOSCROLL_VALUE,a-n.scrollLeft));c.clientY<g.V_TRIGGER_AUTOSCROLL?p=-g.V_AUTOSCROLL_VALUE:c.clientY>e.h-g.V_TRIGGER_AUTOSCROLL&&(p=Math.min(g.V_AUTOSCROLL_VALUE,f-n.scrollTop));window.scrollBy(r,
p)};g._validNodes={div:1,p:1,td:1};g._validOverflow={auto:1,scroll:1};g.autoScrollNodes=function(a){for(var b,d,f,i,q,o,v=0,l=0,u=a.target;u;){if(1==u.nodeType&&u.tagName.toLowerCase()in g._validNodes){f=c.getComputedStyle(u);i=f.overflow.toLowerCase()in g._validOverflow;q=f.overflowX.toLowerCase()in g._validOverflow;o=f.overflowY.toLowerCase()in g._validOverflow;if(i||q||o)b=e.getContentBox(u,f),d=e.position(u,!0);if(i||q){f=Math.min(g.H_TRIGGER_AUTOSCROLL,b.w/2);q=a.pageX-d.x;if(m("webkit")||m("opera"))q+=
j.body().scrollLeft;v=0;0<q&&q<b.w&&(q<f?v=-f:q>b.w-f&&(v=f),u.scrollLeft+=v)}if(i||o){i=Math.min(g.V_TRIGGER_AUTOSCROLL,b.h/2);o=a.pageY-d.y;if(m("webkit")||m("opera"))o+=j.body().scrollTop;l=0;0<o&&o<b.h&&(o<i?l=-i:o>b.h-i&&(l=i),u.scrollTop+=l)}if(v||l)return}try{u=u.parentNode}catch(s){u=null}}g.autoScroll(a)};return g})},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(k,m,j,e,c){var d={},g={},b={length:0,
add:function(b){if(g[b.id])throw Error("Tried to register widget with id=="+b.id+" but that id is already registered");g[b.id]=b;this.length++},remove:function(b){g[b]&&(delete g[b],this.length--)},byId:function(b){return"string"==typeof b?g[b]:b},byNode:function(b){return g[b.getAttribute("widgetId")]},toArray:function(){var b=[],c;for(c in g)b.push(g[c]);return b},getUniqueId:function(b){var f;do f=b+"_"+(b in d?++d[b]:d[b]=0);while(g[f]);return"dijit"==c._scopeName?f:c._scopeName+"_"+f},findWidgets:function(b,
c){function a(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var e=b.getAttribute("widgetId");e?(e=g[e])&&d.push(e):b!==c&&a(b)}}var d=[];a(b);return d},_destroyAll:function(){c._curFocus=null;c._prevFocus=null;c._activeStack=[];k.forEach(b.findWidgets(e.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var c=b.getAttribute&&b.getAttribute("widgetId");if(c)return g[c];b=b.parentNode}return null},
_hash:g};return c.registry=b})},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(k,m,j){return j("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){k.forEach(arguments,function(e){var c="destroyRecursive"in e?"destroyRecursive":"destroy"in e?"destroy":"remove";e._odh=m.before(this,"destroy",function(d){e._odh.remove();e[c](d)});m.after(e,c,function(){e._odh.remove()})},this);return arguments}})})},
"dojox/html/metrics":function(){define("dojox/html/metrics","dojo/_base/kernel,dojo/_base/lang,dojo/_base/sniff,dojo/ready,dojo/_base/unload,dojo/_base/window,dojo/dom-geometry".split(","),function(k,m,j,e,c,d,g){var b=m.getObject("dojox.html.metrics",!0),i=m.getObject("dojox");b.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(j("ie"))d.doc.documentElement.style.fontSize="100%";var b=d.doc.createElement("div"),
c=b.style;c.position="absolute";c.left="-100px";c.top="0";c.width="30px";c.height="1000em";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";c.lineHeight="1";c.overflow="hidden";d.body().appendChild(b);for(var f in a)c.fontSize=f,a[f]=16*Math.round(12*b.offsetHeight/16)/12/1E3;d.body().removeChild(b);return a};var f=null;b.getCachedFontMeasurements=function(a){if(a||!f)f=b.getFontMeasurements();return f};var a=null,h={};b.getTextBox=function(b,c,f){var e,i;if(a)e=a;else{e=a=d.doc.createElement("div");
var l=d.doc.createElement("div");l.appendChild(e);i=l.style;i.overflow="scroll";i.position="absolute";i.left="0px";i.top="-10000px";i.width="1px";i.height="1px";i.visibility="hidden";i.borderWidth="0";i.margin="0";i.padding="0";i.outline="0";d.body().appendChild(l)}e.className="";i=e.style;i.borderWidth="0";i.margin="0";i.padding="0";i.outline="0";if(1<arguments.length&&c)for(var u in c)u in h||(i[u]=c[u]);if(2<arguments.length&&f)e.className=f;e.innerHTML=b;i=g.position(e);i.w=e.parentNode.scrollWidth;
return i};var t=16,n=16;b.getScrollbar=function(){return{w:t,h:n}};b._fontResizeNode=null;b.initOnFontResize=function(){var a=b._fontResizeNode=d.doc.createElement("iframe"),c=a.style;c.position="absolute";c.width="5em";c.height="10em";c.top="-10000px";c.display="none";j("ie")?a.onreadystatechange=function(){if("complete"==a.contentWindow.document.readyState)a.onresize=a.contentWindow.parent[i._scopeName].html.metrics._fontresize}:a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[i._scopeName].html.metrics._fontresize};
a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");d.body().appendChild(a);b.initOnFontResize=function(){}};b.onFontResize=function(){};b._fontresize=function(){b.onFontResize()};c.addOnUnload(function(){var a=b._fontResizeNode;if(a){if(j("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;b._fontResizeNode=null}});e(function(){try{var a=
d.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";d.body().appendChild(a);t=a.offsetWidth-a.clientWidth;n=a.offsetHeight-a.clientHeight;d.body().removeChild(a);delete a}catch(c){}"fontSizeWatch"in k.config&&k.config.fontSizeWatch&&b.initOnFontResize()});return b})},"dojox/grid/_EditManager":function(){define("dojo/_base/lang,dojo/_base/array,dojo/_base/declare,dojo/_base/connect,dojo/_base/sniff,./util".split(","),
function(k,m,j,e,c,d){return j("dojox.grid._EditManager",null,{constructor:function(d){this.grid=d;this.connections=c("ie")?[e.connect(document.body,"onfocus",k.hitch(this,"_boomerangFocus"))]:[e.connect(this.grid,"onBlur",this,"apply")]},info:{},destroy:function(){m.forEach(this.connections,e.disconnect)},cellFocus:function(c,b){this.grid.singleClickEdit||this.isEditRow(b)?this.setEditCell(c,b):this.apply();(this.isEditing()||c&&c.editable&&c.alwaysEditing)&&this._focusEditor(c,b)},rowClick:function(c){this.isEditing()&&
!this.isEditRow(c.rowIndex)&&this.apply()},styleRow:function(c){c.index==this.info.rowIndex&&(c.customClasses+=" dojoxGridRowEditing")},dispatchEvent:function(c){var b=c.cell;return(b=b&&b.editable?b:0)&&b.dispatchEvent(c.dispatch,c)},isEditing:function(){return void 0!==this.info.rowIndex},isEditCell:function(c,b){return this.info.rowIndex===c&&this.info.cell.index==b},isEditRow:function(c){return this.info.rowIndex===c},setEditCell:function(c,b){!this.isEditCell(b,c.index)&&this.grid.canEdit&&this.grid.canEdit(c,
b)&&this.start(c,b,this.isEditRow(b)||c.editable)},_focusEditor:function(c,b){d.fire(c,"focus",[b])},focusEditor:function(){this.isEditing()&&this._focusEditor(this.info.cell,this.info.rowIndex)},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>(new Date).getTime()},_boomerangFocus:function(){if(this._shouldCatchBoomerang())this.grid.focus.focusGrid(),this.focusEditor(),this._catchBoomerang=0},_doCatchBoomerang:function(){if(c("ie"))this._catchBoomerang=(new Date).getTime()+
this._boomerangWindow},start:function(c,b,d){if(this._isValidInput())this.grid.beginUpdate(),this.editorApply(),this.isEditing()&&!this.isEditRow(b)&&(this.applyRowEdit(),this.grid.updateRow(b)),d?(this.info={cell:c,rowIndex:b},this.grid.doStartEdit(c,b),this.grid.updateRow(b)):this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._focusEditor(c,b),this._doCatchBoomerang()},_editorDo:function(c){var b=this.info.cell;if(b&&b.editable)b[c](this.info.rowIndex)},editorApply:function(){this._editorDo("apply")},
editorCancel:function(){this._editorDo("cancel")},applyCellEdit:function(c,b,d){this.grid.canEdit(b,d)&&this.grid.doApplyCellEdit(c,d,b.field)},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field)},apply:function(){if(this.isEditing()&&this._isValidInput())this.grid.beginUpdate(),this.editorApply(),this.applyRowEdit(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang()},cancel:function(){if(this.isEditing())this.grid.beginUpdate(),
this.editorCancel(),this.info={},this.grid.endUpdate(),this.grid.focus.focusGrid(),this._doCatchBoomerang()},save:function(c,b){var d=this.info.cell;this.isEditRow(c)&&(!b||d.view==b)&&d.editable&&d.save(d,this.info.rowIndex)},restore:function(c,b){var d=this.info.cell;this.isEditRow(b)&&d.view==c&&d.editable&&d.restore(this.info.rowIndex)},_isValidInput:function(){var c=(this.info.cell||{}).widget;if(!c||!c.isValid)return!0;c.focused=!0;return c.isValid(!0)}})})},"dijit/a11y":function(){define("dijit/a11y",
"dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),function(k,m,j,e,c,d,g,b){var i=b._isElementShown=function(a){var b=d.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=c.get(a,"type")};b.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return c.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;
try{var d=a.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;b=d.body}catch(f){try{b=a.contentWindow.document.body}catch(e){return!1}}return b&&("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}};var f=b.isTabNavigable=function(a){return c.get(a,"disabled")?!1:c.has(a,"tabIndex")?0<=c.get(a,"tabIndex"):b.hasDefaultTabStop(a)};b._getTabNavigable=function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&
a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var d,e,r,j,q,o,v={},l=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||g("ie")&&"HTML"!==a.scopeName||!i(a))){if(f(a)){var s=+c.get(a,"tabIndex");if(!c.has(a,"tabIndex")||0==s)d||(d=a),e=a;else if(0<s){if(!r||s<j)j=s,r=a;if(!q||s>=o)o=s,q=a}s=b(a);c.get(a,"checked")&&s&&(v[s]=a)}"SELECT"!=a.nodeName.toUpperCase()&&l(a)}};i(a)&&l(a);return{first:v[b(d)]||d,last:v[b(e)]||e,lowest:v[b(r)]||r,highest:v[b(q)]||q}};
b.getFirstInTabbingOrder=function(a,c){var d=b._getTabNavigable(e.byId(a,c));return d.lowest?d.lowest:d.first};b.getLastInTabbingOrder=function(a,c){var d=b._getTabNavigable(e.byId(a,c));return d.last?d.last:d.highest};return{hasDefaultTabStop:b.hasDefaultTabStop,isTabNavigable:b.isTabNavigable,_getTabNavigable:b._getTabNavigable,getFirstInTabbingOrder:b.getFirstInTabbingOrder,getLastInTabbingOrder:b.getLastInTabbingOrder}})},"dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitemcheckbox" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t\t<span class="dijitCheckedMenuItemIconChar">&#10003;</span>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,labelNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">&#160;</td>\n</tr>\n'}});
define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(k,m,j,e){return k("dijit.CheckedMenuItem",j,{templateString:e,checked:!1,_setCheckedAttr:function(c){m.toggle(this.domNode,"dijitCheckedMenuItemChecked",c);this.domNode.setAttribute("aria-checked",c?"true":"false");this._set("checked",c)},iconClass:"",onChange:function(){},_onClick:function(c){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));
this.onClick(c)}})})},"dojo/dnd/Container":function(){define("../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../_base/window,../dom,../dom-class,../dom-construct,../Evented,../has,../on,../query,../ready,../touch,./common".split(","),function(k,m,j,e,c,d,g,b,i,f,a,h,t,n,r,p){m=m("dojo.dnd.Container",f,{skipForm:!1,allowNested:!1,constructor:function(a,d){this.node=g.byId(a);d||(d={});this.creator=d.creator||null;this.skipForm=d.skipForm;this.parent=d.dropParent&&g.byId(d.dropParent);
this.map={};this.current=null;this.containerState="";b.add(this.node,"dojoDndContainer");(!d||!d._skipStartup)&&this.startup();this.events=[h(this.node,r.over,c.hitch(this,"onMouseOver")),h(this.node,r.out,c.hitch(this,"onMouseOut")),h(this.node,"dragstart",c.hitch(this,"onSelectStart")),h(this.node,"selectstart",c.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,
b){var b=b||e.global,c=this.map,l=p._empty,d;for(d in c)d in l||a.call(b,c[d],d,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return t((this.allowNested?"":"> ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=p.getUniqueId();var c=b.getAttribute("dndType"),l=b.getAttribute("dndData");a[b.id]={data:l||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=
a;return this},insertNodes:function(a,b,c){if(this.parent.firstChild)if(b){if(!c)c=this.parent.firstChild}else{if(c)c=c.nextSibling}else c=null;var l;if(c)for(b=0;b<a.length;++b)l=this._normalizedCreator(a[b]),this.setItem(l.node.id,{data:l.data,type:l.type}),c.parentNode.insertBefore(l.node,c);else for(b=0;b<a.length;++b)l=this._normalizedCreator(a[b]),this.setItem(l.node.id,{data:l.data,type:l.type}),this.parent.appendChild(l.node);return this},destroy:function(){k.forEach(this.events,function(a){a.remove()});
this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");if(a&&a.length)this.parent=a[0]}this.defaultCreator=p._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&!(b==this.node);)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container",
"Over"),this.onOverEvent());b=this._getChildByEvent(a);if(this.current!=b)this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}if(this.current)this._removeItemClass(this.current,"Over"),this.current=null;this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){(!this.skipForm||!p.isFormElement(a))&&j.stop(a)},onOverEvent:function(){},
onOutEvent:function(){},_changeState:function(a,c){var d="dojoDnd"+a,l=a.toLowerCase()+"State";b.replace(this.node,d+c,d+this[l]);this[l]=c},_addItemClass:function(a,c){b.add(a,"dojoDndItem"+c)},_removeItemClass:function(a,c){b.remove(a,"dojoDndItem"+c)},_getChildByEvent:function(a){if(a=a.target)for(var c=a.parentNode;c;a=c,c=a.parentNode)if((c==this.parent||this.allowNested)&&b.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,d){var f=(this.creator||this.defaultCreator).call(this,
a,d);if(!c.isArray(f.type))f.type=["text"];if(!f.node.id)f.node.id=p.getUniqueId();b.add(f.node,"dojoDndItem");return f}});p._createNode=function(a){return!a?p._createSpan:function(b){return i.create(a,{innerHTML:b})}};p._createTrTd=function(a){var b=i.create("tr");i.create("td",{innerHTML:a},b);return b};p._createSpan=function(a){return i.create("span",{innerHTML:a})};p._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};p._defaultCreator=function(a){var a=a.tagName.toLowerCase(),b="tbody"==
a||"thead"==a?p._createTrTd:p._createNode(p._defaultCreatorNodes[a]);return function(a,l){var d=a&&c.isObject(a),f,h;d&&a.tagName&&a.nodeType&&a.getAttribute?(f=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],h=a):(f=d&&a.data?a.data:a,d=d&&a.type?a.type:["text"],h=("avatar"==l?p._createSpan:b)(""+f));if(!h.id)h.id=p.getUniqueId();return{node:h,data:f,type:d}}};return m})},"dojo/dnd/common":function(){define(["../_base/connect","../_base/kernel",
"../_base/lang","../dom"],function(k,m,j,e){var c={};c.getCopyKeyState=k.isCopyKey;c._uniqueId=0;c.getUniqueId=function(){var d;do d=m._scopeName+"Unique"+ ++c._uniqueId;while(e.byId(d));return d};c._empty={};c.isFormElement=function(c){c=c.target;if(3==c.nodeType)c=c.parentNode;return 0<=" button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+" ")};j.mixin(j.getObject("dojo.dnd",!0),c);return c})},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff",
"dojo/dom-class"],function(k,m,j){return k("dojox.grid._ViewManager",null,{constructor:function(e){this.grid=e},defaultWidth:200,views:[],resize:function(){this.onEach("resize")},render:function(){this.onEach("render")},addView:function(e){e.idx=this.views.length;this.views.push(e)},destroyViews:function(){for(var e=0,c;c=this.views[e];e++)c.destroy();this.views=[]},getContentNodes:function(){for(var e=[],c=0,d;d=this.views[c];c++)e.push(d.contentNode);return e},forEach:function(e){for(var c=0,d;d=
this.views[c];c++)e(d,c)},onEach:function(e,c){for(var c=c||[],d=0,g;g=this.views[d];d++)e in g&&g[e].apply(g,c)},normalizeHeaderNodeHeight:function(){for(var e=[],c=0,d;d=this.views[c];c++)d.headerContentNode.firstChild&&e.push(d.headerContentNode);this.normalizeRowNodeHeights(e)},normalizeRowNodeHeights:function(e){var c=0,d=[];if(this.grid.rowHeight)c=this.grid.rowHeight;else{if(1>=e.length)return;for(var g=0,b;b=e[g];g++)if(!j.contains(b,"dojoxGridNonNormalizedCell"))d[g]=b.firstChild.offsetHeight,
c=Math.max(c,d[g]);c=0<=c?c:0;(m("mozilla")||8<m("ie"))&&c&&c++}for(g=0;b=e[g];g++)if(d[g]!=c)b.firstChild.style.height=c+"px"},resetHeaderNodeHeight:function(){for(var e=0,c;c=this.views[e];e++)if(c=c.headerContentNode.firstChild)c.style.height=""},renormalizeRow:function(e){for(var c=[],d=0,g,b;(g=this.views[d])&&(b=g.getRowNode(e));d++)b.firstChild.style.height="",c.push(b);this.normalizeRowNodeHeights(c)},getViewWidth:function(e){return this.views[e].getWidth()||this.defaultWidth},measureHeader:function(){this.resetHeaderNodeHeight();
this.forEach(function(c){c.headerContentNode.style.height=""});var e=0;this.forEach(function(c){e=Math.max(c.headerNode.offsetHeight,e)});return e},measureContent:function(){var e=0;this.forEach(function(c){e=Math.max(c.domNode.offsetHeight,e)});return e},findClient:function(){var e=this.grid.elasticView||-1;if(0>e)for(var c=1,d;d=this.views[c];c++)if(d.viewWidth){for(c=1;d=this.views[c];c++)if(!d.viewWidth){e=c;break}break}0>e&&(e=Math.floor(this.views.length/2));return e},arrange:function(e,c){var d,
g,b,i=this.views.length,f=this,a=0>=c?i:this.findClient(),h=function(a,b){var c=a.domNode.style,d=a.headerNode.style;if(f.grid.isLeftToRight())c.left=b+"px",d.left=b+"px";else if(c.right=b+"px",d.right=4>m("ff")?b+a.getScrollbarWidth()+"px":b+"px",!m("webkit"))d.width=parseInt(d.width,10)-a.getScrollbarWidth()+"px";c.top="0px";d.top=0};for(d=0;(g=this.views[d])&&d<a;d++)b=this.getViewWidth(d),g.setSize(b,0),h(g,e),b=g.headerContentNode&&g.headerContentNode.firstChild?g.getColumnsWidth()+g.getScrollbarWidth():
g.domNode.offsetWidth,e+=b;d++;for(var j=c,n=i-1;(g=this.views[n])&&d<=n;n--)b=this.getViewWidth(n),g.setSize(b,0),b=g.domNode.offsetWidth,j-=b,h(g,j);a<i&&(g=this.views[a],b=Math.max(1,j-e),g.setSize(b+"px",0),h(g,e));return e},renderRow:function(e,c,d){for(var g=[],b=0,i,f;(i=this.views[b])&&(f=c[b]);b++)i=i.renderRow(e),f.appendChild(i),g.push(i);d||this.normalizeRowNodeHeights(g)},rowRemoved:function(e){this.onEach("rowRemoved",[e])},updateRow:function(e,c){for(var d=0,g;g=this.views[d];d++)g.updateRow(e);
c||this.renormalizeRow(e)},updateRowStyles:function(e){this.onEach("updateRowStyles",[e])},setScrollTop:function(e){for(var c=e,d=0,g;g=this.views[d];d++)if(c=g.setScrollTop(e),m("ie")&&g.headerNode&&g.scrollboxNode)g.headerNode.scrollLeft=g.scrollboxNode.scrollLeft;return c},getFirstScrollingView:function(){for(var e=0,c;c=this.views[e];e++)if(c.hasHScrollbar()||c.hasVScrollbar())return c;return null}})})},"dojox/grid/cells":function(){define("dojox/grid/cells",["../main","./cells/_base"],function(k){return k.grid.cells})},
"dijit/_Widget":function(){define("dijit/_Widget","dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),function(k,m,j,e,c,d,g,b,i,f,a,h,t){function n(){}function r(a){return function(b,c,d,l){return b&&"string"==typeof c&&b[c]==n?b.on(c.substring(2).toLowerCase(),g.hitch(d,l)):a.apply(j,arguments)}}k.around(j,"connect",r);d.connect&&
k.around(d,"connect",r);k=e("dijit._Widget",[a,h,t],{onClick:n,onDblClick:n,onKeyDown:n,onKeyPress:n,onKeyUp:n,onMouseDown:n,onMouseMove:n,onMouseOut:n,onMouseOver:n,onMouseLeave:n,onMouseEnter:n,onMouseUp:n,constructor:function(a){this._toConnect={};for(var b in a)this[b]===n&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===
n?j.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){if(m.isDebug){var c=arguments.callee._ach||(arguments.callee._ach={}),f=(arguments.callee.caller||"unknown caller").toString();c[f]||(d.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+
f,"","2.0"),c[f]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?b("[widgetId]",this.containerNode).map(f.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});c("dijit-legacy-requires")&&i(0,function(){require(["dijit/_base"])});return k})},
"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(k,m,j,e){e.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return j("dijit._FocusMixin",null,{_focusManager:k})})},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin","dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window,./a11yclick".split(","),
function(k,m,j,e,c,d,g,b){k=e("dijit._OnDijitClickMixin",null,{connect:function(c,d,a){return this.inherited(arguments,[c,"ondijitclick"==d?b:d,a])}});k.a11yclick=b;return k})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(k){return k.cache})},"dijit/focus":function(){define("dijit/focus","dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(k,m,j,e,c,d,g,b,i,f,a,h,t,n,r,p,q){var o=new (m([a,d],{curNode:null,activeStack:[],constructor:function(){var a=g.hitch(this,function(a){j.isDescendant(this.curNode,a)&&this.set("curNode",null);j.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});k.before(c,"empty",a);k.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,d=function(a){c._justMouseDowned=!0;setTimeout(function(){c._justMouseDowned=!1},0);
if(!f("ie")||!a||!(a.srcElement&&null==a.srcElement.parentNode))c._onTouchNode(b||a.target||a.srcElement,"mouse")},h=f("ie")?a.document.documentElement:a.document;if(h){if(f("ie")){a.document.body.attachEvent("onmousedown",d);var e=function(a){var d=a.srcElement.tagName.toLowerCase();"#document"==d||"body"==d||(r.isTabNavigable(a.srcElement)?c._onFocusNode(b||a.srcElement):c._onTouchNode(b||a.srcElement))};h.attachEvent("onfocusin",e);var g=function(a){c._onBlurNode(b||a.srcElement)};h.attachEvent("onfocusout",
g);return{remove:function(){a.document.detachEvent("onmousedown",d);h.detachEvent("onfocusin",e);h.detachEvent("onfocusout",g);h=null}}}h.body.addEventListener("mousedown",d,!0);h.body.addEventListener("touchstart",d,!0);var i=function(a){c._onFocusNode(b||a.target)};h.addEventListener("focus",i,!0);var o=function(a){c._onBlurNode(b||a.target)};h.addEventListener("blur",o,!0);return{remove:function(){h.body.removeEventListener("mousedown",d,!0);h.body.removeEventListener("touchstart",d,!0);h.removeEventListener("focus",
i,!0);h.removeEventListener("blur",o,!0);h=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(g.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(g.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,
b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var c=[];try{for(;a;){var d=e.get(a,"dijitPopupParent");if(d)a=p.byId(d).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===t.body())break;a=n.get(a.ownerDocument).frameElement}else{var f=a.getAttribute&&a.getAttribute("widgetId"),h=f&&p.byId(f);h&&!("mouse"==b&&h.get("disabled"))&&c.unshift(f);a=a.parentNode}}}catch(g){}this._setStack(c,b)},_onFocusNode:function(a){a&&
9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(c.length,a.length)&&!(c[d]!=a[d]);d++);for(var f,h=c.length-1;h>=d;h--)if(f=p.byId(c[h]))f._hasBeenBlurred=!0,f.set("focused",!1),f._focusManager==this&&f._onBlur(b),this.emit("widget-blur",f,b);for(h=
d;h<a.length;h++)if(f=p.byId(a[h]))f.set("focused",!0),f._focusManager==this&&f._onFocus(b),this.emit("widget-focus",f,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));i(function(){var a=o.registerWin(n.get(t.doc));f("ie")&&h.addOnWindowUnload(function(){a&&(a.remove(),a=null)})});q.focus=function(a){o.focus(a)};for(var v in o)/^_/.test(v)||(q.focus[v]="function"==typeof o[v]?g.hitch(o,v):o[v]);o.watch(function(a,b,c){q.focus[a]=c});return o})},"dojox/grid/util":function(){define("dojox/grid/util",
["../main","dojo/_base/lang","dojo/dom"],function(k,m,j){var e=m.getObject("grid.util",!0,k);e.na="...";e.rowIndexTag="gridRowIndex";e.gridViewTag="gridView";e.fire=function(c,d,e){var b=c&&d&&c[d];return b&&(e?b.apply(c,e):c[d]())};e.setStyleHeightPx=function(c,d){if(0<=d){var e=c.style,b=d+"px";c&&e.height!=b&&(e.height=b)}};e.mouseEvents="mouseover,mouseout,mousedown,mouseup,click,dblclick,contextmenu".split(",");e.keyEvents=["keyup","keydown","keypress"];e.funnelEvents=function(c,d,g,b){for(var b=
b?b:e.mouseEvents.concat(e.keyEvents),i=0,f=b.length;i<f;i++)d.connect(c,"on"+b[i],g)};e.removeNode=function(c){(c=j.byId(c))&&c.parentNode&&c.parentNode.removeChild(c);return c};e.arrayCompare=function(c,d){for(var e=0,b=c.length;e<b;e++)if(c[e]!=d[e])return!1;return c.length==d.length};e.arrayInsert=function(c,d,e){c.length<=d?c[d]=e:c.splice(d,0,e)};e.arrayRemove=function(c,d){c.splice(d,1)};e.arraySwap=function(c,d,e){var b=c[d];c[d]=c[e];c[e]=b};return e})},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n',
"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(k){return k.dijit})},"url:dojox/grid/resources/View.html":'<div class="dojoxGridView" role="presentation">\n\t<div class="dojoxGridHeader" dojoAttachPoint="headerNode" role="presentation">\n\t\t<div dojoAttachPoint="headerNodeContainer" style="width:9000em" role="presentation">\n\t\t\t<div dojoAttachPoint="headerContentNode" role="row"></div>\n\t\t</div>\n\t</div>\n\t<input type="checkbox" class="dojoxGridHiddenFocus" dojoAttachPoint="hiddenFocusNode" role="presentation" />\n\t<input type="checkbox" class="dojoxGridHiddenFocus" role="presentation" />\n\t<div class="dojoxGridScrollbox" dojoAttachPoint="scrollboxNode" role="presentation">\n\t\t<div class="dojoxGridContent" dojoAttachPoint="contentNode" hidefocus="hidefocus" role="presentation"></div>\n\t</div>\n</div>\n',
"dojox/grid/_FocusManager":function(){define("dojox/grid/_FocusManager","dojo/_base/array,dojo/_base/lang,dojo/_base/declare,dojo/_base/connect,dojo/_base/event,dojo/_base/sniff,dojo/query,./util,dojo/_base/html".split(","),function(k,m,j,e,c,d,g,b,i){return j("dojox.grid._FocusManager",null,{constructor:function(b){this.grid=b;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(e.connect(this.grid.domNode,"onfocus",this,
"doFocus"));this._connects.push(e.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(e.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(e.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(e.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(e.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(e.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));
this._connects.push(e.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(e.connect(this.grid,"postrender",this,"_delayedHeaderFocus"))},destroy:function(){k.forEach(this._connects,e.disconnect);k.forEach(this._headerConnects,e.disconnect);delete this.grid;delete this.cell},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:!1,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||
this.focusView||this.grid.views.views[0];this._initColumnHeaders()},isFocusCell:function(b,a){return this.cell==b&&this.rowIndex==a},isLastFocusCell:function(){return this.cell?this.rowIndex==this.grid.rowCount-1&&this.cell.index==this.grid.layout.cellCount-1:!1},isFirstFocusCell:function(){return this.cell?0===this.rowIndex&&0===this.cell.index:!1},isNoFocusCell:function(){return 0>this.rowIndex||!this.cell},isNavHeader:function(){return!!this._colHeadNode},getHeaderIndex:function(){return this._colHeadNode?
k.indexOf(this._findHeaderCells(),this._colHeadNode):-1},_focusifyCellNode:function(c){var a=this.cell&&this.cell.getNode(this.rowIndex);if(a&&(i.toggleClass(a,this.focusClass,c),c)){c=this.scrollIntoView();try{if(d("webkit")||!this.grid.edit.isEditing())if(b.fire(a,"focus"),c)this.cell.view.scrollboxNode.scrollLeft=c}catch(h){}}},_delayedCellFocus:function(){if(!this.isNavHeader()&&this.grid.focused){var c=this.cell&&this.cell.getNode(this.rowIndex);if(c)try{this.grid.edit.isEditing()||(i.toggleClass(c,
this.focusClass,!0),this._colHeadNode&&this.blurHeader(),b.fire(c,"focus"))}catch(a){}}},_delayedHeaderFocus:function(){this.isNavHeader()&&this.focusHeader()},_initColumnHeaders:function(){k.forEach(this._headerConnects,e.disconnect);this._headerConnects=[];for(var b=this._findHeaderCells(),a=0;a<b.length;a++)this._headerConnects.push(e.connect(b[a],"onfocus",this,"doColHeaderFocus")),this._headerConnects.push(e.connect(b[a],"onblur",this,"doColHeaderBlur"))},_findHeaderCells:function(){for(var b=
g("th",this.grid.viewsHeaderNode),a=[],c=0;c<b.length;c++){var d=b[c],e=i.hasAttr(d,"tabIndex"),r=i.attr(d,"tabIndex");e&&0>r&&a.push(d)}return a},_setActiveColHeader:function(b,a,c){this.grid.domNode.setAttribute("aria-activedescendant",b.id);null!=c&&0<=c&&c!=a&&i.toggleClass(this._findHeaderCells()[c],this.focusClass,!1);i.toggleClass(b,this.focusClass,!0);this._colHeadNode=b;this._colHeadFocusIdx=a;this._scrollHeader(this._colHeadFocusIdx)},scrollIntoView:function(){var b=this.cell?this._scrollInfo(this.cell):
null;if(!b||!b.s)return null;var a=this.grid.scroller.findScrollTop(this.rowIndex);if(b.n&&b.sr)if(b.n.offsetLeft+b.n.offsetWidth>b.sr.l+b.sr.w)b.s.scrollLeft=b.n.offsetLeft+b.n.offsetWidth-b.sr.w;else if(b.n.offsetLeft<b.sr.l)b.s.scrollLeft=b.n.offsetLeft;b.r&&b.sr&&(a+b.r.offsetHeight>b.sr.t+b.sr.h?this.grid.setScrollTop(a+b.r.offsetHeight-b.sr.h):a<b.sr.t&&this.grid.setScrollTop(a));return b.s.scrollLeft},_scrollInfo:function(b,a){if(b){var c=b.view.scrollboxNode,d={w:c.clientWidth,l:c.scrollLeft,
t:c.scrollTop,h:c.clientHeight},e=b.view.getRowNode(this.rowIndex);return{c:b,s:c,sr:d,n:a?a:b.getNode(this.rowIndex),r:e}}return null},_scrollHeader:function(b){var a=null;if(this._colHeadNode){var c=this.grid.getCell(b);if(!c)return;a=this._scrollInfo(c,c.getNode(0))}if(a&&a.s&&a.sr&&a.n)if(a.n.offsetLeft+a.n.offsetWidth>a.sr.l+a.sr.w)a.s.scrollLeft=a.n.offsetLeft+a.n.offsetWidth-a.sr.w;else if(a.n.offsetLeft<a.sr.l)a.s.scrollLeft=a.n.offsetLeft;else if(7>=d("ie")&&c&&c.view.headerNode)c.view.headerNode.scrollLeft=
a.s.scrollLeft},_isHeaderHidden:function(){var b=this.focusView;if(!b)for(var a=0,c;c=this.grid.views.views[a];a++)if(c.headerNode){b=c;break}return b&&"none"==i.getComputedStyle(b.headerNode).display},colSizeAdjust:function(b,a,c){var d=this._findHeaderCells(),e=this.focusView;if(!e||!e.header.tableMap.map)for(var g=0,i;i=this.grid.views.views[g];g++)if(i.header.tableMap.map){e=i;break}g=d[a];if(e&&!(a==d.length-1&&0===a))e.content.baseDecorateEvent(b),b.cellNode=g,b.cellIndex=e.content.getCellNodeIndex(b.cellNode),
b.cell=0<=b.cellIndex?this.grid.getCell(b.cellIndex):null,e.header.canResize(b)&&(a={l:c},b=e.header.colResizeSetup(b,!1),e.header.doResizeColumn(b,null,a),e.update())},styleRow:function(){},setFocusIndex:function(b,a){this.setFocusCell(this.grid.getCell(a),b)},setFocusCell:function(b,a){if(b&&!this.isFocusCell(b,a))this.tabbingOut=!1,this._colHeadNode&&this.blurHeader(),this._colHeadNode=this._colHeadFocusIdx=null,this.focusGridView(),this._focusifyCellNode(!1),this.cell=b,this.rowIndex=a,this._focusifyCellNode(!0);
if(d("opera"))setTimeout(m.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);else this.grid.onCellFocus(this.cell,this.rowIndex)},next:function(){if(this.cell){var b=this.rowIndex,a=this.cell.index+1,c=this.grid.layout.cellCount-1,d=this.grid.rowCount-1;a>c&&(a=0,b++);b>d&&(a=c,b=d);if(this.grid.edit.isEditing()&&(c=this.grid.getCell(a),!this.isLastFocusCell()&&(!c.editable||this.grid.canEdit&&!this.grid.canEdit(c,b)))){this.cell=c;this.rowIndex=b;this.next();return}this.setFocusIndex(b,a)}},
previous:function(){if(this.cell){var b=this.rowIndex||0,a=(this.cell.index||0)-1;0>a&&(a=this.grid.layout.cellCount-1,b--);0>b&&(a=b=0);if(this.grid.edit.isEditing()){var c=this.grid.getCell(a);if(!this.isFirstFocusCell()&&!c.editable){this.cell=c;this.rowIndex=b;this.previous();return}}this.setFocusIndex(b,a)}},move:function(b,a){var c=0>a?-1:1;if(this.isNavHeader()){var d=this._findHeaderCells(),e=currentIdx=k.indexOf(d,this._colHeadNode);for(currentIdx+=a;0<=currentIdx&&currentIdx<d.length&&"none"==
d[currentIdx].style.display;)currentIdx+=c;0<=currentIdx&&currentIdx<d.length&&this._setActiveColHeader(d[currentIdx],currentIdx,e)}else if(this.cell){var g=this.grid.scroller,d=this.rowIndex,e=this.grid.rowCount-1,j=Math.min(e,Math.max(0,d+b));b&&(0<b?j>g.getLastPageRow(g.page)&&this.grid.setScrollTop(this.grid.scrollTop+g.findScrollTop(j)-g.findScrollTop(d)):0>b&&j<=g.getPageRow(g.page)&&this.grid.setScrollTop(this.grid.scrollTop-g.findScrollTop(d)-g.findScrollTop(j)));for(var g=this.grid.layout.cellCount-
1,m=this.cell.index,o=Math.min(g,Math.max(0,m+a)),v=this.grid.getCell(o);0<=o&&o<g&&v&&!0===v.hidden;)o+=c,v=this.grid.getCell(o);if(!v||!0===v.hidden)o=m;c=v.getNode(j);!c&&b?0<=j+b&&j+b<=e&&this.move(0<b?++b:--b,a):(!c||"none"===i.style(c,"display"))&&a?0<=o+a&&o+a<=g&&this.move(b,0<a?++a:--a):(this.setFocusIndex(j,o),b&&this.grid.updateRow(d))}},previousKey:function(b){if(this.grid.edit.isEditing())c.stop(b),this.previous();else if(!this.isNavHeader()&&!this._isHeaderHidden())this.grid.domNode.focus(),
c.stop(b);else{this.tabOut(this.grid.domNode);if(null!=this._colHeadFocusIdx)i.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,!1),this._colHeadFocusIdx=null;this._focusifyCellNode(!1)}},nextKey:function(b){b.target===this.grid.domNode&&null==this._colHeadFocusIdx?(this.focusHeader(),c.stop(b)):this.isNavHeader()?(this.blurHeader(),this.findAndFocusGridCell()||this.tabOut(this.grid.lastFocusNode),this._colHeadNode=this._colHeadFocusIdx=null):this.grid.edit.isEditing()?(c.stop(b),
this.next()):this.tabOut(this.grid.lastFocusNode)},tabOut:function(b){this.tabbingOut=!0;b.focus()},focusGridView:function(){b.fire(this.focusView,"focus")},focusGrid:function(){this.focusGridView();this._focusifyCellNode(!0)},findAndFocusGridCell:function(){var b=!0,a=0===this.grid.rowCount;this.isNoFocusCell()&&!a?(a=0,this.grid.getCell(a).hidden&&(a=this.isNavHeader()?this._colHeadFocusIdx:0),this.setFocusIndex(0,a)):this.cell&&!a?(this.focusView&&!this.focusView.rowNodes[this.rowIndex]&&this.grid.scrollToRow(this.rowIndex),
this.focusGrid()):b=!1;this._colHeadNode=this._colHeadFocusIdx=null;return b},focusHeader:function(){var b=this._findHeaderCells(),a=this._colHeadFocusIdx;if(this._isHeaderHidden())this.findAndFocusGridCell();else if(!this._colHeadFocusIdx)this._colHeadFocusIdx=this.isNoFocusCell()?0:this.cell.index;for(this._colHeadNode=b[this._colHeadFocusIdx];this._colHeadNode&&0<=this._colHeadFocusIdx&&this._colHeadFocusIdx<b.length&&"none"==this._colHeadNode.style.display;)this._colHeadFocusIdx++,this._colHeadNode=
b[this._colHeadFocusIdx];if(this._colHeadNode&&"none"!=this._colHeadNode.style.display){if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode)this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode),this.headerMenu.bindDomNode(this.grid.domNode),this._contextMenuBindNode=this.grid.domNode;this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,a);this._scrollHeader(this._colHeadFocusIdx);this._focusifyCellNode(!1)}else this.findAndFocusGridCell()},blurHeader:function(){i.removeClass(this._colHeadNode,
this.focusClass);i.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var b=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(b);this._contextMenuBindNode=b}},doFocus:function(b){if(b&&b.target!=b.currentTarget)c.stop(b);else if(!this._clickFocus)this.tabbingOut||this.focusHeader(),this.tabbingOut=!1,c.stop(b)},doBlur:function(b){c.stop(b)},doContextMenu:function(b){this.headerMenu||
c.stop(b)},doLastNodeFocus:function(b){this.tabbingOut?this._focusifyCellNode(!1):0<this.grid.rowCount?(this.isNoFocusCell()&&this.setFocusIndex(0,0),this._focusifyCellNode(!0)):this.focusHeader();this.tabbingOut=!1;c.stop(b)},doLastNodeBlur:function(b){c.stop(b)},doColHeaderFocus:function(b){this._setActiveColHeader(b.target,i.attr(b.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());c.stop(b)},doColHeaderBlur:function(b){i.toggleClass(b.target,this.focusClass,!1)},_mouseDown:function(b){this._clickFocus=
dojo.some(this.grid.views.views,function(a){return a.scrollboxNode===b.target})},_mouseUp:function(){this._clickFocus=!1}})})},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n'}});
define("dijit/MenuItem","dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/kernel,dojo/sniff,./_Widget,./_TemplatedMixin,./_Contained,./_CssStateMixin,dojo/text!./templates/MenuItem.html".split(","),function(k,m,j,e,c,d,g,b,i,f,a){return k("dijit.MenuItem",[g,b,i,f],{templateString:a,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this.containerNode.innerHTML=a;this._set("label",a);"auto"===this.textDir&&this.applyTextDir(this.focusNode,this.label)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this.set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);var a=this.id+"_text";j.set(this.containerNode,"id",a);this.accelKeyNode&&(j.set(this.accelKeyNode,"id",this.id+"_accel"),a+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",a);m.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==d("ie")&&this.containerNode.focus(),
this.focusNode.focus()}catch(a){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){e.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){c.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){c.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},
_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=a;j.set(this.containerNode,"colSpan",a?"1":"2");this._set("accelKey",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.label)}})})},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin","dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),
function(k,m,j,e,c,d,g,b,i,f){var a=g("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,c=this;return e.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=k.getObject(d.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+d);return null==a?"":"!"==d.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},
buildRendering:function(){if(!this.templateString)this.templateString=c(this.templatePath,{sanitize:!0});var d=a.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),e;if(k.isString(d)){if(e=b.toDom(this._stringRepl(d),this.ownerDocument),1!=e.nodeType)throw Error("Invalid template: "+d);}else e=d.cloneNode(!0);this.domNode=e;this.inherited(arguments);this._attachTemplateNodes(e,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},
_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var c=k.isArray(a)?a:a.all||a.getElementsByTagName("*"),d=k.isArray(a)?0:-1;0>d||c[d];d++){var e=-1==d?a:c[d];if(!this.widgetsInTemplate||!b(e,"dojoType")&&!b(e,"data-dojo-type")){var f=b(e,"dojoAttachPoint")||b(e,"data-dojo-attach-point");if(f)for(var g=f.split(/\s*,\s*/);f=g.shift();)k.isArray(this[f])?this[f].push(e):
this[f]=e,this._attachPoints.push(f);if(f=b(e,"dojoAttachEvent")||b(e,"data-dojo-attach-event"))for(var g=f.split(/\s*,\s*/),i=k.trim;f=g.shift();)if(f){var l=null;-1!=f.indexOf(":")?(l=f.split(":"),f=i(l[0]),l=i(l[1])):f=i(f);l||(l=f);this._attachEvents.push(this.connect(e,m[f]||f,l))}}}},destroyRendering:function(){d.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];d.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});
a._templateCache={};a.getCachedTemplate=function(c,d,f){var g=a._templateCache,i=c,j=g[i];if(j){try{if(!j.ownerDocument||j.ownerDocument==(f||document))return j}catch(o){}b.destroy(j)}c=e.trim(c);if(d||c.match(/\$\{([^\}]+)\}/g))return g[i]=c;d=b.toDom(c,f);if(1!=d.nodeType)throw Error("Invalid template: "+c);return g[i]=d};i("ie")&&f.addOnWindowUnload(function(){var c=a._templateCache,d;for(d in c){var e=c[d];"object"==typeof e&&b.destroy(e);delete c[d]}});k.extend(j,{dojoAttachEvent:"",dojoAttachPoint:""});
return a})},"dojox/grid/_SelectionPreserver":function(){define("dojox/grid/_SelectionPreserver",["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(k,m,j,e){return k("dojox.grid._SelectionPreserver",null,{constructor:function(c){this.selection=c;var d=this.grid=c.grid;this.reset();this._connects=[m.connect(d,"_setStore",this,"reset"),m.connect(d,"_addItem",this,"_reSelectById"),m.connect(c,"onSelected",j.hitch(this,"_selectById",!0)),m.connect(c,"onDeselected",
j.hitch(this,"_selectById",!1)),m.connect(c,"deselectAll",this,"reset")]},destroy:function(){this.reset();e.forEach(this._connects,m.disconnect);delete this._connects},reset:function(){this._selectedById={}},_reSelectById:function(c,d){c&&this.grid._hasIdentity&&(this.selection.selected[d]=this._selectedById[this.grid.store.getIdentity(c)])},_selectById:function(c,d){if("none"!=this.selection.mode&&this.grid._hasIdentity){var e=d,b=this.grid;if("number"==typeof d||"string"==typeof d)e=(e=b._by_idx[d])&&
e.item;e&&(this._selectedById[b.store.getIdentity(e)]=!!c);return e}}})})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),function(k,m,j,e,c,d){var g={getBox:function(b){var b=b||j.doc,d="BackCompat"==b.compatMode?j.body(b):b.documentElement,e=c.docScroll(b);if(m("touch"))var a=g.get(b),b=a.innerWidth||d.clientWidth,d=a.innerHeight||d.clientHeight;else b=d.clientWidth,d=d.clientHeight;return{l:e.x,t:e.y,w:b,h:d}},get:function(b){if(m("ie")&&
g!==document.parentWindow){b.parentWindow.execScript("document._parentWindow = window;","Javascript");var c=b._parentWindow;b._parentWindow=null;return c}return b.parentWindow||b.defaultView},scrollIntoView:function(b,g){try{var b=e.byId(b),f=b.ownerDocument||j.doc,a=j.body(f),h=f.documentElement||a.parentNode,k=m("ie"),n=m("webkit");if((!m("mozilla")&&!k&&!n&&!m("opera")||b==a||b==h)&&"undefined"!=typeof b.scrollIntoView)b.scrollIntoView(!1);else{var r="BackCompat"==f.compatMode,p=9<=k&&"frameElement"in
b.ownerDocument.parentWindow?0<h.clientHeight&&0<h.clientWidth&&(0==a.clientHeight||0==a.clientWidth||a.clientHeight>h.clientHeight||a.clientWidth>h.clientWidth)?h:a:r?a:h,n=n?a:p,q=p.clientWidth,o=p.clientHeight,v=!c.isBodyLtr(f),l=g||c.position(b),u=b.parentNode,f=function(a){return 6>=k||k&&r?!1:"fixed"==d.get(a,"position").toLowerCase()};if(!f(b))for(;u;){u==a&&(u=n);var s=c.position(u),y=f(u);if(u==n){s.w=q;s.h=o;n==h&&k&&v&&(s.x+=n.offsetWidth-s.w);if(0>s.x||!k)s.x=0;if(0>s.y||!k)s.y=0}else{var w=
c.getPadBorderExtents(u);s.w-=w.w;s.h-=w.h;s.x+=w.l;s.y+=w.t;var x=u.clientWidth,z=s.w-x;if(0<x&&0<z)s.w=x,s.x+=v&&(k||u.clientLeft>w.l)?z:0;x=u.clientHeight;z=s.h-x;if(0<x&&0<z)s.h=x}if(y){if(0>s.y)s.h+=s.y,s.y=0;if(0>s.x)s.w+=s.x,s.x=0;if(s.y+s.h>o)s.h=o-s.y;if(s.x+s.w>q)s.w=q-s.x}var A=l.x-s.x,B=l.y-Math.max(s.y,0),D=A+l.w-s.w,E=B+l.h-s.h;if(0<D*A){var C=Math[0>A?"max":"min"](A,D);if(v&&(8==k&&!r||9<=k))C=-C;l.x+=u.scrollLeft;u.scrollLeft+=C;l.x-=u.scrollLeft}0<E*B&&(l.y+=u.scrollTop,u.scrollTop+=
Math[0>B?"max":"min"](B,E),l.y-=u.scrollTop);u=u!=n&&!y&&u.parentNode}}}catch(F){console.error("scrollIntoView: "+F),b.scrollIntoView(!1)}}};k.setObject("dojo.window",g);return g})},"dojox/grid/_Builder":function(){define("../main,dojo/_base/array,dojo/_base/lang,dojo/_base/window,dojo/_base/event,dojo/_base/sniff,dojo/_base/connect,dojo/dnd/Moveable,dojox/html/metrics,./util,dojo/_base/html".split(","),function(k,m,j,e,c,d,g,b,i,f,a){var h=k.grid,t=function(a){for(;a&&"TABLE"!=a.tagName;a=a.parentNode);
return a},n=function(a,b){for(var c=a;c&&b(c);c=c.parentNode);return c},r=function(a){var b=a.toUpperCase();return function(a){return a.tagName!=b}},p=f.rowIndexTag,q=f.gridViewTag,o=h._Builder=j.extend(function(a){if(a)this.view=a,this.grid=a.grid},{view:null,_table:'<table class="dojoxGridRowTable" border="0" cellspacing="0" cellpadding="0" role="presentation"',getTableArray:function(){var a=[this._table];this.view.viewWidth&&a.push([' style="width:',this.view.viewWidth,';"'].join(""));a.push(">");
return a},generateCellMarkup:function(a,b,c,d){var e=[],f;if(d){f=a.index!=a.grid.getSortIndex()?"":0<a.grid.sortInfo?'aria-sort="ascending"':'aria-sort="descending"';if(!a.id)a.id=this.grid.id+"Hdr"+a.index;f=['<th tabIndex="-1" aria-readonly="true" role="columnheader"',f,'id="',a.id,'"']}else f=['<td tabIndex="-1" role="gridcell"',this.grid.editable&&!a.editable?'aria-readonly="true"':""];a.colSpan&&f.push(' colspan="',a.colSpan,'"');a.rowSpan&&f.push(' rowspan="',a.rowSpan,'"');f.push(' class="dojoxGridCell ');
a.classes&&f.push(a.classes," ");c&&f.push(c," ");e.push(f.join(""));e.push("");f=['" idx="',a.index,'" style="'];b&&";"!=b[b.length-1]&&(b+=";");f.push(a.styles,b||"",a.hidden?"display:none;":"");a.unitWidth&&f.push("width:",a.unitWidth,";");e.push(f.join(""));e.push("");f=['"'];a.attrs&&f.push(" ",a.attrs);f.push(">");e.push(f.join(""));e.push("");e.push(d?"</th>":"</td>");return e},isCellNode:function(b){return Boolean(b&&b!=e.doc&&a.attr(b,"idx"))},getCellNodeIndex:function(b){return b?Number(a.attr(b,
"idx")):-1},getCellNode:function(a,b){for(var c=0,d;(d=a.firstChild&&((a.firstChild.rows||0)[c]||a.firstChild.childNodes[c]))&&d.cells;c++)for(var e=0,f;f=d.cells[e];e++)if(this.getCellNodeIndex(f)==b)return f;return null},findCellTarget:function(a,b){for(var c=a;c&&(!this.isCellNode(c)||c.offsetParent&&q in c.offsetParent.parentNode&&c.offsetParent.parentNode[q]!=this.view.id)&&c!=b;)c=c.parentNode;return c!=b?c:null},baseDecorateEvent:function(a){a.dispatch="do"+a.type;a.grid=this.grid;a.sourceView=
this.view;a.cellNode=this.findCellTarget(a.target,a.rowNode);a.cellIndex=this.getCellNodeIndex(a.cellNode);a.cell=0<=a.cellIndex?this.grid.getCell(a.cellIndex):null},findTarget:function(a,b){for(var c=a;c&&c!=this.domNode&&(!(b in c)||q in c&&c[q]!=this.view.id);)c=c.parentNode;return c!=this.domNode?c:null},findRowTarget:function(a){return this.findTarget(a,p)},isIntraNodeEvent:function(b){try{return b.cellNode&&b.relatedTarget&&a.isDescendant(b.relatedTarget,b.cellNode)}catch(c){return!1}},isIntraRowEvent:function(a){try{var b=
a.relatedTarget&&this.findRowTarget(a.relatedTarget);return!b&&-1==a.rowIndex||b&&a.rowIndex==b.gridRowIndex}catch(c){return!1}},dispatchEvent:function(a){return a.dispatch in this?this[a.dispatch](a):!1},domouseover:function(a){if(a.cellNode&&a.cellNode!=this.lastOverCellNode)this.lastOverCellNode=a.cellNode,this.grid.onMouseOver(a);this.grid.onMouseOverRow(a)},domouseout:function(a){if(a.cellNode&&a.cellNode==this.lastOverCellNode&&!this.isIntraNodeEvent(a,this.lastOverCellNode)&&(this.lastOverCellNode=
null,this.grid.onMouseOut(a),!this.isIntraRowEvent(a)))this.grid.onMouseOutRow(a)},domousedown:function(a){if(a.cellNode)this.grid.onMouseDown(a);this.grid.onMouseDownRow(a)}}),k=h._ContentBuilder=j.extend(function(a){o.call(this,a)},o.prototype,{update:function(){this.prepareHtml()},prepareHtml:function(){for(var a=this.grid.get,b=this.view.structure.cells,c=0,d;d=b[c];c++)for(var e=0,f;f=d[e];e++)if(f.get=f.get||void 0==f.value&&a,f.markup=this.generateCellMarkup(f,f.cellStyles,f.cellClasses,!1),
!this.grid.editable&&f.editable)this.grid.editable=!0},generateHtml:function(a,b){var c=this.getTableArray(),d=this.view.structure.cells,e=this.grid.getItem(b);f.fire(this.view,"onBeforeRow",[b,d]);for(var h=0,g;g=d[h];h++)if(!g.hidden&&!g.header){c.push(!g.invisible?"<tr>":'<tr class="dojoxGridInvisible">');for(var i=0,o,j,k,r;o=g[i];i++)j=o.markup,k=o.customClasses=[],r=o.customStyles=[],j[5]=o.format(b,e),j[1]=k.join(" "),j[3]=r.join(";"),c.push.apply(c,j);c.push("</tr>")}c.push("</table>");return c.join("")},
decorateEvent:function(a){a.rowNode=this.findRowTarget(a.target);if(!a.rowNode)return!1;a.rowIndex=a.rowNode[p];this.baseDecorateEvent(a);a.cell=this.grid.getCell(a.cellIndex);return!0}}),v=h._HeaderBuilder=j.extend(function(a){this.moveable=null;o.call(this,a)},o.prototype,{_skipBogusClicks:!1,overResizeWidth:4,minColWidth:1,update:function(){this.tableMap?this.tableMap.mapRows(this.view.structure.cells):this.tableMap=new h._TableMap(this.view.structure.cells)},generateHtml:function(a,b){var c=this.getTableArray(),
d=this.view.structure.cells;f.fire(this.view,"onBeforeRow",[-1,d]);for(var e=0,h;h=d[e];e++)if(!h.hidden){c.push(!h.invisible?"<tr>":'<tr class="dojoxGridInvisible">');for(var g=0,i,o;i=h[g];g++){i.customClasses=[];i.customStyles=[];if(this.view.simpleStructure){if(i.draggable)i.headerClasses?-1==i.headerClasses.indexOf("dojoDndItem")&&(i.headerClasses+=" dojoDndItem"):i.headerClasses="dojoDndItem";i.attrs?-1==i.attrs.indexOf("dndType='gridColumn_")&&(i.attrs+=" dndType='gridColumn_"+this.grid.id+
"'"):i.attrs="dndType='gridColumn_"+this.grid.id+"'"}o=this.generateCellMarkup(i,i.headerStyles,i.headerClasses,!0);o[5]=void 0!=b?b:a(i);o[3]=i.customStyles.join(";");o[1]=i.customClasses.join(" ");c.push(o.join(""))}c.push("</tr>")}c.push("</table>");return c.join("")},getCellX:function(a){var b,c=a.layerX;if(d("mozilla")||9<=d("ie"))b=n(a.target,r("th")),c-=b&&b.offsetLeft||0,a.sourceView.getScrollbarWidth(),this.grid.isLeftToRight()||(table=n(b,r("table")),c-=table&&table.offsetLeft||0);b=n(a.target,
function(){if(!b||b==a.cellNode)return!1;c+=0>b.offsetLeft?0:b.offsetLeft;return!0});return c},decorateEvent:function(a){this.baseDecorateEvent(a);a.rowIndex=-1;a.cellX=this.getCellX(a);return!0},prepareResize:function(a,b){do{var c=a.cellIndex;a.cellNode=c?a.cellNode.parentNode.cells[c+b]:null;a.cellIndex=a.cellNode?this.getCellNodeIndex(a.cellNode):-1}while(a.cellNode&&"none"==a.cellNode.style.display);return Boolean(a.cellNode)},canResize:function(a){if(!a.cellNode||1<a.cellNode.colSpan)return!1;
a=this.grid.getCell(a.cellIndex);return!a.noresize&&a.canResize()},overLeftResizeArea:function(b){if(a.hasClass(e.body(),"dojoDndMove"))return!1;if(d("ie")){var c=b.target;if(a.hasClass(c,"dojoxGridArrowButtonNode")||a.hasClass(c,"dojoxGridArrowButtonChar")||a.hasClass(c,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?0<b.cellIndex&&0<b.cellX&&b.cellX<this.overResizeWidth&&this.prepareResize(b,-1):b.cellNode&&0<b.cellX&&b.cellX<this.overResizeWidth},overRightResizeArea:function(b){if(a.hasClass(e.body(),
"dojoDndMove"))return!1;if(d("ie")){var c=b.target;if(a.hasClass(c,"dojoxGridArrowButtonNode")||a.hasClass(c,"dojoxGridArrowButtonChar")||a.hasClass(c,"dojoxGridColCaption"))return!1}return this.grid.isLeftToRight()?b.cellNode&&b.cellX>=b.cellNode.offsetWidth-this.overResizeWidth:0<b.cellIndex&&b.cellX>=b.cellNode.offsetWidth-this.overResizeWidth&&this.prepareResize(b,-1)},domousemove:function(b){if(!this.moveable){var d=this.overRightResizeArea(b)?"dojoxGridColResize":this.overLeftResizeArea(b)?
"dojoxGridColResize":"";d&&!this.canResize(b)&&(d="dojoxGridColNoResize");a.toggleClass(b.sourceView.headerNode,"dojoxGridColNoResize","dojoxGridColNoResize"==d);a.toggleClass(b.sourceView.headerNode,"dojoxGridColResize","dojoxGridColResize"==d);d&&c.stop(b)}},domousedown:function(a){this.moveable||((this.overRightResizeArea(a)||this.overLeftResizeArea(a))&&this.canResize(a)?this.beginColumnResize(a):(this.grid.onMouseDown(a),this.grid.onMouseOverRow(a)))},doclick:function(a){return this._skipBogusClicks?
(c.stop(a),!0):!1},colResizeSetup:function(b,c){var f=a.contentBox(b.sourceView.headerNode);if(c){this.lineDiv=document.createElement("div");var h=a.position(b.sourceView.headerNode,!0),g=a.contentBox(b.sourceView.domNode),o=b.pageX;!this.grid.isLeftToRight()&&8>d("ie")&&(o-=i.getScrollbar().w);a.style(this.lineDiv,{top:h.y+"px",left:o+"px",height:g.h+f.h+"px"});a.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=o;e.body().appendChild(this.lineDiv)}for(var h=[],g=this.tableMap.findOverlappingNodes(b.cellNode),
o=0,j;j=g[o];o++)h.push({node:j,index:this.getCellNodeIndex(j),width:j.offsetWidth});g=b.sourceView;j=this.grid.isLeftToRight()?1:-1;for(var k=b.grid.views.views,o=[],r=g.idx+j,n;n=k[r];r+=j)o.push({node:n.headerNode,left:window.parseInt(n.headerNode.style.left)});j=g.headerContentNode.firstChild;return{scrollLeft:b.sourceView.headerNode.scrollLeft,view:g,node:b.cellNode,index:b.cellIndex,w:a.contentBox(b.cellNode).w,vw:f.w,table:j,tw:a.contentBox(j).w,spanners:h,followers:o}},beginColumnResize:function(c){this.moverDiv=
document.createElement("div");a.style(this.moverDiv,{position:"absolute",left:0});e.body().appendChild(this.moverDiv);a.addClass(this.grid.domNode,"dojoxGridColumnResizing");var d=this.moveable=new b(this.moverDiv),f=this.colResizeSetup(c,!0);d.onMove=j.hitch(this,"doResizeColumn",f);g.connect(d,"onMoveStop",j.hitch(this,function(){this.endResizeColumn(f);f.node.releaseCapture&&f.node.releaseCapture();this.moveable.destroy();delete this.moveable;this.moveable=null;a.removeClass(this.grid.domNode,
"dojoxGridColumnResizing")}));c.cellNode.setCapture&&c.cellNode.setCapture();d.onMouseDown(c)},doResizeColumn:function(b,c,d){var e=d.l,e={deltaX:e,w:b.w+(this.grid.isLeftToRight()?e:-e),vw:b.vw+e,tw:b.tw+e};this.dragRecord={inDrag:b,mover:c,leftTop:d};e.w>=this.minColWidth&&(c?a.style(this.lineDiv,"left",this.lineDiv._origLeft+e.deltaX+"px"):this.doResizeNow(b,e))},endResizeColumn:function(b){if(this.dragRecord){var c=this.dragRecord.leftTop,c=this.grid.isLeftToRight()?c.l:-c.l,c=c+(Math.max(b.w+
c,this.minColWidth)-(b.w+c));d("webkit")&&b.spanners.length&&(c+=a._getPadBorderExtents(b.spanners[0].node).w);this.doResizeNow(b,{deltaX:c,w:b.w+c,vw:b.vw+c,tw:b.tw+c});delete this.dragRecord}a.destroy(this.lineDiv);a.destroy(this.moverDiv);a.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=!0;b.view.update();this._skipBogusClicks=!1;this.grid.onResizeColumn(b.index)},doResizeNow:function(a,b){a.view.convertColPctToFixed();if(a.view.flexCells&&!a.view.testFlexCells()){var c=t(a.node);
if(c)c.style.width=""}for(var e,f,c=0;e=a.spanners[c];c++)if(f=e.width+b.deltaX,0<f)e.node.style.width=f+"px",a.view.setColWidth(e.index,f);if(this.grid.isLeftToRight()||!d("ie"))for(c=0;e=a.followers[c];c++)f=e.left+b.deltaX,e.node.style.left=f+"px";a.node.style.width=b.w+"px";a.view.setColWidth(a.index,b.w);a.view.headerNode.style.width=b.vw+"px";a.view.setColumnsWidth(b.tw);if(!this.grid.isLeftToRight())a.view.headerNode.scrollLeft=a.scrollLeft+b.deltaX}});h._TableMap=j.extend(function(a){this.mapRows(a)},
{map:null,mapRows:function(a){if(a.length){this.map=[];var b;for(b=0;a[b];b++)this.map[b]=[];for(var c=0;b=a[c];c++)for(var d=0,e=0,f,h;f=b[d];d++){for(;this.map[c][e];)e++;this.map[c][e]={c:d,r:c};h=f.rowSpan||1;f=f.colSpan||1;for(var g=0;g<h;g++)for(var i=0;i<f;i++)this.map[c+g][e+i]=this.map[c][e];e+=f}}},dumpMap:function(){for(var a=0,b;b=this.map[a];a++)for(var c=0;b[c];c++);},getMapCoords:function(a,b){for(var c=0,d;d=this.map[c];c++)for(var e=0,f;f=d[e];e++)if(f.c==b&&f.r==a)return{j:c,i:e};
return{j:-1,i:-1}},getNode:function(a,b,c){return(a=a&&a.rows[b])&&a.cells[c]},_findOverlappingNodes:function(a,b,c){var l;for(var d=[],b=this.getMapCoords(b,c),c=0,e;e=this.map[c];c++)c!=b.j&&(l=(e=e[b.i])?this.getNode(a,e.r,e.c):null,e=l)&&d.push(e);return d},findOverlappingNodes:function(a){return this._findOverlappingNodes(t(a),0<=a.parentNode.rowIndex?a.parentNode.rowIndex:m.indexOf(a.parentNode.parentNode.childNodes,a.parentNode),0<=a.cellIndex?a.cellIndex:m.indexOf(a.parentNode.cells,a))}});
return{_Builder:o,_HeaderBuilder:v,_ContentBuilder:k}})},"dojo/dnd/Source":function(){define("../_base/array,../_base/connect,../_base/declare,../_base/kernel,../_base/lang,../dom-class,../dom-geometry,../mouse,../ready,../topic,./common,./Selector,./Manager".split(","),function(k,m,j,e,c,d,g,b,i,f,a,h,t){e.isAsync||i(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var n=j("dojo.dnd.Source",h,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,
autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,b){c.mixin(this,c.mixin({},b));var e=this.accept;if(e.length){this.accept={};for(var h=0;h<e.length;++h)this.accept[e[h]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&d.add(this.node,"dojoDndSource");this.targetState="";this.accept&&d.add(this.node,"dojoDndTarget");this.horizontal&&d.add(this.node,"dojoDndHorizontal");this.topics=
[f.subscribe("/dnd/source/over",c.hitch(this,"onDndSourceOver")),f.subscribe("/dnd/start",c.hitch(this,"onDndStart")),f.subscribe("/dnd/drop",c.hitch(this,"onDndDrop")),f.subscribe("/dnd/cancel",c.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,e=!1,f=0;f<d.length;++f)if(d[f]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&
(b=this==t.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){n.superclass.destroy.call(this);k.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(b){if(!(this.isDragging&&"Disabled"==this.targetState)){n.superclass.onMouseMove.call(this,b);var c=t.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)){var d=
this.getSelectedNodes();d.length&&c.startDrag(this,d,this.copyState(a.getCopyKeyState(b),!0))}if(this.isDragging){d=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=g.position(this.current,!0);d=this.horizontal?b.pageX-this.targetBox.x<this.targetBox.w/2==g.isBodyLtr(this.current.ownerDocument):b.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||d!=this.before)this._markTargetAnchor(d),c.canDrop(!this.current||c.source!=this||!(this.current.id in
this.selection))}}},onMouseDown:function(b){if(!this.mouseDown&&this._legalMouseDown(b)&&(!this.skipForm||!a.isFormElement(b)))this.mouseDown=!0,this._lastX=b.pageX,this._lastY=b.pageY,n.superclass.onMouseDown.call(this,b)},onMouseUp:function(a){if(this.mouseDown)this.mouseDown=!1,n.superclass.onMouseUp.call(this,a)},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=t.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||
a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");this._changeState("Target",this.accept&&this.checkAcceptance(a,b)?"":"Disabled");this==a&&t.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){if(this.targetAnchor)this._unmarkTargetAnchor(),this.targetAnchor=null;this.before=
!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(b,c,d){var e=this._normalizedCreator;this._normalizedCreator=this.creator?function(a,c){return e.call(this,b.getItem(a.id).data,c)}:d?function(c){var d=b.getItem(c.id),c=c.cloneNode(!0);c.id=a.getUniqueId();return{node:c,data:d.data,type:d.type}}:function(a){var c=b.getItem(a.id);b.delItem(a.id);
return{node:a,data:c.data,type:c.type}};this.selectNone();!d&&!this.creator&&b.selectNone();this.insertNodes(!0,c,this.before,this.current);!d&&this.creator&&b.deleteSelectedNodes();this._normalizedCreator=e},onDropInternal:function(b,c){var d=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,b){return d.call(this,this.getItem(a.id).data,b)}:function(b){var c=this.getItem(b.id),b=b.cloneNode(!0);b.id=a.getUniqueId();
return{node:b,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,b,this.before,this.current);this._normalizedCreator=d}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){n.superclass.onOverEvent.call(this);t.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){n.superclass.onOutEvent.call(this);
t.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){if(!(this.current==this.targetAnchor&&this.before==a))this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){if(this.targetAnchor)this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!b.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(d.contains(a,"dojoDndHandle"))return!0;if(d.contains(a,"dojoDndItem")||d.contains(a,"dojoDndIgnore"))break}return!1}});return n})},"dojox/grid/cells/_base":function(){define("dojox/grid/cells/_base",
"dojo/_base/kernel,dojo/_base/declare,dojo/_base/lang,dojo/_base/event,dojo/_base/connect,dojo/_base/array,dojo/_base/sniff,dojo/dom,dojo/dom-attr,dojo/dom-construct,dijit/_Widget,../util".split(","),function(k,m,j,e,c,d,g,b,i,f,a,h){var t=m("dojox.grid._DeferredTextWidget",a,{deferred:null,_destroyOnRemove:!0,postCreate:function(){this.deferred&&this.deferred.addBoth(j.hitch(this,function(a){if(this.domNode)this.domNode.innerHTML=a}))}}),n=function(){setTimeout(j.hitch.apply(k,arguments),0)},r=m("dojox.grid.cells._Base",
null,{styles:"",classes:"",editable:!1,alwaysEditing:!1,formatter:null,defaultValue:"...",value:null,hidden:!1,noresize:!1,draggable:!0,_valueProp:"value",_formatPending:!1,constructor:function(a){this._props=a||{};j.mixin(this,a);if(void 0===this.draggable)this.draggable=!0},_defaultFormat:function(a,b){var l;var c=this.grid.formatterScope||this,d=this.formatter;if(d&&c&&"string"==typeof d)l=this.formatter=c[d],d=l;c=a!=this.defaultValue&&d?d.apply(c,b):a;if("undefined"==typeof c)return this.defaultValue;
c&&c.addBoth&&(c=new t({deferred:c},f.create("span",{innerHTML:this.defaultValue})));return c&&c.declaredClass&&c.startup?"<div class='dojoxGridStubNode' linkWidget='"+c.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>":c},format:function(a,b){var c=this.grid.edit.info,d=this.get?this.get(a,b):this.value||this.defaultValue,d=d&&d.replace&&this.grid.escapeHTMLInData?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;return this.editable&&(this.alwaysEditing||c.rowIndex==a&&c.cell==this)?this.formatEditing(d,
a):this._defaultFormat(d,[d,a,this])},formatEditing:function(){},getNode:function(a){return this.view.getCellNode(a,this.index)},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index)},getEditNode:function(a){return(this.getNode(a)||0).firstChild||0},canResize:function(){var a=this.unitWidth;return a&&"auto"!==a},isFlex:function(){var a=this.unitWidth;return a&&j.isString(a)&&("auto"==a||"%"==a.slice(-1))},applyEdit:function(a,b){this.getNode(b)&&this.grid.edit.applyCellEdit(a,this,
b)},cancelEdit:function(a){this.grid.doCancelEdit(a)},_onEditBlur:function(a){this.grid.edit.isEditCell(a,this.index)&&this.grid.edit.apply()},registerOnBlur:function(a,b){this.commitOnBlur&&c.connect(a,"onblur",function(){setTimeout(j.hitch(this,"_onEditBlur",b),250)})},needFormatNode:function(a,b){this._formatPending=!0;n(this,"_formatNode",a,b)},cancelFormatNode:function(){this._formatPending=!1},_formatNode:function(a,c){if(this._formatPending)this._formatPending=!1,g("ie")||b.setSelectable(this.grid.domNode,
!0),this.formatNode(this.getEditNode(c),a,c)},formatNode:function(a,b,c){g("ie")?n(this,"focus",c,a):this.focus(c,a)},dispatchEvent:function(a,b){if(a in this)return this[a](b)},getValue:function(a){return this.getEditNode(a)[this._valueProp]},setValue:function(a,b){var c=this.getEditNode(a);c&&(c[this._valueProp]=b)},focus:function(a,b){var c=b||this.getEditNode(a);try{h.fire(c,"focus"),h.fire(c,"select")}catch(d){}},save:function(a){this.value=this.value||this.getValue(a)},restore:function(a){this.setValue(a,
this.value)},_finish:function(){b.setSelectable(this.grid.domNode,!1);this.cancelFormatNode()},apply:function(a){this.applyEdit(this.getValue(a),a);this._finish(a)},cancel:function(a){this.cancelEdit(a);this._finish(a)}});r.markupFactory=function(a,b){var c=j.trim(i.get(a,"formatter")||"");if(c)b.formatter=j.getObject(c)||c;if(c=j.trim(i.get(a,"get")||""))b.get=j.getObject(c);c=function(b,c,d){var e=j.trim(i.get(a,b)||"");e&&(c[d||b]="false"!=e.toLowerCase())};c("sortDesc",b);c("editable",b);c("alwaysEditing",
b);c("noresize",b);c("draggable",b);if(c=j.trim(i.get(a,"loadingText")||i.get(a,"defaultValue")||""))b.defaultValue=c;c=function(b,c,d){var e=j.trim(i.get(a,b)||"")||void 0;e&&(c[d||b]=e)};c("styles",b);c("headerStyles",b);c("cellStyles",b);c("classes",b);c("headerClasses",b);c("cellClasses",b)};var p=m("dojox.grid.cells.Cell",r,{constructor:function(){this.keyFilter=this.keyFilter},keyFilter:null,formatEditing:function(a,b){this.needFormatNode(a,b);return'<input class="dojoxGridInput" type="text" value="'+
a+'">'},formatNode:function(a,b,c){this.inherited(arguments);this.registerOnBlur(a,c)},doKey:function(a){this.keyFilter&&-1==String.fromCharCode(a.charCode).search(this.keyFilter)&&e.stop(a)},_finish:function(a){this.inherited(arguments);var b=this.getEditNode(a);try{h.fire(b,"blur")}catch(c){}}});p.markupFactory=function(a,b){r.markupFactory(a,b);var c=j.trim(i.get(a,"keyFilter")||"");if(c)b.keyFilter=RegExp(c)};m("dojox.grid.cells.RowIndex",p,{name:"Row",postscript:function(){this.editable=!1},
get:function(a){return a+1}}).markupFactory=function(a,b){p.markupFactory(a,b)};m("dojox.grid.cells.Select",p,{options:null,values:null,returnIndex:-1,constructor:function(){this.values=this.values||this.options},formatEditing:function(a,b){this.needFormatNode(a,b);for(var c=['<select class="dojoxGridSelect">'],d=0,e,f;void 0!==(e=this.options[d])&&void 0!==(f=this.values[d]);d++)f=f.replace?f.replace(/&/g,"&amp;").replace(/</g,"&lt;"):f,e=e.replace?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):e,
c.push("<option",a==f?" selected":"",' value="'+f+'"',">",e,"</option>");c.push("</select>");return c.join("")},_defaultFormat:function(a,b){var c=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var e=d.indexOf(this.values,c);0<=e&&(c=this.options[e])}return c},getValue:function(a){var b=this.getEditNode(a);if(b)return a=b.selectedIndex,b=b.options[a],-1<this.returnIndex?a:b.value||b.innerHTML}}).markupFactory=function(a,b){p.markupFactory(a,b);var c=j.trim(i.get(a,"options")||
"");if(c){var d=c.split(",");if(d[0]!=c)b.options=d}if(c=j.trim(i.get(a,"values")||""))if(d=c.split(","),d[0]!=c)b.values=d};var q=m("dojox.grid.cells.AlwaysEdit",p,{alwaysEditing:!0,_formatNode:function(a,b){this.formatNode(this.getEditNode(b),a,b)},applyStaticValue:function(a){var b=this.grid.edit;b.applyCellEdit(this.getValue(a),this,a);b.start(this,a,!0)}});q.markupFactory=function(a,b){p.markupFactory(a,b)};m("dojox.grid.cells.Bool",q,{_valueProp:"checked",formatEditing:function(a){return'<input class="dojoxGridInput" type="checkbox"'+
(a?' checked="checked"':"")+' style="width: auto" />'},doclick:function(a){"INPUT"==a.target.tagName&&this.applyStaticValue(a.rowIndex)}}).markupFactory=function(a,b){q.markupFactory(a,b)};return r})},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase","require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(k,m,j,e,c,d,g,b,i,f,a,h,t,n,r,p,q,o,v,l,u,s){function y(a){return function(c){b[c?"set":"remove"](this.domNode,a,c);this._set(a,c)}}t.add("dijit-legacy-requires",!n.isAsync);t("dijit-legacy-requires")&&q(0,function(){k(["dijit/_base/manager"])});var w={};return d("dijit._WidgetBase",[o,u],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:y("lang"),dir:"",_setDirAttr:y("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:e.blankGif||k.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=g.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,r.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=s.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:l.doc);this.ownerDocumentBody=l.body(this.ownerDocument);s.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],c;for(c in this.attributeMap)b.push(c);var a=a.prototype,d;for(d in a)d in this.attributeMap||"_set"+d.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(d)}m.forEach(b,function(a){this.params&&a in this.params||this[a]&&this.set(a,this[a])},this);for(var e in this.params)this.set(e,this.params[e])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));i.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,m.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&r.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,r.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(s.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);s.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?b.remove(this.domNode,
"widgetId"):f.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||f.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;r.isObject(a)?h.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,c,d){d=3<=arguments.length?d:this.attributeMap[a];
m.forEach(r.isArray(d)?d:[d],function(d){var e=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":r.isFunction(c)&&(c=r.hitch(this,c));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?b.set(e,d,c):e.set(d,c);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(c));break;case "innerHTML":e.innerHTML=c;break;case "class":i.replace(e,c,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?
this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(r.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!r.isFunction(this.focusNode)?"focusNode":"domNode",f=this[d].tagName,h;if(!(h=w[f])){h=this[d];var g={},i;for(i in h)g[i.toLowerCase()]=!0;h=w[f]=g}i=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:c.l in h&&"function"!=typeof b||
/^aria-|^data-|^role$/.test(a)?d:null;null!=i&&this._attrToDom(a,b,i);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._created&&b!==c&&(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+
a,{detail:{prevValue:c,newValue:b}}))},emit:function(a,b,c){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail={};b.detail.widget=this;var d,e=this["on"+a];e&&(d=e.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&p.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?j.after(this,c,b,!0):this.own(p(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap=
{},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?s.findWidgets(this.containerNode):[]},getParent:function(){return s.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,d){return this.own(c.connect(a,b,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(v.subscribe(a,
r.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:a.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=h.get(this.domNode,"display")},placeAt:function(a,b){var c=!a.tagName&&s.byId(a);c&&c.addChild&&(!b||"number"===typeof b)?c.addChild(this,b):(c=c?c.containerNode&&!/after|before|replace/.test(b||"")?c.containerNode:c.domNode:g.byId(a,this.ownerDocument),f.place(this.domNode,c,b),!this._started&&(this.getParent()||
{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var c=setTimeout(r.hitch(this,function(){c=null;this._destroyed||r.hitch(this,a)()}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},"dojo/dnd/Moveable":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),function(k,m,
j,e,c,d,g,b,i,f,a,h,t){return m("dojo.dnd.Moveable",[g],{handle:"",delay:0,skip:!1,constructor:function(a,d){this.node=c.byId(a);d||(d={});this.handle=d.handle?c.byId(d.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<d.delay?d.delay:0;this.skip=d.skip;this.mover=d.mover?d.mover:h;this.events=[b(this.handle,f.press,e.hitch(this,"onMouseDown")),b(this.handle,"dragstart",e.hitch(this,"onSelectStart")),b(this.handle,"selectstart",e.hitch(this,"onSelectStart"))]},markupFactory:function(a,
b,c){return new c(b,a)},destroy:function(){k.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(c){if(!this.skip||!a.isFormElement(c)){if(this.delay)this.events.push(b(this.handle,f.move,e.hitch(this,"onMouseMove")),b(this.handle,f.release,e.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);j.stop(c)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>
this.delay)this.onMouseUp(a),this.onDragDetected(a);j.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();j.stop(a)},onSelectStart:function(b){(!this.skip||!a.isFormElement(b))&&j.stop(b)},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){i.publish("/dnd/move/start",a);d.add(t.body(),"dojoMove");d.add(this.node,"dojoMoveItem")},onMoveStop:function(a){i.publish("/dnd/move/stop",a);d.remove(t.body(),"dojoMove");d.remove(this.node,"dojoMoveItem")},
onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"*now":function(k){k(['dojo/i18n!*preload*dojox/grid/nls/DataGrid*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dojox/grid/DataGrid","../main,dojo/_base/array,dojo/_base/lang,dojo/_base/json,dojo/_base/sniff,dojo/_base/declare,./_Grid,./DataSelection,dojo/_base/html".split(","),function(k,m,j,e,c,d,g,b,i){var f=d("dojox.grid.DataGrid",g,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,
postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new b(this)},get:function(a,b){if(b&&"_item"==this.field&&!this.fields)return b;if(b&&this.fields){var c=[],d=this.grid.store;m.forEach(this.fields,function(a){c=c.concat(d.getValues(b,a))});return c}return!b&&
"string"===typeof a?this.inherited(arguments):!b?this.defaultValue:!this.field?this.value:"_item"==this.field?b:this.grid.store.getValue(b,this.field)},_checkUpdateStatus:function(){if(0<this.updateDelay){var a=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,a=!0);this.updating||(this.beginUpdate(),a=!0);if(a){var b=this;this._endUpdateDelay=setTimeout(function(){delete b._endUpdateDelay;b.endUpdate()},this.updateDelay)}}},_onSet:function(a){this._checkUpdateStatus();
a=this.getItemIndex(a);-1<a&&this.updateRow(a)},_createItem:function(a,b){var c=this._hasIdentity?this.store.getIdentity(a):e.toJson(this.query)+":idx:"+b+":sort:"+e.toJson(this.getSortProps());return this._by_idty[c]={idty:c,item:a}},_addItem:function(a,b,c){this._by_idx[b]=this._createItem(a,b);c||this.updateRow(b)},_onNew:function(a){this._checkUpdateStatus();var b=this.get("rowCount");this._addingItem=!0;this.updateRowCount(b+1);this._addingItem=!1;this._addItem(a,b);this.showMessage()},_onDelete:function(a){this._checkUpdateStatus();
a=this._getItemIndex(a,!0);if(0<=a){this._pages=[];this._eop=this._bop=-1;var b=this._by_idx[a];this._by_idx.splice(a,1);delete this._by_idty[b.idty];this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(a)&&(this.selection.deselect(a),this.selection.selected.splice(a,1))},_onRevert:function(){this._refresh()},setStore:function(a,b,c){this._requestsPending(0)||(this._setQuery(b,c),this._setStore(a),this._refresh(!0))},
setQuery:function(a,b){this._requestsPending(0)||(this._setQuery(a,b),this._refresh(!0))},setItems:function(a){this.items=a;this._setStore(this.store);this._refresh(!0)},_setQuery:function(a,b){this.query=a;this.queryOptions=b||this.queryOptions},_setStore:function(a){this.store&&this._store_connects&&m.forEach(this._store_connects,this.disconnect,this);if(this.store=a){var a=this.store.getFeatures(),b=[];this._canEdit=!!a["dojo.data.api.Write"]&&!!a["dojo.data.api.Identity"];this._hasIdentity=!!a["dojo.data.api.Identity"];
a["dojo.data.api.Notification"]&&!this.items&&(b.push(this.connect(this.store,"onSet","_onSet")),b.push(this.connect(this.store,"onNew","_onNew")),b.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&b.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=b}},_onFetchBegin:function(a,b){if(this.scroller){if(this.rowCount!=a)b.isRender?(this.scroller.init(a,this.keepRows,this.rowsPerPage),this.rowCount=a,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=
!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(a);a?this.showMessage():(this.views.render(),this._resize(),this.showMessage(this.noDataMessage),this.focus.initFocusView())}},_onFetchComplete:function(a,b){if(this.scroller){a&&0<a.length&&(m.forEach(a,function(a,c){this._addItem(a,b.start+c,!0)},this),this.updateRows(b.start,a.length),b.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),c("ie")&&i.setSelectable(this.domNode,
this.selectable));delete this._lastScrollTop;if(!this._isLoaded)this._isLoading=!1,this._isLoaded=!0;this._pending_requests[b.start]=!1}},_onFetchError:function(a,b){delete this._lastScrollTop;if(!this._isLoaded)this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage);this._pending_requests[b.start]=!1;this.onFetchError(a,b)},onFetchError:function(){},_fetch:function(a,b){a=a||0;if(this.store&&!this._pending_requests[a]){if(!this._isLoaded&&!this._isLoading)this._isLoading=!0,this.showMessage(this.loadingMessage);
this._pending_requests[a]=!0;try{if(this.items){var c=this.items,d=this.store;this.rowsPerPage=c.length;var e={start:a,count:this.rowsPerPage,isRender:b};this._onFetchBegin(c.length,e);var f=0;m.forEach(c,function(a){d.isItemLoaded(a)||f++});if(0===f)this._onFetchComplete(c,e);else{var g=function(){f--;0===f&&this._onFetchComplete(c,e)};m.forEach(c,function(a){d.isItemLoaded(a)||d.loadItem({item:a,onItem:g,scope:this})},this)}}else this.store.fetch({start:a,count:this.rowsPerPage,query:this.query,
sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:b,onBegin:j.hitch(this,"_onFetchBegin"),onComplete:j.hitch(this,"_onFetchComplete"),onError:j.hitch(this,"_onFetchError")})}catch(i){this._onFetchError(i,{start:a,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(a){var b=this._by_idx[a];return!b||b&&!b.item?(this._preparePage(a),null):b.item},
getItemIndex:function(a){return this._getItemIndex(a,!1)},_getItemIndex:function(a,b){if(!b&&!this.store.isItem(a))return-1;for(var c=this._hasIdentity?this.store.getIdentity(a):null,d=0,e=this._by_idx.length;d<e;d++){var f=this._by_idx[d];if(f&&(c&&f.idty==c||f.item===a))return d}return-1},filter:function(a,b){this.query=a;b&&this._clearData();this._fetch()},_getItemAttr:function(a,b){var c=this.getItem(a);return!c?this.fetchText:this.store.getValue(c,b)},_render:function(){this.domNode.parentNode&&
(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(a){return this._pending_requests[a]},_rowToPage:function(a){return this.rowsPerPage?Math.floor(a/this.rowsPerPage):a},_pageToRow:function(a){return this.rowsPerPage?this.rowsPerPage*a:a},_preparePage:function(a){if((a<this._bop||a>=this._eop)&&!this._addingItem)a=this._rowToPage(a),this._needPage(a),this._bop=a*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||
this.get("rowCount"))},_needPage:function(a){this._pages[a]||(this._pages[a]=!0,this._requestPage(a))},_requestPage:function(a){a=this._pageToRow(a);0<Math.min(this.rowsPerPage,this.get("rowCount")-a)&&(this._requests++,this._requestsPending(a)||setTimeout(j.hitch(this,"_fetch",a,!1),1))},getCellName:function(a){return a.field},_refresh:function(a){this._clearData();this._fetch(0,a)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},
getSortProps:function(){var a=this.getCell(this.getSortIndex());if(a){var b=a.sortDesc,c=!(0<this.sortInfo);return[{attribute:a.field,descending:"undefined"==typeof b?c:c?!b:b}]}return this.sortFields?this.sortFields:null},styleRowState:function(a){if(this.store&&this.store.getState){for(var b=this.store.getState(a.index),c="",d=0,e=["inflight","error","inserting"],f;f=e[d];d++)if(b[f]){c=" dojoxGridRow-"+f;break}a.customClasses+=c}},onStyleRow:function(a){this.styleRowState(a);this.inherited(arguments)},
canEdit:function(){return this._canEdit},_copyAttr:function(a,b){return this.store.getValue(this.getItem(a),b)},doStartEdit:function(a,b){this._cache[b]||(this._cache[b]=this._copyAttr(b,a.field));this.onStartEdit(a,b)},doApplyCellEdit:function(a,b,c){this.store.fetchItemByIdentity({identity:this._by_idx[b].idty,onItem:j.hitch(this,function(d){var e=this.store.getValue(d,c);"number"==typeof e?a=isNaN(a)?a:parseFloat(a):"boolean"==typeof e?a="true"==a?!0:"false"==a?!1:a:e instanceof Date&&(e=new Date(a),
a=isNaN(e.getTime())?a:e);this.store.setValue(d,c,a);this.onApplyCellEdit(a,b,c)})})},doCancelEdit:function(a){this._cache[a]&&(this.updateRow(a),delete this._cache[a]);this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(a){this.onApplyEdit(a)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var a=j.hitch(this,function(a){a.length&&(m.forEach(a,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,
onComplete:a}):a(this.selection.getSelected())}}});f.cell_markupFactory=function(a,b,c){var d=j.trim(i.attr(b,"field")||"");if(d)c.field=d;c.field=c.field||c.name;if(d=j.trim(i.attr(b,"fields")||""))c.fields=d.split(",");a&&a(b,c)};f.markupFactory=function(a,b,c,d){return g.markupFactory(a,b,c,j.partial(f.cell_markupFactory,d))};return f});