//>>built
define("dojox/app/utils/mvcModel","dojo/_base/lang,dojo/Deferred,dojo/when,dojo/_base/config,dojo/store/DataStore,dojox/mvc/getStateful,dojo/has".split(","),function(h,i,j,o,m,n){return function(d,a,k){var c={},f=new i,g=function(a){var b={},c;for(c in a)"_"!==c.charAt(0)&&(b[c]=a[c]);return b},e;if(a.store)e={store:a.store.store,query:a.query?g(a.query):a.store.query?g(a.store.query):{}};else if(a.datastore)e={store:new m({store:a.datastore.store}),query:g(a.query)};else if(a.data){if(a.data&&h.isString(a.data))a.data=
h.getObject(a.data);e={data:a.data,query:{}}}var b=null,d=d[k].type?d[k].type:"dojox/mvc/EditStoreRefListController",l=new i;require([d],function(a){l.resolve(a)});j(l,function(a){b=new a(e);var d;try{b.queryStore?d=b.queryStore(e.query):(b.set(b._refSourceModelProp||b._refModelProp||"model",n(e.data)),d=b)}catch(g){return f.reject("load mvc model error."),f.promise}if(d.then)j(d,h.hitch(this,function(){c=b;f.resolve(c);return c}),function(){loadModelLoaderDeferred.reject("load model error.")});else return c=
b,f.resolve(c),c});return f}});