//>>built
require({cache:{"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(h,c,d,b,a){var e=a.doc.documentElement,g=b("ie"),f=b("opera"),i=Math.floor,k=b("ff"),a=h.boxModel.replace(/-/,""),g={dj_ie:g,dj_ie6:6==i(g),dj_ie7:7==i(g),dj_ie8:8==i(g),dj_ie9:9==i(g),dj_quirks:b("quirks"),dj_iequirks:g&&b("quirks"),dj_opera:f,dj_khtml:b("khtml"),dj_webkit:b("webkit"),dj_safari:b("safari"),dj_chrome:b("chrome"),dj_gecko:b("mozilla"),dj_ff3:3==i(k)};g["dj_"+
a]=!0;var j="",q;for(q in g)g[q]&&(j+=q+" ");e.className=c.trim(e.className+" "+j);d(90,function(){if(!h.isBodyLtr()){var a="dj_rtl dijitRtl "+j.replace(/ /g,"-rtl ");e.className=c.trim(e.className+" "+a+"dj_rtl dijitRtl "+j.replace(/ /g,"-rtl "))}});return b})},"dojox/mobile/app/_Widget":function(){define("dojox/mobile/app/_Widget",["dijit","dojo","dojox","dojo/require!dijit/_WidgetBase"],function(h,c){c.provide("dojox.mobile.app._Widget");c.experimental("dojox.mobile.app._Widget");c.require("dijit._WidgetBase");
c.declare("dojox.mobile.app._Widget",h._WidgetBase,{getScroll:function(){return{x:c.global.scrollX,y:c.global.scrollY}},connect:function(d,b,a){return("dblclick"==b.toLowerCase()||"ondblclick"==b.toLowerCase())&&c.global.Mojo?this.connect(d,Mojo.Event.tap,a):this.inherited(arguments)}})})},"dojox/mobile/app/ImageThumbView":function(){define("dojox/mobile/app/ImageThumbView",["dijit","dojo","dojox","dojo/require!dijit/_WidgetBase,dojo/string"],function(h,c){c.provide("dojox.mobile.app.ImageThumbView");
c.experimental("dojox.mobile.app.ImageThumbView");c.require("dijit._WidgetBase");c.require("dojo.string");c.declare("dojox.mobile.app.ImageThumbView",h._WidgetBase,{items:[],urlParam:"url",labelParam:null,itemTemplate:'<div class="mblThumbInner"><div class="mblThumbOverlay"></div><div class="mblThumbMask"><div class="mblThumbSrc" style="background-image:url(${url})"></div></div></div>',minPadding:4,maxPerRow:3,maxRows:-1,baseClass:"mblImageThumbView",thumbSize:"medium",animationEnabled:!0,selectedIndex:-1,
cache:null,cacheMustMatch:!1,clickEvent:"onclick",cacheBust:!1,disableHide:!1,constructor:function(){},postCreate:function(){this.inherited(arguments);var d=this;this.addThumb=c.hitch(this,this.addThumb);this.handleImgLoad=c.hitch(this,this.handleImgLoad);this.hideCached=c.hitch(this,this.hideCached);this._onLoadImages={};this.cache=[];this.visibleImages=[];this._cacheCounter=0;this.connect(this.domNode,this.clickEvent,function(b){if((b=d._getItemNodeFromEvent(b))&&!b._cached)d.onSelect(b._item,b._index,
d.items),c.query(".selected",this.domNode).removeClass("selected"),c.addClass(b,"selected")});c.addClass(this.domNode,this.thumbSize);this.resize();this.render()},onSelect:function(){},_setAnimationEnabledAttr:function(d){this.animationEnabled=d;c[d?"addClass":"removeClass"](this.domNode,"animated")},_setItemsAttr:function(d){this.items=d||[];var d={},b;for(b=0;b<this.items.length;b++)d[this.items[b][this.urlParam]]=1;var a=[],e;for(e in this._onLoadImages)if(!d[e]&&this._onLoadImages[e]._conn)c.disconnect(this._onLoadImages[e]._conn),
this._onLoadImages[e].src=null,a.push(e);for(b=0;b<a.length;b++)delete this._onLoadImages[e];this.render()},_getItemNode:function(d){for(;d&&!c.hasClass(d,"mblThumb")&&d!=this.domNode;)d=d.parentNode;return d==this.domNode?null:d},_getItemNodeFromEvent:function(c){c.touches&&0<c.touches.length&&(c=c.touches[0]);return this._getItemNode(c.target)},resize:function(){this._thumbSize=null;this._size=c.contentBox(this.domNode);this.disableHide=!0;this.render();this.disableHide=!1},hideCached:function(){for(var d=
0;d<this.cache.length;d++)this.cache[d]&&c.style(this.cache[d],"display","none")},render:function(){for(var d,b,a;this.visibleImages&&0<this.visibleImages.length;)d=this.visibleImages.pop(),this.cache.push(d),this.disableHide||c.addClass(d,"hidden"),d._cached=!0;this.cache&&0<this.cache.length&&setTimeout(this.hideCached,1E3);if(this.items&&0!=this.items.length){for(d=0;d<this.items.length&&!(a=this.items[d],b=c.isString(a)?a:a[this.urlParam],this.addThumb(a,b,d),0<this.maxRows&&(d+1)/this.maxPerRow>=
this.maxRows);d++);if(this._thumbSize){b=0;a=-1;var e=this._thumbSize.w+2*this.padding,g=this._thumbSize.h+2*this.padding,f=this.thumbNodes=c.query(".mblThumb",this.domNode),i=0,f=this.visibleImages;for(d=0;d<f.length;d++)if(!f[d]._cached){0==i%this.maxPerRow&&a++;b=i%this.maxPerRow;this.place(f[d],b*e+this.padding,a*g+this.padding);f[d]._loading||c.removeClass(f[d],"hidden");if(i==this.selectedIndex)c[i==this.selectedIndex?"addClass":"removeClass"](f[d],"selected");i++}this._numRows=d=Math.ceil(i/
this.maxPerRow);this.setContainerHeight(d*(this._thumbSize.h+2*this.padding))}}},setContainerHeight:function(d){c.style(this.domNode,"height",d+"px")},addThumb:function(d,b,a){var e,g=!1;if(0<this.cache.length){for(var f=0;f<this.cache.length;f++)if(this.cache[f]._url==b){e=this.cache.splice(f,1)[0];break}!e&&!this.cacheMustMatch?(e=this.cache.pop(),c.removeClass(e,"selected")):g=!0}e||(e=c.create("div",{"class":"mblThumb hidden",innerHTML:c.string.substitute(this.itemTemplate,{url:b},null,this)},
this.domNode));if(this.labelParam)(f=c.query(".mblThumbLabel",e)[0])||(f=c.create("div",{"class":"mblThumbLabel"},e)),f.innerHTML=d[this.labelParam]||"";c.style(e,"display","");this.disableHide||c.addClass(e,"hidden");if(!g&&(g=c.create("img",{}),g._thumbDiv=e,g._conn=c.connect(g,"onload",this.handleImgLoad),g._url=b,e._loading=!0,this._onLoadImages[b]=g))g.src=b;this.visibleImages.push(e);e._index=a;e._item=d;e._url=b;e._cached=!1;if(!this._thumbSize){this._thumbSize=c.marginBox(e);if(0==this._thumbSize.h)this._thumbSize.h=
100,this._thumbSize.w=100;this.labelParam&&(this._thumbSize.h+=8);this.calcPadding()}},handleImgLoad:function(d){d=d.target;c.disconnect(d._conn);c.removeClass(d._thumbDiv,"hidden");d._thumbDiv._loading=!1;d._conn=null;var b=d._url;this.cacheBust&&(b+=(-1<b.indexOf("?")?"&":"?")+"cacheBust="+(new Date).getTime()+"_"+this._cacheCounter++);c.query(".mblThumbSrc",d._thumbDiv).style("backgroundImage","url("+b+")");delete this._onLoadImages[d._url]},calcPadding:function(){var c=this._size.w,b=this._thumbSize.w;
this.maxPerRow=Math.floor(c/(b+this.minPadding));this.padding=Math.floor((c-b*this.maxPerRow)/(2*this.maxPerRow))},place:function(d,b,a){c.style(d,{"-webkit-transform":"translate("+b+"px,"+a+"px)"})},destroy:function(){var c,b=0,a;for(a in this._onLoadImages)if(c=this._onLoadImages[a])c.src=null,b++;this.inherited(arguments)}})})},"dojox/mobile/TransitionEvent":function(){define("dojox/mobile/TransitionEvent",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/on","./transition"],
function(h,c,d,b,a){return h("dojox.mobile.TransitionEvent",null,{constructor:function(a,b,c){this.transitionOptions=b;this.target=a;this.triggerEvent=c||null},dispatch:function(){var e=b.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent});e&&c.when(a,d.hitch(this,function(a){c.when(a.call(this,e),d.hitch(this,function(a){this.endTransition(a)}))}))},endTransition:function(a){b.emit(this.target,"endTransition",{detail:a.transitionOptions})}})})},
"dojox/mobile/ViewController":function(){define("dojo/_base/kernel,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/on,dojo/ready,dijit/registry,./ProgressIndicator,./TransitionEvent,./viewRegistry".split(","),function(h,c,d,b,a,e,g,f,i,k,j,q,l,p,m,u){var t=b("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",
constructor:function(){this.viewMap={};q(a.hitch(this,function(){j(e.body(),"startTransition",a.hitch(this,"onStartTransition"))}))},findTransitionViews:function(a){if(!a)return[];a.match(/^#?([^&?]+)(.*)/);var a=RegExp.$2,b=l.byId(RegExp.$1);if(!b)return[];for(var c=b.getParent();c;c=c.getParent())if(c.isVisible&&!c.isVisible()){var e=b.getShowingView();e&&e.id!==b.id&&b.show();b=c}return[b.getShowingView(),b,a]},openExternalView:function(b,c){var d=new g,k=this.viewMap[b.url];if(k)return b.moveTo=
k,b.noTransition?l.byId(k).hide():(new m(e.body(),b)).dispatch(),d.resolve(!0),d;for(var q=null,k=c.childNodes.length-1;0<=k;k--){var p=c.childNodes[k];if(1===p.nodeType&&"bottom"===(p.getAttribute("fixed")||l.byNode(p)&&l.byNode(p).fixed)){q=p;break}}require([b.dataHandlerClass||this.dataHandlerClass,b.dataSourceClass||this.dataSourceClass,b.fileTypeMapClass||this.fileTypeMapClass],a.hitch(this,function(k,p,f){k=new k(new p(b.data||b.url),c,q);f=b.contentType||f.getContentType(b.url)||"html";k.processData(f,
a.hitch(this,function(a){a?(this.viewMap[b.url]=b.moveTo=a,b.noTransition?l.byId(a).hide():(new m(e.body(),b)).dispatch(),d.resolve(!0)):d.reject("Failed to load "+b.url)}))}));return d},onStartTransition:function(a){a.preventDefault();if(a.detail){var b=a.detail;if(b.moveTo||b.href||b.url||b.scene)if(b.url&&!b.moveTo){var c=b.urlTarget,k=l.byId(c),c=k&&k.containerNode||f.byId(c);c||(c=(k=u.getEnclosingView(a.target))&&k.domNode.parentNode||e.body());this.openExternalView(b,c)}else if(b.href)if(b.hrefTarget)e.global.open(b.href,
b.hrefTarget);else{for(k=u.getEnclosingView(a.target);k;k=u.getParentView(k))c=k;c&&c.performTransition(null,b.transitionDir,b.transition,a.target,function(){location.href=b.href})}else if(b.scene)d.publish("/dojox/mobile/app/pushScene",[b.scene]);else{var p=this.findTransitionViews(b.moveTo),c=p[0],k=p[1],p=p[2];if(!location.hash&&!b.hashchange)u.initialView=c;if(b.moveTo&&k)b.moveTo=("#"===b.moveTo.charAt(0)?"#"+k.id:k.id)+p;if(c&&!(b.moveTo&&c===l.byId(b.moveTo.replace(/^#?([^&?]+).*/,"$1")))){if((a=
l.getEnclosingWidget(a.target))&&a.callback)b.context=a,b.method=a.callback;c.performTransition(b)}}}}});t._instance=new t;t.getInstance=function(){return t._instance};return t})},"dojox/mobile/ToolBarButton":function(){define("dojox/mobile/ToolBarButton","dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff,./_ItemBase".split(","),function(h,c,d,b,a,e,g,f){return h("dojox.mobile.ToolBarButton",f,{selected:!1,arrow:"",light:!0,defaultColor:"mblColorDefault",
selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef)this.label=this.srcNodeRef.innerHTML;this.label=c.trim(this.label);this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:a.create("span");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label))this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode,b.add(this.domNode,
this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));else{this.domNode.innerHTML="";if("left"===this.arrow||"right"===this.arrow)this.arrowNode=a.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+("left"===this.arrow?"Left":"Right")+"Arrow "+(g("ie")?"":this.defaultColor+" "+this.defaultColor+"45")},this.domNode),b.add(this.domNode,"mblToolBarButtonHas"+("left"===this.arrow?"Left":"Right")+"Arrow");this.bodyNode=a.create("span",
{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=a.create("table",{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);var e=this.tableNode.insertRow(-1);this.iconParentNode=e.insertCell(-1);this.labelNode=e.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";this.icon&&"none"!==this.icon&&this.label&&(b.add(this.domNode,"mblToolBarButtonHasIcon"),b.add(this.bodyNode,"mblToolBarButtonLabeledIcon"));b.add(this.bodyNode,
this.defaultColor)}},startup:function(){if(!this._started&&(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),!this._isOnLine))this._isOnLine=!0,this.set("icon",this.icon)},_onClick:function(a){a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a)||this.defaultClickAction(a)},onClick:function(){},_setLabelAttr:function(a){this.inherited(arguments);b.toggle(this.tableNode,"mblToolBarButtonText",a)},_setSelectedAttr:function(a){this.inherited(arguments);
if(a){if(b.replace(this.bodyNode,this.selColor,this.defaultColor),!g("ie")&&this.arrowNode){var c=this.selColor,e=this.defaultColor;b.replace(this.arrowNode,c+" "+c+"45",e+" "+e+"45")}}else if(b.replace(this.bodyNode,this.defaultColor,this.selColor),!g("ie")&&this.arrowNode)c=this.defaultColor,e=this.selColor,b.replace(this.arrowNode,c+" "+c+"45",e+" "+e+"45");b.toggle(this.domNode,"mblToolBarButtonSelected",a);b.toggle(this.bodyNode,"mblToolBarButtonBodySelected",a)}})})},"dojox/mobile/_ItemBase":function(){define("dojox/mobile/_ItemBase",
"dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/touch,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./TransitionEvent,./iconUtils".split(","),function(h,c,d,b,a,e,g,f,i,k,j,q){return c("dojox.mobile._ItemBase",[k,i,f],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:!1,url:"",urlTarget:"",back:!1,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:!1,selected:!1,tabIndex:"0",
_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:!1,_duration:800,_handleClick:!0,buildRendering:function(){this.inherited(arguments);this._isOnLine=this.inheritParams()},startup:function(){if(!this._started){this._isOnLine||this.inheritParams();if(this._handleClick&&"touch"===this._selStartMethod)this._onTouchStartHandle=this.connect(this.domNode,e.press,"_onTouchStart");this.inherited(arguments)}},inheritParams:function(){var a=
this.getParent();a&&h.forEach(this.paramsToInherit.split(/,/),function(b){if(b.match(/icon/i)){var c=b+"Base",e=b+"Pos";this[b]&&a[c]&&"/"===a[c].charAt(a[c].length-1)&&(this[b]=a[c]+this[b]);this[b]||(this[b]=a[c]);this[e]||(this[e]=a[e])}this[b]||(this[b]=a[b])},this);return!!a},getTransOpts:function(){var a=this.transitionOptions||{};h.forEach("moveTo,href,hrefTarget,url,target,urlTarget,scene,transition,transitionDir".split(","),function(b){a[b]=a[b]||this[b]},this);return a},userClickAction:function(){},
defaultClickAction:function(a){this.handleSelection(a);!1!==this.userClickAction(a)&&this.makeTransition(a)},handleSelection:function(){if(this._onTouchEndHandle)this.disconnect(this._onTouchEndHandle),this._onTouchEndHandle=null;var a=this.getParent();if(this.toggle)this.set("selected",!this._currentSel);else if(a&&a.selectOne)this.set("selected",!0);else if("touch"===this._selEndMethod)this.set("selected",!1);else if("timer"===this._selEndMethod){var b=this;this.defer(function(){b.set("selected",
!1)},this._duration)}},makeTransition:function(a){if(this.back&&history)history.back();else if(this.href&&this.hrefTarget)b.global.open(this.href,this.hrefTarget||"_blank"),this._onNewWindowOpened(a);else{var c=this.getTransOpts(),e=!(!c.moveTo&&!c.href&&!c.url&&!c.target&&!c.scene);if(!1!==this._prepareForTransition(a,e?c:null)&&e)this.setTransitionPos(a),(new j(this.domNode,c,a)).dispatch()}},_onNewWindowOpened:function(){},_prepareForTransition:function(){},_onTouchStart:function(a){if(!(this.getParent().isEditing||
!1===this.onTouchStart(a))){if(!this._onTouchEndHandle&&"touch"===this._selStartMethod)this._onTouchMoveHandle=this.connect(b.body(),e.move,"_onTouchMove"),this._onTouchEndHandle=this.connect(b.body(),e.release,"_onTouchEnd");this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.touchStartY=a.touches?a.touches[0].pageY:a.clientY;this._currentSel=this.selected;this._delayedSelection?this._selTimer=setTimeout(d.hitch(this,function(){this.set("selected",!0)}),100):this.set("selected",!0)}},onTouchStart:function(){},
_onTouchMove:function(a){var b=a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(b-this.touchStartY))this.cancel(),(a=this.getParent())&&a.selectOne?this._prevSel&&this._prevSel.set("selected",!0):this.set("selected",!1)},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null},cancel:function(){if(this._selTimer)clearTimeout(this._selTimer),
this._selTimer=null;this._disconnect()},_onTouchEnd:function(a){if(this._selTimer||!this._delayedSelection)this.cancel(),this._onClick(a)},setTransitionPos:function(b){for(var c=this;!(c=c.getParent(),!c||a.contains(c.domNode,"mblView")););if(c)c.clickedPosX=b.clientX,c.clickedPosY=b.clientY},transitionTo:function(a,b,c,e){(new j(this.domNode,a&&"object"===typeof a?a:{moveTo:a,href:b,url:c,scene:e,transition:this.transition,transitionDir:this.transitionDir})).dispatch()},_setIconAttr:function(a){if(this._isOnLine)this._set("icon",
a),this.iconNode=q.setIcon(a,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position)},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this._cv?this._cv(a):a},_setSelectedAttr:function(a){if(a){var b=this.getParent();b&&b.selectOne&&(b=h.filter(b.getChildren(),function(a){return a.selected}),h.forEach(b,function(a){this._prevSel=a;a.set("selected",!1)},this))}this._set("selected",a)}})})},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class",
"dojo/hccss","dojo/ready","dojo/_base/window"],function(h,c,d,b){d(90,function(){c("highcontrast")&&h.add(b.body(),"dijit_a11y")});return c})},"dojox/mobile/Container":function(){define("dojox/mobile/Container",["dojo/_base/declare","dijit/_Container","./Pane"],function(h,c,d){return h("dojox.mobile.Container",[d,c],{baseClass:"mblContainer"})})},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(h,c){return h("dijit._Contained",null,{_getSibling:function(d){var b=
this.domNode;do b=b[d+"Sibling"];while(b&&1!=b.nodeType);return b&&c.byNode(b)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var c=this.getParent();return!c||!c.getIndexOfChild?-1:c.getIndexOfChild(this)}})})},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin","dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),
function(h,c,d,b,a,e,g,f){var i=c("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var e;void 0!==a&&(e=this.filter(a),"string"!=typeof c&&(c=null!==e&&("number"!=typeof e||!isNaN(e))?this.filter(this.format(e,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=
c,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,c);this.inherited(arguments,[e,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=""+a);this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==
a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);this._processInput(a)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(g(this.textbox,"keydown, keypress, paste, cut, input, compositionend",
e.hitch(this,function(b){var c;if("keydown"==b.type){c=b.keyCode;switch(c){case a.SHIFT:case a.ALT:case a.CTRL:case a.META:case a.CAPS_LOCK:case a.NUM_LOCK:case a.SCROLL_LOCK:return}if(!b.ctrlKey&&!b.metaKey&&!b.altKey){switch(c){case a.NUMPAD_0:case a.NUMPAD_1:case a.NUMPAD_2:case a.NUMPAD_3:case a.NUMPAD_4:case a.NUMPAD_5:case a.NUMPAD_6:case a.NUMPAD_7:case a.NUMPAD_8:case a.NUMPAD_9:case a.NUMPAD_MULTIPLY:case a.NUMPAD_PLUS:case a.NUMPAD_ENTER:case a.NUMPAD_MINUS:case a.NUMPAD_PERIOD:case a.NUMPAD_DIVIDE:return}if(65<=
c&&90>=c||48<=c&&57>=c||c==a.SPACE)return;c=!1;for(var d in a)if(a[d]===b.keyCode){c=!0;break}if(!c)return}}(c=32<=b.charCode?String.fromCharCode(b.charCode):b.charCode)||(c=65<=b.keyCode&&90>=b.keyCode||48<=b.keyCode&&57>=b.keyCode||b.keyCode==a.SPACE?String.fromCharCode(b.keyCode):b.keyCode);c||(c=229);if("keypress"==b.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(b.ctrlKey||b.metaKey||b.altKey)return}if("input"==b.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var l={faux:!0},f;for(f in b)"layerX"!=f&&"layerY"!=f&&(d=b[f],"function"!=typeof d&&"undefined"!=typeof d&&(l[f]=d));e.mixin(l,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){l._wasConsumed=!0;b.preventDefault()},stopPropagation:function(){b.stopPropagation()}});!1===this.onInput(l)&&(l.preventDefault(),l.stopPropagation());l._wasConsumed||this.defer(function(){this._onInput(l)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;
if("string"!=typeof a)return a;this.trim&&(a=e.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){if(!this.disabled&&
!this.readOnly){if(this.selectOnClick&&"mouse"==a)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;this._isTextSelected()||i.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},
_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});i._setSelectionRange=f._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};i.selectInputText=f.selectInputText=function(a,b,c){a=d.byId(a);isNaN(b)&&(b=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),i._setSelectionRange(a,b,c)}catch(e){}};return i})},"dojox/mobile/parser":function(){define("dojox/mobile/parser","dojo/_base/kernel,dojo/_base/array,dojo/_base/config,dojo/_base/lang,dojo/_base/window,dojo/ready".split(","),
function(h,c,d,b,a,e){var g=b.getObject("dojox.mobile",!0),f=new function(){var e={},d=function(a,l){if("string"===typeof l){var f=a+":"+l.replace(/ /g,"");return e[f]||(e[f]=d(a).createSubclass(c.map(l.split(/, */),d)))}return e[a]||(e[a]=b.getObject(a)||require(a))},f=function(a){return eval(a)};this.instantiate=function(a,c,e){var c=c||{},e=e||{},g,i=[];if(a){for(g=0;g<a.length;g++){var h=a[g],r=d(h._type,h.getAttribute("data-dojo-mixins")),v=r.prototype,s={},n,o,x;b.mixin(s,f.call(e.propsThis,
"({"+(h.getAttribute("data-dojo-props")||"")+"})"));b.mixin(s,e.defaults);b.mixin(s,c);for(n in v)if(o=(o=h.getAttributeNode(n))&&o.nodeValue,x=typeof v[n],o||!("boolean"!==x||""!==o))b.isArray(v[n])?s[n]=o.split(/\s*,\s*/):"string"===x?s[n]=o:"number"===x?s[n]=o-0:"boolean"===x?s[n]="false"!==o:"object"===x?s[n]=eval("("+o+")"):"function"===x&&(s[n]=b.getObject(o,!1)||new Function(o),h.removeAttribute(n));s["class"]=h.className;if(!s.style)s.style=h.style.cssText;if(o=h.getAttribute("data-dojo-attach-point"))s.dojoAttachPoint=
o;if(o=h.getAttribute("data-dojo-attach-event"))s.dojoAttachEvent=o;r=new r(s,h);i.push(r);(h=h.getAttribute("jsId")||h.getAttribute("data-dojo-id"))&&b.setObject(h,r)}for(g=0;g<i.length;g++)a=i[g],!e.noStart&&a.startup&&!a._started&&a.startup()}return i};this.parse=function(b,c){if(b){if(!c&&b.rootNode)c=b,b=b.rootNode}else b=a.body();var e=b.getElementsByTagName("*"),f,g,i=[];for(f=0;f<e.length;f++){var j=e[f];if(g=j._type=j.getAttribute("dojoType")||j.getAttribute("data-dojo-type"))if(j._skip)j._skip=
"";else{if(d(g).prototype.stopParser&&(!c||!c.template)){var h=j.getElementsByTagName("*");for(g=0;g<h.length;g++)h[g]._skip="1"}i.push(j)}}return this.instantiate(i,c&&c.template?{template:!0}:null,c)}};d.parseOnLoad&&e(100,function(){try{require("dojo/parser")||f.parse()}catch(a){f.parse()}});g.parser=f;h.parser=h.parser||f;return f})},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(h,c,d){return c("dijit._Container",
null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(b,a){var c=this.containerNode;if(a&&"number"==typeof a){var g=this.getChildren();if(g&&g.length>=a)c=g[a-1].domNode,a="after"}d.place(b.domNode,c,a);this._started&&!b._started&&b.startup()},removeChild:function(b){"number"==typeof b&&(b=this.getChildren()[b]);if(b)(b=b.domNode)&&b.parentNode&&b.parentNode.removeChild(b)},hasChildren:function(){return 0<this.getChildren().length},
_getSiblingOfChild:function(b,a){var c=this.getChildren(),d=h.indexOf(this.getChildren(),b);return c[d+a]},getIndexOfChild:function(b){return h.indexOf(this.getChildren(),b)}})})},"dojox/mobile/app/SceneController":function(){define(["dijit","dojo","dojox","dojo/require!dojox/mobile/_base"],function(h,c,d){c.provide("dojox.mobile.app.SceneController");c.experimental("dojox.mobile.app.SceneController");c.require("dojox.mobile._base");(function(){var b=d.mobile.app,a={};c.declare("dojox.mobile.app.SceneController",
d.mobile.View,{stageController:null,keepScrollPos:!1,init:function(e,d){this.sceneName=e;this.params=d;var f=b.resolveTemplate(e);this._deferredInit=new c.Deferred;a[e]?this._setContents(a[e]):c.xhrGet({url:f,handleAs:"text"}).addCallback(c.hitch(this,this._setContents));return this._deferredInit},_setContents:function(e){a[this.sceneName]=e;this.domNode.innerHTML="<div>"+e+"</div>";for(var g="",e=this.sceneName.split("-"),f=0;f<e.length;f++)g+=e[f].substring(0,1).toUpperCase()+e[f].substring(1);
this.sceneAssistantName=g+="Assistant";var i=this;d.mobile.app.loadResourcesForScene(this.sceneName,function(){if("undefined"!=typeof c.global[g])i._initAssistant();else{var a=b.resolveAssistant(i.sceneName);c.xhrGet({url:a,handleAs:"text"}).addCallback(function(a){try{c.eval(a)}catch(b){throw b;}i._initAssistant()})}})},_initAssistant:function(){var a=c.getObject(this.sceneAssistantName);if(!a)throw Error("Unable to resolve scene assistant "+this.sceneAssistantName);this.assistant=new a(this.params);
this.assistant.controller=this;this.assistant.domNode=this.domNode.firstChild;this.assistant.setup();this._deferredInit.callback()},query:function(a,b){return c.query(a,b||this.domNode)},parse:function(a){for(var a=this._widgets=d.mobile.parser.parse(a||this.domNode,{controller:this}),b=0;b<a.length;b++)a[b].set("controller",this)},getWindowSize:function(){return{w:c.global.innerWidth,h:c.global.innerHeight}},showAlertDialog:function(a){c.marginBox(this.assistant.domNode);a=new d.mobile.app.AlertDialog(c.mixin(a,
{controller:this}));this.assistant.domNode.appendChild(a.domNode);a.show()},popupSubMenu:function(a){var b=new d.mobile.app.ListSelector({controller:this,destroyOnHide:!0,onChoose:a.onChoose});this.assistant.domNode.appendChild(b.domNode);b.set("data",a.choices);b.show(a.fromNode)}})})()})},"dojox/mobile/app/_base":function(){define("dojox/mobile/app/_base",["dijit","dojo","dojox","dojo/require!dijit/_base,dijit/_WidgetBase,dojox/mobile,dojox/mobile/parser,dojox/mobile/Button,dojox/mobile/app/_event,dojox/mobile/app/_Widget,dojox/mobile/app/StageController,dojox/mobile/app/SceneController,dojox/mobile/app/SceneAssistant,dojox/mobile/app/AlertDialog,dojox/mobile/app/List,dojox/mobile/app/ListSelector,dojox/mobile/app/TextBox,dojox/mobile/app/ImageView,dojox/mobile/app/ImageThumbView"],
function(h,c,d){c.provide("dojox.mobile.app._base");c.experimental("dojox.mobile.app._base");c.require("dijit._base");c.require("dijit._WidgetBase");c.require("dojox.mobile");c.require("dojox.mobile.parser");c.require("dojox.mobile.Button");c.require("dojox.mobile.app._event");c.require("dojox.mobile.app._Widget");c.require("dojox.mobile.app.StageController");c.require("dojox.mobile.app.SceneController");c.require("dojox.mobile.app.SceneAssistant");c.require("dojox.mobile.app.AlertDialog");c.require("dojox.mobile.app.List");
c.require("dojox.mobile.app.ListSelector");c.require("dojox.mobile.app.TextBox");c.require("dojox.mobile.app.ImageView");c.require("dojox.mobile.app.ImageThumbView");(function(){function b(a,e){var d,f;do if(d=a.pop(),d.source)f=d.source;else if(d.module)f=c.moduleUrl(d.module)+".js";else return;while(0<a.length&&g[f]);1>a.length&&g[f]?e():c.xhrGet({url:f,sync:!1}).addCallbacks(function(d){c.eval(d);g[f]=!0;0<a.length?b(a,e):e()},function(){})}var a,e,g={},f,i=[],k=function(){a=new d.mobile.app.StageController(f);
var b={id:"com.test.app",version:"1.0.0",initialScene:"main"};c.global.appInfo&&c.mixin(b,c.global.appInfo);e=d.mobile.app.info=b;if(e.title)c.query("head title")[0]||c.create("title",{},c.query("head")[0]),document.title=e.title;a.pushScene(e.initialScene)},j=function(){var a=!1;c.global.BackButton&&(BackButton.override(),c.connect(document,"backKeyDown",function(){c.publish("/dojox/mobile/app/goback")}),a=!0);a&&c.addClass(c.body(),"mblNativeBack")};c.mixin(d.mobile.app,{init:function(e){f=e||c.body();
d.mobile.app.STAGE_CONTROLLER_ACTIVE=!0;c.subscribe("/dojox/mobile/app/goback",function(){a.popScene()});c.subscribe("/dojox/mobile/app/alert",function(a){d.mobile.app.getActiveSceneController().showAlertDialog(a)});c.subscribe("/dojox/mobile/app/pushScene",function(b,c){a.pushScene(b,c||{})});c.xhrGet({url:"view-resources.json",load:function(a){var e=[];if(a){i=a=c.fromJson(a);for(var d=0;d<a.length;d++)a[d].scene||e.push(a[d])}0<e.length?b(e,k):k()},error:k});j()},getActiveSceneController:function(){return a.getActiveSceneController()},
getStageController:function(){return a},loadResources:function(a,c){b(a,c)},loadResourcesForScene:function(a,c){for(var e=[],d=0;d<i.length;d++)i[d].scene==a&&e.push(i[d]);0<e.length?b(e,c):c()},resolveTemplate:function(a){return"app/views/"+a+"/"+a+"-scene.html"},resolveAssistant:function(a){return"app/assistants/"+a+"-assistant.js"}})})()})},"dijit/_base/scroll":function(){define("dijit/_base/scroll",["dojo/window","../main"],function(h,c){c.scrollIntoView=function(c,b){h.scrollIntoView(c,b)}})},
"dojo/fx":function(){define("./_base/lang,./Evented,./_base/kernel,./_base/array,./_base/connect,./_base/fx,./dom,./dom-style,./dom-geometry,./ready,require".split(","),function(h,c,d,b,a,e,g,f,i,k,j){d.isAsync||k(0,function(){j(["./fx/Toggler"])});var d=d.fx={},k={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}},q=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;b.forEach(this._animations,function(a){this.duration+=
a.duration;a.delay&&(this.duration+=a.delay)},this)};q.prototype=new c;h.extend(q,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){a.disconnect(this._onAnimateCtx);a.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=a.connect(this._current,"onAnimate",this,"_onAnimate"),this._onEndCtx=a.connect(this._current,"onEnd",this,"_onEnd"),
this._current.play(0,!0))},play:function(b,c){if(!this._current)this._current=this._animations[this._index=0];if(!c&&"playing"==this._current.status())return this;var e=a.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin")}),d=a.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),f=a.connect(this._current,"onPlay",this,function(b){this._fire("onPlay",arguments);a.disconnect(e);a.disconnect(d);a.disconnect(f)});this._onAnimateCtx&&a.disconnect(this._onAnimateCtx);
this._onAnimateCtx=a.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&a.disconnect(this._onEndCtx);this._onEndCtx=a.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var b=a.connect(this._current,"onPause",this,function(c){this._fire("onPause",arguments);a.disconnect(b)});this._current.pause()}return this},gotoPercent:function(a,c){this.pause();var e=this.duration*a;this._current=null;
b.some(this._animations,function(a){if(a.duration<=e)return this._current=a,!0;e-=a.duration;return!1});this._current&&this._current.gotoPercent(e/this._current.duration,c);return this},stop:function(b){if(this._current){if(b){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var c=a.connect(this._current,"onStop",this,function(b){this._fire("onStop",arguments);a.disconnect(c)});this._current.stop()}return this},
status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&a.disconnect(this._onAnimateCtx);this._onEndCtx&&a.disconnect(this._onEndCtx)}});h.extend(q,k);d.chain=function(a){return new q(a)};var l=function(c){this._animations=c||[];this._connects=[];this.duration=this._finished=0;b.forEach(c,function(b){var c=b.duration;b.delay&&(c+=b.delay);if(this.duration<c)this.duration=c;this._connects.push(a.connect(b,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=
new e.Animation({curve:[0,1],duration:this.duration});var d=this;b.forEach("beforeBegin,onBegin,onPlay,onAnimate,onPause,onStop,onEnd".split(","),function(b){d._connects.push(a.connect(d._pseudoAnimation,b,function(){d._fire(b,arguments)}))})};h.extend(l,{_doAction:function(a,c){b.forEach(this._animations,function(b){b[a].apply(b,c)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,
b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,c){var e=this.duration*a;b.forEach(this._animations,function(a){a.gotoPercent(a.duration<e?1:e/a.duration,c)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},
destroy:function(){b.forEach(this._connects,a.disconnect)}});h.extend(l,k);d.combine=function(a){return new l(a)};d.wipeIn=function(b){var c=b.node=g.byId(b.node),d=c.style,l,b=e.animateProperty(h.mixin({properties:{height:{start:function(){l=d.overflow;d.overflow="hidden";if("hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",1;var a=f.get(c,"height");return Math.max(a,1)},end:function(){return c.scrollHeight}}}},b)),i=function(){d.height="auto";d.overflow=
l};a.connect(b,"onStop",i);a.connect(b,"onEnd",i);return b};d.wipeOut=function(b){var c=(b.node=g.byId(b.node)).style,d,b=e.animateProperty(h.mixin({properties:{height:{end:1}}},b));a.connect(b,"beforeBegin",function(){d=c.overflow;c.overflow="hidden";c.display=""});var f=function(){c.overflow=d;c.height="auto";c.display="none"};a.connect(b,"onStop",f);a.connect(b,"onEnd",f);return b};d.slideTo=function(b){var c=null,d=null,l=function(a){return function(){var b=f.getComputedStyle(a),e=b.position;
c="absolute"==e?a.offsetTop:parseInt(b.top)||0;d="absolute"==e?a.offsetLeft:parseInt(b.left)||0;if("absolute"!=e&&"relative"!=e)b=i.position(a,!0),c=b.y,d=b.x,a.style.position="absolute",a.style.top=c+"px",a.style.left=d+"px"}}(b.node=g.byId(b.node));l();b=e.animateProperty(h.mixin({properties:{top:b.top||0,left:b.left||0}},b));a.connect(b,"beforeBegin",b,l);return b};return d})},"dijit/_base":function(){define("dijit/_base","./main,./a11y,./WidgetSet,./_base/focus,./_base/manager,./_base/place,./_base/popup,./_base/scroll,./_base/sniff,./_base/typematic,./_base/wai,./_base/window".split(","),
function(h){return h._base})},"dojox/mobile/sniff":function(){define("dojox/mobile/sniff",["dojo/_base/window","dojo/_base/sniff"],function(h,c){var d=navigator.userAgent;c.add("bb",0<=d.indexOf("BlackBerry")&&parseFloat(d.split("Version/")[1])||void 0,void 0,!0);c.add("android",parseFloat(d.split("Android ")[1])||void 0,void 0,!0);if(d.match(/(iPhone|iPod|iPad)/)){var b=RegExp.$1.replace(/P/,"p"),d=d.match(/OS ([\d_]+)/)?RegExp.$1:"1",d=parseFloat(d.replace(/_/,".").replace(/_/g,""));c.add(b,d,void 0,
!0);c.add("iphone",d,void 0,!0)}c("webkit")&&c.add("touch","undefined"!=typeof h.doc.documentElement.ontouchstart&&-1!=navigator.appVersion.indexOf("Mobile")||!!c("android"),void 0,!0);return c})},"dojox/mobile/ProgressIndicator":function(){define("dojo/_base/config,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dijit/_Contained,dijit/_WidgetBase".split(","),function(h,c,d,b,a,e,g,f,i,k){var j=c("dojox.mobile.ProgressIndicator",[k,i],
{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&b.add(this.domNode,"mblProgressIndicatorCenter");this.containerNode=a.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=a.create("div",null,this.containerNode);for(var c=0;12>c;c++)this._bars.push(a.create("div",{className:"mblProg mblProg"+c},this.spinnerNode));
this.scale(this.size);this.startSpinning&&this.start()},scale:function(a){var b=a/40;g.set(this.containerNode,{webkitTransform:"scale("+b+")",webkitTransformOrigin:"0 0"});e.setMarginBox(this.domNode,{w:a,h:a});e.setMarginBox(this.containerNode,{w:a/b,h:a/b})},start:function(){if(this.imageNode){var a=this.imageNode,c=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),e=Math.round((this.containerNode.offsetHeight-a.offsetHeight)/2);a.style.margin=e+"px "+c+"px"}else{var d=0,f=this;this.timer=
setInterval(function(){d--;d=0>d?11:d;for(var a=f.colors,c=0;12>c;c++){var e=(d+c)%12;a[e]?f._bars[c].style.backgroundColor=a[e]:b.replace(f._bars[c],"mblProg"+e+"Color","mblProg"+(11===e?0:e+1)+"Color")}},this.interval)}},stop:function(){this.timer&&clearInterval(this.timer);this.timer=null;this.removeOnStop&&this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(b){if(b)this.imageNode=a.create("img",{src:b},this.containerNode),this.spinnerNode.style.display=
"none";else{if(this.imageNode)this.containerNode.removeChild(this.imageNode),this.imageNode=null;this.spinnerNode.style.display=""}}});j._instance=null;j.getInstance=function(a){if(!j._instance)j._instance=new j(a);return j._instance};return j})},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin","dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),function(h,c,d,b,a,e,g,f,i){return c("dijit.form._FormWidgetMixin",
null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);d.set(this.focusNode,"disabled",b);this.valueNode&&d.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:
"focusNode",h.forEach(a.isArray(b)?b:[b],function(a){a=this[a];g("webkit")||i.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(c);this.disconnect(b)}),c=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(c);this.disconnect(b);this.focused&&this.focus()});
this.scrollOnFocus&&this.defer(function(){f.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=b.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&
(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)if(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})},create:function(){this.inherited(arguments);
this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe","require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(h,c,d,b,a,e,g,f,i){var k=new function(){var c=[];this.pop=function(){var e;c.length?(e=c.pop(),e.style.display=""):(9>f("ie")?
(e="<iframe src='"+(d.dojoBlankHtmlUrl||h.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",e=i.doc.createElement(e)):(e=b.create("iframe"),e.src='javascript:""',e.className="dijitBackgroundIframe",e.setAttribute("role","presentation"),a.set(e,"opacity",0.1)),e.tabIndex=-1);return e};this.push=function(a){a.style.display="none";c.push(a)}};c.BackgroundIframe=function(b){if(!b.id)throw Error("no id");
if(f("ie")||f("mozilla")){var c=this.iframe=k.pop();b.appendChild(c);7>f("ie")||f("quirks")?(this.resize(b),this._conn=g(b,"resize",e.hitch(this,function(){this.resize(b)}))):a.set(c,{width:"100%",height:"100%"})}};e.extend(c.BackgroundIframe,{resize:function(b){this.iframe&&a.set(this.iframe,{width:b.offsetWidth+"px",height:b.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(k.push(this.iframe),delete this.iframe)}});return c.BackgroundIframe})},
"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(h,c){c.getObject("mobile",!0,h);return h.mobile})},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(h,c,d,b,a){return h("dijit.form._FormValueMixin",a,{readOnly:!1,_setReadOnlyAttr:function(a){c.set(this.focusNode,"readOnly",a);this.focusNode.setAttribute("aria-readonly",a);this._set("readOnly",
a)},postCreate:function(){this.inherited(arguments);b("ie")&&this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(a){if(a.keyCode==
d.ESCAPE&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&(9>b("ie")||b("ie")&&b("quirks"))){a.preventDefault();var c=a.srcElement,f=c.ownerDocument.createEventObject();f.keyCode=d.ESCAPE;f.shiftKey=a.shiftKey;c.fireEvent("onkeypress",f)}}})})},"dojox/mobile/common":function(){define("dojox/mobile/common","dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/ready,dijit/registry,./sniff,./uacss".split(","),function(h,c,d,b,a,e,g,f,i,k){var j=
b.getObject("dojox.mobile",!0);j.getScreenSize=function(){return{h:a.global.innerHeight||a.doc.documentElement.clientHeight,w:a.global.innerWidth||a.doc.documentElement.clientWidth}};j.updateOrient=function(){var b=j.getScreenSize();e.replace(a.doc.documentElement,b.h>b.w?"dj_portrait":"dj_landscape",b.h>b.w?"dj_landscape":"dj_portrait")};j.updateOrient();j.tabletSize=500;j.detectScreenSize=function(b){var c=j.getScreenSize(),f=Math.min(c.w,c.h),g,i;if(f>=j.tabletSize&&(b||!this._sz||this._sz<j.tabletSize))g=
"phone",i="tablet";else if(f<j.tabletSize&&(b||!this._sz||this._sz>=j.tabletSize))g="tablet",i="phone";i&&(e.replace(a.doc.documentElement,"dj_"+i,"dj_"+g),d.publish("/dojox/mobile/screenSize/"+i,[c]));this._sz=f};j.detectScreenSize();j.hideAddressBarWait="number"===typeof c.mblHideAddressBarWait?c.mblHideAddressBarWait:1500;j.hide_1=function(){scrollTo(0,1);j._hidingTimer=0==j._hidingTimer?200:2*j._hidingTimer;setTimeout(function(){j.isAddressBarHidden()||j._hidingTimer>j.hideAddressBarWait?(j.resizeAll(),
j._hiding=!1):setTimeout(j.hide_1,j._hidingTimer)},50)};j.hideAddressBar=function(){if(!j.disableHideAddressBar&&!j._hiding){j._hiding=!0;j._hidingTimer=k("iphone")?200:0;var b=screen.availHeight;if(k("android")){b=outerHeight/devicePixelRatio;if(0==b)j._hiding=!1,setTimeout(function(){j.hideAddressBar()},200);b<=innerHeight&&(b=outerHeight);if(3>k("android"))a.doc.documentElement.style.overflow=a.body().style.overflow="visible"}if(a.body().offsetHeight<b)a.body().style.minHeight=b+"px",j._resetMinHeight=
!0;setTimeout(j.hide_1,j._hidingTimer)}};j.isAddressBarHidden=function(){return 1===pageYOffset};j.resizeAll=function(b,c){if(!j.disableResizeAll){d.publish("/dojox/mobile/resizeAll",[b,c]);d.publish("/dojox/mobile/beforeResizeAll",[b,c]);if(j._resetMinHeight)a.body().style.minHeight=j.getScreenSize().h+"px";j.updateOrient();j.detectScreenSize();var e=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},f=function(a){h.forEach(a.getChildren(),function(a){e(a)&&a.resize();
f(a)})};c?(c.resize&&c.resize(),f(c)):h.forEach(h.filter(i.toArray(),e),function(a){a.resize()});d.publish("/dojox/mobile/afterResizeAll",[b,c])}};j.openWindow=function(b,c){a.global.open(b,c||"_blank")};!1!==c.mblApplyPageStyles&&e.add(a.doc.documentElement,"mobile");k("chrome")&&e.add(a.doc.documentElement,"dj_chrome");if(a.global._no_dojo_dm){var b=a.global._no_dojo_dm,q;for(q in b)j[q]=b[q];j.deviceTheme.setDm(j)}k.add("mblAndroidWorkaround",!1!==c.mblAndroidWorkaround&&3>k("android"),void 0,
!0);k.add("mblAndroid3Workaround",!1!==c.mblAndroid3Workaround&&3<=k("android"),void 0,!0);f(function(){j.detectScreenSize(!0);!1!==c.mblAndroidWorkaroundButtonStyle&&k("android")&&g.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},a.doc.head,"first");k("mblAndroidWorkaround")&&g.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},
a.doc.head,"last");var b=j.resizeAll;if(!1!==c.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===c.mblForceHideAddressBar)if(j.hideAddressBar(),!0===c.mblAlwaysHideAddressBar)b=j.hideAddressBar;if(k("android")&&void 0!==a.global.onorientationchange){var e=b,b=function(){var a=d.connect(null,"onresize",null,function(b){d.disconnect(a);e(b)})},f=j.getScreenSize();d.connect(null,"onresize",null,function(a){var b=j.getScreenSize();b.w==f.w&&100<=Math.abs(b.h-f.h)&&e(a);f=b})}d.connect(null,
void 0!==a.global.onorientationchange?"onorientationchange":"onresize",null,b);a.body().style.visibility="visible"});return j})},"dojox/mobile/Heading":function(){define("dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ProgressIndicator,./ToolBarButton,./View".split(","),function(h,c,d,b,a,e,g,f,i,k,j,q,l,p,m){b.getObject("dojox.mobile",
!0);return d("dojox.mobile.Heading",[l,q,j],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:!1,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.doc.createElement(this.tag);this.inherited(arguments);this.label||h.forEach(this.domNode.childNodes,function(a){if(3==a.nodeType){var c=b.trim(a.nodeValue);if(c)this.label=c,this.labelNode=f.create("span",{innerHTML:c},a,"replace")}},this);if(!this.labelNode)this.labelNode=
f.create("span",null,this.domNode);this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=f.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);e.setSelectable(this.domNode,!1)},startup:function(){if(!this._started){var a=this.getParent&&this.getParent();if(!a||!a.resize){var b=this;setTimeout(function(){b.resize()},0)}this.inherited(arguments)}},resize:function(){if(this.labelNode){for(var a,b,c=this.containerNode.childNodes,e=c.length-1;0<=e;e--){var d=
c[e];1===d.nodeType&&"none"!==i.get(d,"display")&&(!b&&"right"===i.get(d,"float")&&(b=d),!a&&"left"===i.get(d,"float")&&(a=d))}if(!this.labelNodeLen&&this.label)this.labelNode.style.display="inline",this.labelNodeLen=this.labelNode.offsetWidth,this.labelNode.style.display="";c=this.domNode.offsetWidth;e=this.labelNodeLen||0;g[c-2*Math.max(b?c-b.offsetLeft+5:0,a?a.offsetLeft+a.offsetWidth+5:0)>e?"add":"remove"](this.domNode,"mblHeadingCenterTitle")}h.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},_setBackAttr:function(a){this._set("back",a);this.backButton?this.backButton.set("label",a):(this.backButton=new m({arrow:"left",label:a,moveTo:this.moveTo,back:!this.moveTo,href:this.href,transition:this.transition,transitionDir:-1}),this.backButton.placeAt(this.domNode,"first"));this.resize()},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(a):a},_setBusyAttr:function(a){var b=this._prog;if(a){if(!b)b=this._prog=
new p({size:30,center:!1}),g.add(b.domNode,this.progStyle);f.place(b.domNode,this.domNode,"first");b.start()}else b.stop();this._set("busy",a)}})})},"dojox/mobile/iconUtils":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff".split(","),function(h,c,d,b,a,e,g,f,i,k){var j=a.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(a,b){if(a&&b){var c=
h.map(b.split(/[ ,]/),function(a){return a-0}),e=c[0],d=c[1];i.set(a,{clip:"rect("+e+"px "+(c[1]+c[2])+"px "+(c[0]+c[3])+"px "+d+"px)",top:(a.parentNode?i.get(a,"top"):0)-e+"px",left:-d+"px"});g.add(a,"mblSpriteIcon")}};this.createDomButton=function(a,b,d){if(!this._domButtons)if(k("webkit")){var j=function(a,b){var c,d;if(!a){var f={};d=e.doc.styleSheets;for(c=0;c<d.length;c++)d[c]&&j(d[c],f);return f}f=a.cssRules||[];for(c=0;c<f.length;c++)if(d=f[c],d.href&&d.styleSheet)j(d.styleSheet,b);else if(d.selectorText){var g=
d.selectorText.split(/,/);for(d=0;d<g.length;d++){var i=g[d],l=i.split(/>/).length-1;if(i.match(/(mblDomButton\w+)/)&&(i=RegExp.$1,!b[i]||l>b[i]))b[i]=l}}return b};this._domButtons=j()}else this._domButtons={};var h=a.className,t=d||a;if(h.match(/(mblDomButton\w+)/)&&-1===h.indexOf("/")){var r=RegExp.$1,v=4;h.match(/(mblDomButton\w+_(\d+))/)?v=RegExp.$2-0:void 0!==this._domButtons[r]&&(v=this._domButtons[r]);h=null;k("bb")&&!1!==c.mblBBBoxShadowWorkaround&&(h={style:"-webkit-box-shadow:none"});for(var s=
0,n=t;s<v;s++)n=n.firstChild||f.create("div",h,n);d&&(setTimeout(function(){g.remove(a,r)},0),g.add(d,r))}else if(-1!==h.indexOf("."))f.create("img",{src:h},t);else return null;g.add(t,"mblDomButton");b&&i.set(t,b);return t};this.createIcon=function(a,c,e,k,h,t,r){k=k||"";if(a&&0===a.indexOf("mblDomButton"))e?e.className.match(/(mblDomButton\w+)/)&&g.remove(e,RegExp.$1):e=f.create("div",null,t||h,r),e.title=k,g.add(e,a),this.createDomButton(e);else if(a&&"none"!==a){if(!e||"IMG"!==e.nodeName)e=f.create("img",
{alt:k},t||h,r);e.src=(a||"").replace("${theme}",j.currentTheme);this.setupSpriteIcon(e,c);c&&h&&(a=c.split(/[ ,]/),i.set(h,{width:a[2]+"px",height:a[3]+"px"}),g.add(h,"mblSpriteIconParent"));d.connect(e,"ondragstart",b,"stop")}return e};this.iconWrapper=!1;this.setIcon=function(a,b,c,e,d,i,k){if(!d||!a&&!c)return null;if(a&&"none"!==a){if(!this.iconWrapper&&0!==a.indexOf("mblDomButton")&&!b)c&&"DIV"===c.tagName&&(f.destroy(c),c=null),c=this.createIcon(a,null,c,e,d,i,k),g.add(c,"mblImageIcon");else if(c&&
"IMG"===c.tagName&&(f.destroy(c),c=null),c&&f.empty(c),c||(c=f.create("div",null,i||d,k)),this.createIcon(a,b,null,null,c),e)c.title=e;g.remove(d,"mblNoIcon");return c}f.destroy(c);g.add(d,"mblNoIcon");return null}}})},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(h){return h.dojox})},"dojox/mobile/RoundRectList":function(){define("dojox/mobile/RoundRectList","dojo/_base/array,dojo/_base/declare,dojo/_base/event,dojo/_base/lang,dojo/_base/window,dojo/dom-construct,dijit/_Contained,dijit/_Container,dijit/_WidgetBase".split(","),
function(h,c,d,b,a,e,g,f,i){return c("dojox.mobile.RoundRectList",[i,f,g],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:!1,syncWithViews:!1,editable:!1,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",buildRendering:function(){this.domNode=this.srcNodeRef||e.create(this.tag);this.inherited(arguments)},postCreate:function(){this.editable&&require([this.editableMixinClass],b.hitch(this,function(a){b.mixin(this,new a)}));this.connect(this.domNode,
"onselectstart",d.stop);if(this.syncWithViews){var a=function(a){var b=h.filter(this.getChildren(),function(b){return b.moveTo==="#"+a.id||b.moveTo===a.id})[0];b&&b.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",a);this.subscribe("/dojox/mobile/startView",a)}},resize:function(){h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onCheckStateChanged:function(){},_setStatefulAttr:function(a){this._set("stateful",a);this.selectOne=a;h.forEach(this.getChildren(),function(a){a.setArrow&&
a.setArrow()})},deselectItem:function(a){a.set("selected",!1)},deselectAll:function(){h.forEach(this.getChildren(),function(a){a.set("selected",!1)})},selectItem:function(a){a.set("selected",!0)}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(h,c,d,b){return h("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;return b[a]?b[a]:b[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&
this.set(a)},_get:function(a,b){return"function"===typeof this[b.g]?this[b.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,c){if("object"===typeof a){for(var d in a)a.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,a[d]);return this}d=this._getAttrNames(a);var f=this._get(a,d);d=this[d.s];var i;"function"===typeof d?i=d.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=c;if(this._watchCallbacks){var k=this;b(i,function(){k._watchCallbacks(a,f,
c)})}return this},_changeAttrValue:function(a,b){var c=this.get(a);this[a]=b;this._watchCallbacks&&this._watchCallbacks(a,c,b);return this},watch:function(a,b){var c=this._watchCallbacks;if(!c)var f=this,c=this._watchCallbacks=function(a,b,d,e){var i=function(c){if(c)for(var c=c.slice(),e=0,i=c.length;e<i;e++)c[e].call(f,a,b,d)};i(c["_"+a]);e||i(c["*"])};!b&&"function"===typeof a?(b=a,a="*"):a="_"+a;var i=c[a];"object"!==typeof i&&(i=c[a]=[]);i.push(b);var k={};k.unwatch=k.remove=function(){var a=
d.indexOf(i,b);-1<a&&i.splice(a,1)};return k}})})},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(h,c,d){return{length:0,hash:{},initialView:null,add:function(b){this.hash[b.id]=b;this.length++},remove:function(b){this.hash[b]&&(delete this.hash[b],this.length--)},getViews:function(){var b=[],a;for(a in this.hash)b.push(this.hash[a]);return b},getParentView:function(b){for(b=b.getParent();b;b=b.getParent())if(c.contains(b.domNode,"mblView"))return b;
return null},getChildViews:function(b){return h.filter(this.getViews(),function(a){return this.getParentView(a)===b},this)},getEnclosingView:function(b){for(;b&&"BODY"!==b.tagName;b=b.parentNode)if(1===b.nodeType&&c.contains(b,"mblView"))return d.byNode(b);return null},getEnclosingScrollable:function(b){for(b=d.getEnclosingWidget(b);b;b=b.getParent())if(b.scrollableParams&&b._v)return b;return null}}})},"dojo/touch":function(){define("./_base/kernel,./_base/lang,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),
function(h,c,d,b,a,e,g,f,i){function k(b){return function(c,e){return a(c,b,e)}}var d=e("touch"),j,q;d&&(f(function(){q=i.body();i.doc.addEventListener("touchstart",function(b){var c=q;q=b.target;a.emit(c,"dojotouchout",{target:c,relatedTarget:q,bubbles:!0});a.emit(q,"dojotouchover",{target:q,relatedTarget:c,bubbles:!0})},!0);a(i.doc,"touchmove",function(b){if((b=i.doc.elementFromPoint(b.pageX-i.global.pageXOffset,b.pageY-i.global.pageYOffset))&&q!==b)a.emit(q,"dojotouchout",{target:q,relatedTarget:b,
bubbles:!0}),a.emit(b,"dojotouchover",{target:b,relatedTarget:q,bubbles:!0}),q=b})}),j=function(e,d){return a(i.doc,"touchmove",function(a){(e===i.doc||b.isDescendant(q,e))&&d.call(this,c.mixin({},a,{target:q}))})});g={press:k(d?"touchstart":"mousedown"),move:d?j:k("mousemove"),release:k(d?"touchend":"mouseup"),cancel:d?k("touchcancel"):g.leave,over:k(d?"dojotouchover":"mouseover"),out:k(d?"dojotouchout":"mouseout"),enter:g._eventHandler(d?"dojotouchover":"mouseover"),leave:g._eventHandler(d?"dojotouchout":
"mouseout")};return h.touch=g})},"dojox/mobile/app/List":function(){define(["dijit","dojo","dojox","dojo/require!dojo/string,dijit/_WidgetBase"],function(h,c,d){c.provide("dojox.mobile.app.List");c.experimental("dojox.mobile.app.List");c.require("dojo.string");c.require("dijit._WidgetBase");(function(){var b={};c.declare("dojox.mobile.app.List",h._WidgetBase,{items:null,itemTemplate:"",emptyTemplate:"",dividerTemplate:"",dividerFunction:null,labelDelete:"Delete",labelCancel:"Cancel",controller:null,
autoDelete:!0,enableDelete:!0,enableHold:!0,formatters:null,_templateLoadCount:0,_mouseDownPos:null,baseClass:"list",constructor:function(){this._checkLoadComplete=c.hitch(this,this._checkLoadComplete);this._replaceToken=c.hitch(this,this._replaceToken);this._postDeleteAnim=c.hitch(this,this._postDeleteAnim)},postCreate:function(){var a=this;this.emptyTemplate&&this._templateLoadCount++;this.itemTemplate&&this._templateLoadCount++;this.dividerTemplate&&this._templateLoadCount++;this.connect(this.domNode,
"onmousedown",function(b){var c=b;b.targetTouches&&0<b.targetTouches.length&&(c=b.targetTouches[0]);var d=a._getRowNode(b.target);if(d)a._setDataInfo(d,b),a._selectRow(d),a._mouseDownPos={x:c.pageX,y:c.pageY},a._dragThreshold=null});this.connect(this.domNode,"onmouseup",function(b){b.targetTouches&&0<b.targetTouches.length&&(b=b.targetTouches[0]);var c=a._getRowNode(b.target);if(c){a._setDataInfo(c,b);if(a._selectedRow)a.onSelect(c._data,c._idx,c);this._deselectRow()}});this.enableDelete&&this.connect(this.domNode,
"mousemove",function(b){c.stopEvent(b);if(a._selectedRow){var d=a._getRowNode(b.target);a.enableDelete&&d&&!a._deleting&&a.handleDrag(b)}});this.connect(this.domNode,"onclick",function(b){b.touches&&0<b.touches.length&&(b=b.touches[0]);var c=a._getRowNode(b.target,!0);c&&a._setDataInfo(c,b)});this.connect(this.domNode,"mouseout",function(b){b.touches&&0<b.touches.length&&(b=b.touches[0]);b.target==a._selectedRow&&a._deselectRow()});if(!this.itemTemplate)throw Error("An item template must be provided to "+
this.declaredClass);this._loadTemplate(this.itemTemplate,"itemTemplate",this._checkLoadComplete);this.emptyTemplate&&this._loadTemplate(this.emptyTemplate,"emptyTemplate",this._checkLoadComplete);this.dividerTemplate&&this._loadTemplate(this.dividerTemplate,"dividerTemplate",this._checkLoadComplete)},handleDrag:function(a){var b=a;a.targetTouches&&0<a.targetTouches.length&&(b=a.targetTouches[0]);a=b.pageX-this._mouseDownPos.x;b=Math.abs(a);if(10<b&&!this._dragThreshold)this._dragThreshold=0.6*c.marginBox(this._selectedRow).w,
this.autoDelete||this.createDeleteButtons(this._selectedRow);this._selectedRow.style.left=(10<b?a:0)+"px";this._dragThreshold&&this._dragThreshold<b&&this.preDelete(a)},handleDragCancel:function(){if(!this._deleting)c.removeClass(this._selectedRow,"hold"),this._selectedRow.style.left=0,this._dragThreshold=this._mouseDownPos=null,this._deleteBtns&&c.style(this._deleteBtns,"display","none")},preDelete:function(a){this._deleting=!0;c.animateProperty({node:this._selectedRow,duration:400,properties:{left:{end:a+
0.8*(0<a?1:-1)*this._dragThreshold}},onEnd:c.hitch(this,function(){this.autoDelete&&this.deleteRow(this._selectedRow)})}).play()},deleteRow:function(a){c.style(a,{visibility:"hidden",minHeight:"0px"});c.removeClass(a,"hold");this._deleteAnimConn=this.connect(a,"webkitAnimationEnd",this._postDeleteAnim);c.addClass(a,"collapsed")},_postDeleteAnim:function(){if(this._deleteAnimConn)this.disconnect(this._deleteAnimConn),this._deleteAnimConn=null;var a=this._selectedRow,b=a.nextSibling,d=a.previousSibling;
d&&d._isDivider&&(!b||b._isDivider)&&d.parentNode.removeChild(d);a.parentNode.removeChild(a);for(this.onDelete(a._data,a._idx,this.items);b;)b._idx&&b._idx--,b=b.nextSibling;c.destroy(a);c.query("> *:not(.buttons)",this.domNode).forEach(this.applyClass);this._deleting=!1;this._deselectRow()},createDeleteButtons:function(a){var b=c.marginBox(a);c._abs(a,!0);if(!this._deleteBtns)this._deleteBtns=c.create("div",{"class":"buttons"},this.domNode),this.buttons=[],this.buttons.push(new d.mobile.Button({btnClass:"mblRedButton",
label:this.labelDelete})),this.buttons.push(new d.mobile.Button({btnClass:"mblBlueButton",label:this.labelCancel})),c.place(this.buttons[0].domNode,this._deleteBtns),c.place(this.buttons[1].domNode,this._deleteBtns),c.addClass(this.buttons[0].domNode,"deleteBtn"),c.addClass(this.buttons[1].domNode,"cancelBtn"),this._handleButtonClick=c.hitch(this._handleButtonClick),this.connect(this._deleteBtns,"onclick",this._handleButtonClick);c.removeClass(this._deleteBtns,"fade out fast");c.style(this._deleteBtns,
{display:"",width:b.w+"px",height:b.h+"px",top:a.offsetTop+"px",left:"0px"})},onDelete:function(a,b,c){c.splice(b,1);1>c.length&&this.render()},cancelDelete:function(){this._deleting=!1;this.handleDragCancel()},_handleButtonClick:function(a){a.touches&&0<a.touches.length&&(a=a.touches[0]);a=a.target;if(c.hasClass(a,"deleteBtn"))this.deleteRow(this._selectedRow);else if(c.hasClass(a,"cancelBtn"))this.cancelDelete();else return;c.addClass(this._deleteBtns,"fade out")},applyClass:function(a,b,d){c.removeClass(a,
"first last");0==b&&c.addClass(a,"first");b==d.length-1&&c.addClass(a,"last")},_setDataInfo:function(a,b){b.item=a._data;b.index=a._idx},onSelect:function(){},_selectRow:function(a){this._deleting&&this._selectedRow&&a!=this._selectedRow&&this.cancelDelete();if(c.hasClass(a,"row"))(this.enableHold||this.enableDelete)&&c.addClass(a,"hold"),this._selectedRow=a},_deselectRow:function(){if(this._selectedRow&&!this._deleting)this.handleDragCancel(),c.removeClass(this._selectedRow,"hold"),this._selectedRow=
null},_getRowNode:function(a,b){for(;a&&!a._data&&a!=this.domNode;){if(!b&&c.hasClass(a,"noclick"))return null;a=a.parentNode}return a==this.domNode?null:a},applyTemplate:function(a,b){return c._toDom(c.string.substitute(a,b,this._replaceToken,this.formatters||this))},render:function(){c.query("> *:not(.buttons)",this.domNode).forEach(c.destroy);1>this.items.length&&this.emptyTemplate?c.place(c._toDom(this.emptyTemplate),this.domNode,"first"):this.domNode.appendChild(this._renderRange(0,this.items.length));
c.hasClass(this.domNode.parentNode,"mblRoundRect")&&c.addClass(this.domNode.parentNode,"mblRoundRectList");var a=c.query("> .row",this.domNode);0<a.length&&(c.addClass(a[0],"first"),c.addClass(a[a.length-1],"last"))},_renderRange:function(a,b){var d=[],f,i,k=document.createDocumentFragment(),a=Math.max(0,a),b=Math.min(b,this.items.length);for(i=a;i<b;i++)f=this.applyTemplate(this.itemTemplate,this.items[i]),c.addClass(f,"row"),f._data=this.items[i],f._idx=i,d.push(f);if(!this.dividerFunction||!this.dividerTemplate)for(i=
a;i<b;i++)d[i]._data=this.items[i],d[i]._idx=i,k.appendChild(d[i]);else{var j=null;for(i=a;i<b;i++){d[i]._data=this.items[i];d[i]._idx=i;if((f=this.dividerFunction(this.items[i]))&&f!=j)j=this.applyTemplate(this.dividerTemplate,{label:f,item:this.items[i]}),j._isDivider=!0,k.appendChild(j),j=f;k.appendChild(d[i])}}return k},_replaceToken:function(a,b){"!"==b.charAt(0)&&(a=c.getObject(b.substr(1),!1,_this));return"undefined"==typeof a||null==a?"":"!"==b.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},
_checkLoadComplete:function(){this._templateLoadCount--;1>this._templateLoadCount&&this.get("items")&&this.render()},_loadTemplate:function(a,d,g){if(a)if(b[a])this.set(d,b[a]),g();else{var f=this;c.xhrGet({url:a,sync:!1,handleAs:"text",load:function(i){b[a]=c.trim(i);f.set(d,b[a]);g()}})}else g()},_setFormattersAttr:function(a){this.formatters=a},_setItemsAttr:function(a){this.items=a||[];1>this._templateLoadCount&&a&&this.render()},destroy:function(){if(this.buttons)c.forEach(this.buttons,function(a){a.destroy()}),
this.buttons=null;this.inherited(arguments)}})})()})},"dojo/require":function(){define(["./_base/loader"],function(h){return{dynamic:0,normalize:function(c){return c},load:h.require}})},"dojox/mobile/app/ListSelector":function(){define("dojox/mobile/app/ListSelector",["dijit","dojo","dojox","dojo/require!dojox/mobile/app/_Widget,dojo/fx"],function(h,c,d){c.provide("dojox.mobile.app.ListSelector");c.experimental("dojox.mobile.app.ListSelector");c.require("dojox.mobile.app._Widget");c.require("dojo.fx");
c.declare("dojox.mobile.app.ListSelector",d.mobile.app._Widget,{data:null,controller:null,onChoose:null,destroyOnHide:!1,_setDataAttr:function(b){(this.data=b)&&this.render()},postCreate:function(){c.addClass(this.domNode,"listSelector");var b=this;this.connect(this.domNode,"onclick",function(a){if(c.hasClass(a.target,"listSelectorRow")){if(b.onChoose)b.onChoose(b.data[a.target._idx].value);b.hide()}});this.connect(this.domNode,"onmousedown",function(a){c.hasClass(a.target,"listSelectorRow")&&c.addClass(a.target,
"listSelectorRow-selected")});this.connect(this.domNode,"onmouseup",function(a){c.hasClass(a.target,"listSelectorRow")&&c.removeClass(a.target,"listSelectorRow-selected")});this.connect(this.domNode,"onmouseout",function(a){c.hasClass(a.target,"listSelectorRow")&&c.removeClass(a.target,"listSelectorRow-selected")});this.controller.getWindowSize();this.mask=c.create("div",{"class":"dialogUnderlayWrapper",innerHTML:'<div class="dialogUnderlay"></div>'},this.controller.assistant.domNode);this.connect(this.mask,
"onclick",function(){b.onChoose&&b.onChoose();b.hide()})},show:function(b){var a,d=this.controller.getWindowSize(),g;b?a=g=c._abs(b):(a.x=d.w/2,a.y=200);c.style(this.domNode,{opacity:0,display:"",width:Math.floor(0.8*d.w)+"px"});var f=0;c.query(">",this.domNode).forEach(function(a){c.style(a,{"float":"left"});f=Math.max(f,c.marginBox(a).w);c.style(a,{"float":"none"})});f=Math.min(f,Math.round(0.8*d.w))+c.style(this.domNode,"paddingLeft")+c.style(this.domNode,"paddingRight")+1;c.style(this.domNode,
"width",f+"px");var b=c.marginBox(this.domNode).h,i=this;g=g?Math.max(30,g.y-b-10):this.getScroll().y+30;a=c.animateProperty({node:this.domNode,duration:400,properties:{width:{start:1,end:f},height:{start:1,end:b},top:{start:a.y,end:g},left:{start:a.x,end:d.w/2-f/2},opacity:{start:0,end:1},fontSize:{start:1}},onEnd:function(){c.style(i.domNode,"width","inherit")}});d=c.fadeIn({node:this.mask,duration:400});c.fx.combine([a,d]).play()},hide:function(){var b=this,a=c.animateProperty({node:this.domNode,
duration:500,properties:{width:{end:1},height:{end:1},opacity:{end:0},fontSize:{end:1}},onEnd:function(){b.get("destroyOnHide")&&b.destroy()}}),d=c.fadeOut({node:this.mask,duration:400});c.fx.combine([a,d]).play()},render:function(){c.empty(this.domNode);c.style(this.domNode,"opacity",0);for(var b,a=0;a<this.data.length;a++)b=c.create("div",{"class":"listSelectorRow "+(this.data[a].className||""),innerHTML:this.data[a].label},this.domNode),b._idx=a,0==a&&c.addClass(b,"first"),a==this.data.length-
1&&c.addClass(b,"last")},destroy:function(){this.inherited(arguments);c.destroy(this.mask)}})})},"dojo/hccss":function(){define("require,./_base/config,./dom-class,./dom-construct,./dom-style,./has,./ready,./_base/window".split(","),function(h,c,d,b,a,e,g,f){e.add("highcontrast",function(){var d=f.doc.createElement("div");d.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(c.blankGif||h.toUrl("./resources/blank.gif"))+");";
f.body().appendChild(d);var e=a.getComputedStyle(d),g=e.backgroundImage,e=e.borderTopColor==e.borderRightColor||g&&("none"==g||"url(invalid-url:)"==g);b.destroy(d);return e});g(90,function(){e("highcontrast")&&d.add(f.body(),"dj_a11y")});return e})},"dojox/mobile/EdgeToEdgeCategory":function(){define("dojox/mobile/EdgeToEdgeCategory",["dojo/_base/declare","./RoundRectCategory"],function(h,c){return h("dojox.mobile.EdgeToEdgeCategory",c,{buildRendering:function(){this.inherited(arguments);this.domNode.className=
"mblEdgeToEdgeCategory"}})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(h,c){var d={};c.setObject("dojo.string",d);d.rep=function(b,a){if(0>=a||!b)return"";for(var c=[];;){a&1&&c.push(b);if(!(a>>=1))break;b+=b}return c.join("")};d.pad=function(b,a,c,g){c||(c="0");b=""+b;a=d.rep(c,Math.ceil((a-b.length)/c.length));return g?b+a:a+b};d.substitute=function(b,a,d,g){g=g||h.global;d=d?c.hitch(g,d):function(a){return a};return b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,
function(b,i,k){b=c.getObject(i,!1,a);k&&(b=c.getObject(k,!1,g).call(g,b,i));return d(b,i).toString()})};d.trim=String.prototype.trim?c.trim:function(b){for(var b=b.replace(/^\s+/,""),a=b.length-1;0<=a;a--)if(/\S/.test(b.charAt(a))){b=b.substring(0,a+1);break}return b};return d})},"dojox/mobile/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_FormValueMixin","dijit/form/_TextBoxMixin"],function(h,c,d,b,a){return h("dojox.mobile.TextBox",[d,b,a],
{baseClass:"mblTextBox",_setTypeAttr:null,_setPlaceHolderAttr:function(a){a=this._cv?this._cv(a):a;this.textbox.setAttribute("placeholder",a)},buildRendering:function(){if(!this.srcNodeRef)this.srcNodeRef=c.create("input",{type:this.type});this.inherited(arguments);this.textbox=this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.textbox,"onmouseup",function(){this._mouseIsDown=!1});this.connect(this.textbox,"onmousedown",function(){this._mouseIsDown=!0});
this.connect(this.textbox,"onfocus",function(a){this._onFocus(this._mouseIsDown?"mouse":a);this._mouseIsDown=!1});this.connect(this.textbox,"onblur","_onBlur")}})})},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(h,c,d,b,a){var e={},g={},f={length:0,add:function(a){if(g[a.id])throw Error("Tried to register widget with id=="+a.id+" but that id is already registered");g[a.id]=a;this.length++},remove:function(a){g[a]&&
(delete g[a],this.length--)},byId:function(a){return"string"==typeof a?g[a]:a},byNode:function(a){return g[a.getAttribute("widgetId")]},toArray:function(){var a=[],b;for(b in g)a.push(g[b]);return a},getUniqueId:function(b){var c;do c=b+"_"+(b in e?++e[b]:e[b]=0);while(g[c]);return"dijit"==a._scopeName?c:a._scopeName+"_"+c},findWidgets:function(a,b){function c(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var e=a.getAttribute("widgetId");e?(e=g[e])&&d.push(e):a!==b&&c(a)}}var d=[];c(a);
return d},_destroyAll:function(){a._curFocus=null;a._prevFocus=null;a._activeStack=[];h.forEach(f.findWidgets(b.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var b=a.getAttribute&&a.getAttribute("widgetId");if(b)return g[b];a=a.parentNode}return null},_hash:g};return a.registry=f})},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,
c,d){return d("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){h.forEach(arguments,function(b){var a="destroyRecursive"in b?"destroyRecursive":"destroy"in b?"destroy":"remove";b._odh=c.before(this,"destroy",function(c){b._odh.remove();b[a](c)});c.after(b,a,function(){b._odh.remove()})},this);return arguments}})})},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(h,
c,d,b,a){var e={};h.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(a){e[a]=b[a]});d.mixin(e,{defaultDuration:c.defaultDuration||200});d.mixin(a,e);return a})},"dijit/_base/place":function(){define("dijit/_base/place",["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(h,c,d,b,a){var e={getViewport:function(){return d.getBox()}};e.placeOnScreen=b.at;e.placeOnScreenAroundElement=function(a,d,e,k){var j;if(c.isArray(e))j=
e;else{j=[];for(var h in e)j.push({aroundCorner:h,corner:e[h]})}return b.around(a,d,j,!0,k)};e.placeOnScreenAroundNode=e.placeOnScreenAroundElement;e.placeOnScreenAroundRectangle=e.placeOnScreenAroundElement;e.getPopupAroundAlignment=function(a,b){var c={};h.forEach(a,function(a){var d=b;switch(a){case "after":c[b?"BR":"BL"]=b?"BL":"BR";break;case "before":c[b?"BL":"BR"]=b?"BR":"BL";break;case "below-alt":d=!d;case "below":c[d?"BL":"BR"]=d?"TL":"TR";c[d?"BR":"BL"]=d?"TR":"TL";break;case "above-alt":d=
!d;default:c[d?"TL":"TR"]=d?"BL":"BR",c[d?"TR":"TL"]=d?"BR":"BL"}});return c};c.mixin(a,e);return a})},"dojox/mobile/View":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/_base/lang,dojo/_base/sniff,dojo/_base/window,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dijit/registry,dijit/_Contained,dijit/_Container,dijit/_WidgetBase,./ViewController,./common,./transition,./viewRegistry".split(","),function(h,
c,d,b,a,e,g,f,i,k,j,q,l,p,m,u,t,r,v,s,n){a.getObject("dojox.mobile",!0);return b("dojox.mobile.View",[t,u,m],{selected:!1,keepScrollPos:!0,tag:"div",baseClass:"mblView",constructor:function(a,b){if(b)i.byId(b).style.visibility="hidden"},destroy:function(){n.remove(this.id);this.inherited(arguments)},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||j.create(this.tag);this._animEndHandle=this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this._animStartHandle=
this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");if(!c.mblCSS3Transition)this._transEndHandle=this.connect(this.domNode,"webkitTransitionEnd","onAnimationEnd");e("mblAndroid3Workaround")&&l.set(this.domNode,"webkitTransformStyle","preserve-3d");n.add(this);this.inherited(arguments)},startup:function(){if(!this._started){if(void 0===this._visible){var a=this.getSiblingViews(),b=location.hash&&location.hash.substring(1).split(/,/),c,e,f;h.forEach(a,function(a,d){-1!==h.indexOf(b,
a.id)&&(c=a);0==d&&(f=a);a.selected&&(e=a);a._visible=!1},this);(c||e||f)._visible=!0}this._visible&&(this.show(!0,!0),this.onStartView(),d.publish("/dojox/mobile/startView",[this]));if("visible"!=this.domNode.style.visibility)this.domNode.style.visibility="visible";this.inherited(arguments);a=this.getParent();(!a||!a.resize)&&this.resize();this._visible||this.hide()}},resize:function(){h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onStartView:function(){},onBeforeTransitionIn:function(){},
onAfterTransitionIn:function(){},onBeforeTransitionOut:function(){},onAfterTransitionOut:function(){},_clearClasses:function(b){if(b){var c=[];h.forEach(a.trim(b.className||"").split(/\s+/),function(a){(a.match(/^mbl\w*View$/)||-1===a.indexOf("mbl"))&&c.push(a)},this);b.className=c.join(" ")}},_fixViewState:function(a){for(var b=this.domNode.parentNode.childNodes,c=0;c<b.length;c++){var d=b[c];1===d.nodeType&&k.contains(d,"mblView")&&this._clearClasses(d)}this._clearClasses(a)},convertToId:function(a){return"string"==
typeof a?a.replace(/^#?([^&?]+).*/,"$1"):a},_isBookmarkable:function(a){return a.moveTo&&(c.mblForceBookmarkable||"#"===a.moveTo.charAt(0))&&!a.hashchange},performTransition:function(b,f,j,h,q){var n,s;if(b&&"object"===typeof b)n=b,s=f;else{n={moveTo:b,transitionDir:f,transition:j,context:h,method:q};s=[];for(var r=5;r<arguments.length;r++)s.push(arguments[r])}this._detail=n;this._optArgs=s;this._arguments=[n.moveTo,n.transitionDir,n.transition,n.context,n.method];if("#"!==n.moveTo){if(n.moveTo)s=
this.convertToId(n.moveTo);else{if(!this._dummyNode)this._dummyNode=g.doc.createElement("div"),g.body().appendChild(this._dummyNode);s=this._dummyNode}this.addTransitionInfo&&"string"==typeof n.moveTo&&this._isBookmarkable(n)&&this.addTransitionInfo(this.id,n.moveTo,{transitionDir:n.transitionDir,transition:n.transition});var r=this.domNode,m=r.offsetTop;if(s=this.toNode=i.byId(s)){s.style.visibility="hidden";s.style.display="";this._fixViewState(s);var t=p.byNode(s);if(t){if(c.mblAlwaysResizeOnTransition||
!t._resized)v.resizeAll(null,t),t._resized=!0;if(n.transition&&"none"!=n.transition)t.containerNode.style.paddingTop=m+"px";t.load&&t.load();t.movedFrom=r.id}e("mblAndroidWorkaround")&&!c.mblCSS3Transition&&n.transition&&"none"!=n.transition&&(l.set(s,"webkitTransformStyle","preserve-3d"),l.set(r,"webkitTransformStyle","preserve-3d"),k.add(s,"mblAndroidWorkaround"));this.onBeforeTransitionOut.apply(this,this._arguments);d.publish("/dojox/mobile/beforeTransitionOut",[this].concat(a._toArray(this._arguments)));
if(t){if(this.keepScrollPos&&!this.getParent()){m=g.body().scrollTop||g.doc.documentElement.scrollTop||g.global.pageYOffset||0;r._scrollTop=m;var u=1==n.transitionDir?0:s._scrollTop||0;s.style.top="0px";if(1<m||0!==u)r.style.top=u-m+"px",!1!==c.mblHideAddressBar&&setTimeout(function(){g.global.scrollTo(0,u||1)},0)}else s.style.top="0px";t.onBeforeTransitionIn.apply(t,this._arguments);d.publish("/dojox/mobile/beforeTransitionIn",[t].concat(a._toArray(this._arguments)))}s.style.display="none";s.style.visibility=
"visible";v.fromView=this;v.toView=t;this._doTransition(r,s,n.transition,n.transitionDir)}}},_toCls:function(a){return"mbl"+a.charAt(0).toUpperCase()+a.substring(1)},_doTransition:function(b,d,i,j){var h=-1==j?" mblReverse":"";d.style.display="";if(!i||"none"==i)this.domNode.style.display="none",this.invokeCallback();else if(c.mblCSS3Transition)f.when(s,a.hitch(this,function(c){var e=l.get(d,"position");l.set(d,"position","absolute");f.when(c(b,d,{transition:i,reverse:-1===j?!0:!1}),a.hitch(this,
function(){l.set(d,"position",e);this.invokeCallback()}))}));else{-1!=i.indexOf("cube")&&(e("ipad")?l.set(d.parentNode,{webkitPerspective:1600}):e("iphone")&&l.set(d.parentNode,{webkitPerspective:800}));var n=this._toCls(i);e("mblAndroidWorkaround")?setTimeout(function(){k.add(b,n+" mblOut"+h);k.add(d,n+" mblIn"+h);k.remove(d,"mblAndroidWorkaround");setTimeout(function(){k.add(b,"mblTransition");k.add(d,"mblTransition")},30)},70):(k.add(b,n+" mblOut"+h),k.add(d,n+" mblIn"+h),setTimeout(function(){k.add(b,
"mblTransition");k.add(d,"mblTransition")},100));var p="50% 50%",r="50% 50%",m;-1!=i.indexOf("swirl")||-1!=i.indexOf("zoom")?(p=this.keepScrollPos&&!this.getParent()?g.body().scrollTop||g.doc.documentElement.scrollTop||g.global.pageYOffset||0:-q.position(b,!0).y,m=g.global.innerHeight/2+p,p="50% "+m+"px",r="50% "+m+"px"):-1!=i.indexOf("scale")&&(p=q.position(b,!0),r=(void 0!==this.clickedPosX?this.clickedPosX:g.global.innerWidth/2)-p.x,p=this.keepScrollPos&&!this.getParent()?g.body().scrollTop||g.doc.documentElement.scrollTop||
g.global.pageYOffset||0:-p.y,m=(void 0!==this.clickedPosY?this.clickedPosY:g.global.innerHeight/2)+p,p=r+"px "+m+"px",r=r+"px "+m+"px");l.set(b,{webkitTransformOrigin:p});l.set(d,{webkitTransformOrigin:r})}},onAnimationStart:function(){},onAnimationEnd:function(a){var b=a.animationName||a.target.className;if(!(-1===b.indexOf("Out")&&-1===b.indexOf("In")&&-1===b.indexOf("Shrink"))){var c=!1;k.contains(this.domNode,"mblOut")?(c=!0,this.domNode.style.display="none",k.remove(this.domNode,[this._toCls(this._detail.transition),
"mblIn","mblOut","mblReverse"])):this.containerNode.style.paddingTop="";l.set(this.domNode,{webkitTransformOrigin:""});if(-1!==b.indexOf("Shrink"))a=a.target,a.style.display="none",k.remove(a,"mblCloseContent"),(a=n.getEnclosingScrollable(this.domNode))&&a.onTouchEnd();c&&this.invokeCallback();this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=void 0;if(-1!==b.indexOf("Cube")&&-1!==b.indexOf("In")&&e("iphone"))this.domNode.parentNode.style.webkitPerspective=""}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,
this._arguments);d.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var b=p.byNode(this.toNode);if(b)b.onAfterTransitionIn.apply(b,this._arguments),d.publish("/dojox/mobile/afterTransitionIn",[b].concat(this._arguments)),b.movedFrom=void 0,this.setFragIds&&this._isBookmarkable(this._detail)&&this.setFragIds(b);e("mblAndroidWorkaround")&&setTimeout(a.hitch(this,function(){b&&l.set(this.toNode,"webkitTransformStyle","");l.set(this.domNode,"webkitTransformStyle","")}),0);var c=
this._detail.context,f=this._detail.method;if(c||f)f||(f=c,c=null),c=c||g.global,"string"==typeof f?c[f].apply(c,this._optArgs):"function"==typeof f&&f.apply(c,this._optArgs)},isVisible:function(a){if(a){for(a=this.domNode;"BODY"!==a.tagName;a=a.parentNode)if("none"===l.get(a,"display"))return!1;return!0}return"none"!==l.get(this.domNode,"display")},getShowingView:function(){for(var a=this.domNode.parentNode.childNodes,b=0;b<a.length;b++){var c=a[b];if(1===c.nodeType&&k.contains(c,"mblView")&&"none"!==
c.style.display)return p.byNode(c)}return null},getSiblingViews:function(){return!this.domNode.parentNode?[this]:h.map(h.filter(this.domNode.parentNode.childNodes,function(a){return 1===a.nodeType&&k.contains(a,"mblView")}),function(a){return p.byNode(a)})},show:function(a,b){var c=this.getShowingView();a||(c&&(c.onBeforeTransitionOut(c.id),d.publish("/dojox/mobile/beforeTransitionOut",[c,c.id])),this.onBeforeTransitionIn(this.id),d.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]));b?this.domNode.style.display=
"":h.forEach(this.getSiblingViews(),function(a){a.domNode.style.display=a===this?"":"none"},this);this.load&&this.load();a||(c&&(c.onAfterTransitionOut(c.id),d.publish("/dojox/mobile/afterTransitionOut",[c,c.id])),this.onAfterTransitionIn(this.id),d.publish("/dojox/mobile/afterTransitionIn",[this,this.id]))},hide:function(){this.domNode.style.display="none"}})})},"dijit/WidgetSet":function(){define("dijit/WidgetSet",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(h,
c,d,b){var a=c("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(a){if(this._hash[a.id])throw Error("Tried to register widget with id=="+a.id+" but that id is already registered");this._hash[a.id]=a;this.length++},remove:function(a){this._hash[a]&&(delete this._hash[a],this.length--)},forEach:function(a,b){var b=b||d.global,c=0,i;for(i in this._hash)a.call(b,this._hash[i],c++,this._hash);return this},filter:function(b,c){var c=c||d.global,f=new a,i=0,k;for(k in this._hash){var j=
this._hash[k];b.call(c,j,i++,this._hash)&&f.add(j)}return f},byId:function(a){return this._hash[a]},byClass:function(b){var c=new a,d,i;for(d in this._hash)i=this._hash[d],i.declaredClass==b&&c.add(i);return c},toArray:function(){var a=[],b;for(b in this._hash)a.push(this._hash[b]);return a},map:function(a,b){return h.map(this.toArray(),a,b)},every:function(a,b){var b=b||d.global,c=0,i;for(i in this._hash)if(!a.call(b,this._hash[i],c++,this._hash))return!1;return!0},some:function(a,b){var b=b||d.global,
c=0,i;for(i in this._hash)if(a.call(b,this._hash[i],c++,this._hash))return!0;return!1}});h.forEach("forEach,filter,byClass,map,every,some".split(","),function(c){b[c]=a.prototype[c]});return a})},"dojo/fx/easing":function(){define(["../_base/lang"],function(h){var c={linear:function(c){return c},quadIn:function(c){return Math.pow(c,2)},quadOut:function(c){return-1*c*(c-2)},quadInOut:function(c){c*=2;return 1>c?Math.pow(c,2)/2:-1*(--c*(c-2)-1)/2},cubicIn:function(c){return Math.pow(c,3)},cubicOut:function(c){return Math.pow(c-
1,3)+1},cubicInOut:function(c){c*=2;return 1>c?Math.pow(c,3)/2:(Math.pow(c-2,3)+2)/2},quartIn:function(c){return Math.pow(c,4)},quartOut:function(c){return-1*(Math.pow(c-1,4)-1)},quartInOut:function(c){c*=2;return 1>c?Math.pow(c,4)/2:-0.5*(Math.pow(c-2,4)-2)},quintIn:function(c){return Math.pow(c,5)},quintOut:function(c){return Math.pow(c-1,5)+1},quintInOut:function(c){c*=2;return 1>c?Math.pow(c,5)/2:(Math.pow(c-2,5)+2)/2},sineIn:function(c){return-1*Math.cos(c*(Math.PI/2))+1},sineOut:function(c){return Math.sin(c*
(Math.PI/2))},sineInOut:function(c){return-1*(Math.cos(Math.PI*c)-1)/2},expoIn:function(c){return 0==c?0:Math.pow(2,10*(c-1))},expoOut:function(c){return 1==c?1:-1*Math.pow(2,-10*c)+1},expoInOut:function(c){if(0==c)return 0;if(1==c)return 1;c*=2;if(1>c)return Math.pow(2,10*(c-1))/2;--c;return(-1*Math.pow(2,-10*c)+2)/2},circIn:function(c){return-1*(Math.sqrt(1-Math.pow(c,2))-1)},circOut:function(c){return Math.sqrt(1-Math.pow(c-1,2))},circInOut:function(c){c*=2;return 1>c?-0.5*(Math.sqrt(1-Math.pow(c,
2))-1):0.5*(Math.sqrt(1-Math.pow(c-2,2))+1)},backIn:function(c){return Math.pow(c,2)*(2.70158*c-1.70158)},backOut:function(c){c-=1;return Math.pow(c,2)*(2.70158*c+1.70158)+1},backInOut:function(c){c*=2;if(1>c)return Math.pow(c,2)*(3.5949095*c-2.5949095)/2;c-=2;return(Math.pow(c,2)*(3.5949095*c+2.5949095)+2)/2},elasticIn:function(c){if(0==c||1==c)return c;c-=1;return-1*Math.pow(2,10*c)*Math.sin((c-0.075)*2*Math.PI/0.3)},elasticOut:function(c){return 0==c||1==c?c:Math.pow(2,-10*c)*Math.sin((c-0.075)*
2*Math.PI/0.3)+1},elasticInOut:function(c){if(0==c)return 0;c*=2;if(2==c)return 1;var b=0.3*1.5,a=b/4;if(1>c)return c-=1,-0.5*Math.pow(2,10*c)*Math.sin((c-a)*2*Math.PI/b);c-=1;return 0.5*Math.pow(2,-10*c)*Math.sin((c-a)*2*Math.PI/b)+1},bounceIn:function(d){return 1-c.bounceOut(1-d)},bounceOut:function(c){return c=c<1/2.75?7.5625*Math.pow(c,2):c<2/2.75?7.5625*Math.pow(c-1.5/2.75,2)+0.75:c<2.5/2.75?7.5625*Math.pow(c-2.25/2.75,2)+0.9375:7.5625*Math.pow(c-2.625/2.75,2)+0.984375},bounceInOut:function(d){return 0.5>
d?c.bounceIn(2*d)/2:c.bounceOut(2*d-1)/2+0.5}};h.setObject("dojo.fx.easing",c);return c})},"dijit/a11y":function(){define("dijit/a11y","dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),function(h,c,d,b,a,e,g,f){var i=f._isElementShown=function(b){var c=e.get(b);return"hidden"!=c.visibility&&"collapsed"!=c.visibility&&"none"!=c.display&&"hidden"!=a.get(b,"type")};f.hasDefaultTabStop=function(b){switch(b.nodeName.toLowerCase()){case "a":return a.has(b,
"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var c;try{var d=b.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;c=d.body}catch(e){try{c=b.contentWindow.document.body}catch(f){return!1}}return c&&("true"==c.contentEditable||c.firstChild&&"true"==c.firstChild.contentEditable);default:return"true"==b.contentEditable}};var k=f.isTabNavigable=function(b){return a.get(b,"disabled")?!1:a.has(b,"tabIndex")?0<=a.get(b,"tabIndex"):
f.hasDefaultTabStop(b)};f._getTabNavigable=function(b){function c(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var d,e,f,h,t,r,v={},s=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||g("ie")&&"HTML"!==b.scopeName||!i(b))){if(k(b)){var j=+a.get(b,"tabIndex");if(!a.has(b,"tabIndex")||0==j)d||(d=b),e=b;else if(0<j){if(!f||j<h)h=j,f=b;if(!t||j>=r)r=j,t=b}j=c(b);a.get(b,"checked")&&j&&(v[j]=b)}"SELECT"!=b.nodeName.toUpperCase()&&
s(b)}};i(b)&&s(b);return{first:v[c(d)]||d,last:v[c(e)]||e,lowest:v[c(f)]||f,highest:v[c(t)]||t}};f.getFirstInTabbingOrder=function(a,c){var d=f._getTabNavigable(b.byId(a,c));return d.lowest?d.lowest:d.first};f.getLastInTabbingOrder=function(a,c){var d=f._getTabNavigable(b.byId(a,c));return d.last?d.last:d.highest};return{hasDefaultTabStop:f.hasDefaultTabStop,isTabNavigable:f.isTabNavigable,_getTabNavigable:f._getTabNavigable,getFirstInTabbingOrder:f.getFirstInTabbingOrder,getLastInTabbingOrder:f.getLastInTabbingOrder}})},
"dijit/typematic":function(){define("dijit/typematic","dojo/_base/array,dojo/_base/connect,dojo/_base/event,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/sniff,./main".split(","),function(h,c,d,b,a,e,g,f){var i=f.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);
this._timer=setTimeout(a.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,c,d,e,f,i,g,h){if(f!=this._obj){this.stop();this._initialDelay=g||500;this._subsequentDelay=i||0.9;this._minDelay=h||10;this._obj=f;this._node=d;this._count=this._currentTimeout=-1;this._callback=a.hitch(c,e);this._evt={faux:!0};for(var r in b)"layerX"!=r&&"layerY"!=r&&(c=b[r],"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[r]=c));this._fireEventAndReload()}},stop:function(){if(this._timer)clearTimeout(this._timer),
this._timer=null;if(this._obj)this._callback(-1,this._node,this._evt),this._obj=null},addKeyListener:function(f,g,q,l,p,m,u){if(g.keyCode)g.charOrCode=g.keyCode,b.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");else if(g.charCode)g.charOrCode=String.fromCharCode(g.charCode),b.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");var t=[e(f,c._keypress,
a.hitch(this,function(a){a.charOrCode==g.charOrCode&&(void 0===g.ctrlKey||g.ctrlKey==a.ctrlKey)&&(void 0===g.altKey||g.altKey==a.altKey)&&(void 0===g.metaKey||g.metaKey==(a.metaKey||!1))&&(void 0===g.shiftKey||g.shiftKey==a.shiftKey)?(d.stop(a),i.trigger(a,q,f,l,g,p,m,u)):i._obj==g&&i.stop()})),e(f,"keyup",a.hitch(this,function(){i._obj==g&&i.stop()}))];return{remove:function(){h.forEach(t,function(a){a.remove()})}}},addMouseListener:function(b,c,d,f,p,m){var u=[e(b,"mousedown",a.hitch(this,function(a){a.preventDefault();
i.trigger(a,c,b,d,b,f,p,m)})),e(b,"mouseup",a.hitch(this,function(a){this._obj&&a.preventDefault();i.stop()})),e(b,"mouseout",a.hitch(this,function(a){this._obj&&a.preventDefault();i.stop()})),e(b,"dblclick",a.hitch(this,function(e){e.preventDefault();9>g("ie")&&(i.trigger(e,c,b,d,b,f,p,m),setTimeout(a.hitch(this,i.stop),50))}))];return{remove:function(){h.forEach(u,function(a){a.remove()})}}},addListener:function(a,b,c,d,e,f,i,g){var r=[this.addKeyListener(b,c,d,e,f,i,g),this.addMouseListener(a,
d,e,f,i,g)];return{remove:function(){h.forEach(r,function(a){a.remove()})}}}};return i})},"dojox/mobile/app/ImageView":function(){define("dojox/mobile/app/ImageView",["dijit","dojo","dojox","dojo/require!dojox/mobile/app/_Widget,dojo/fx/easing"],function(h,c,d){c.provide("dojox.mobile.app.ImageView");c.experimental("dojox.mobile.app.ImageView");c.require("dojox.mobile.app._Widget");c.require("dojo.fx.easing");c.declare("dojox.mobile.app.ImageView",d.mobile.app._Widget,{zoom:1,zoomCenterX:0,zoomCenterY:0,
maxZoom:5,autoZoomLevel:3,disableAutoZoom:!1,disableSwipe:!1,autoZoomEvent:null,_leftImg:null,_centerImg:null,_rightImg:null,_leftSmallImg:null,_centerSmallImg:null,_rightSmallImg:null,constructor:function(){this.panY=this.panX=0;this.handleLoad=c.hitch(this,this.handleLoad);this._updateAnimatedZoom=c.hitch(this,this._updateAnimatedZoom);this._updateAnimatedPan=c.hitch(this,this._updateAnimatedPan);this._onAnimPanEnd=c.hitch(this,this._onAnimPanEnd)},buildRendering:function(){this.inherited(arguments);
this.canvas=c.create("canvas",{},this.domNode);c.addClass(this.domNode,"mblImageView")},postCreate:function(){this.inherited(arguments);this.size=c.marginBox(this.domNode);c.style(this.canvas,{width:this.size.w+"px",height:this.size.h+"px"});this.canvas.height=this.size.h;this.canvas.width=this.size.w;var b=this;this.connect(this.domNode,"onmousedown",function(a){if(!b.isAnimating())b.panX&&b.handleDragEnd(),b.downX=a.targetTouches?a.targetTouches[0].clientX:a.clientX,b.downY=a.targetTouches?a.targetTouches[0].clientY:
a.clientY});this.connect(this.domNode,"onmousemove",function(a){if(!b.isAnimating()&&!(!b.downX&&0!==b.downX||!b.downY&&0!==b.downY))if(!b.disableSwipe&&1==b.zoom||!b.disableAutoZoom&&1!=b.zoom){var c=a.targetTouches?a.targetTouches[0].clientY:a.pageY;b.panX=(a.targetTouches?a.targetTouches[0].clientX:a.pageX)-b.downX;b.panY=c-b.downY;1==b.zoom?10<Math.abs(b.panX)&&b.render():(10<Math.abs(b.panX)||10<Math.abs(b.panY))&&b.render()}});this.connect(this.domNode,"onmouseout",function(){!b.isAnimating()&&
b.panX&&b.handleDragEnd()});this.connect(this.domNode,"onmouseover",function(){b.downX=b.downY=null});this.connect(this.domNode,"onclick",function(a){if(!b.isAnimating()&&!(null==b.downX||null==b.downY)){var d=a.targetTouches?a.targetTouches[0].clientX:a.pageX,a=a.targetTouches?a.targetTouches[0].clientY:a.pageY;if(14<Math.abs(b.panX)||14<Math.abs(b.panY))b.downX=b.downY=null,b.handleDragEnd();else if(b.downX=b.downY=null,!b.disableAutoZoom&&b._centerImg&&b._centerImg._loaded)if(1!=b.zoom)b.set("animatedZoom",
1);else{var g=c._abs(b.domNode);b.zoomTo((d-g.x)/(b.size.w/b._centerImg.width)-b.panX,(a-g.y)/(b.size.h/b._centerImg.height)-b.panY,b.autoZoomLevel)}}});c.connect(this.domNode,"flick",this,"handleFlick")},isAnimating:function(){return this._anim&&"playing"==this._anim.status()},handleDragEnd:function(){this.downX=this.downY=null;if(1==this.zoom){if(this.panX){var b=this._leftImg&&this._leftImg._loaded||this._leftSmallImg&&this._leftSmallImg._loaded,a=this._rightImg&&this._rightImg._loaded||this._rightSmallImg&&
this._rightSmallImg._loaded;!(Math.abs(this.panX)<this._centerImg._baseWidth/2)&&(0<this.panX&&b||0>this.panX&&a)?this.moveTo(this.panX):this._animPanTo(0,c.fx.easing.expoOut,700)}}else if(this.panX||this.panY)this.zoomCenterX-=this.panX/this.zoom,this.zoomCenterY-=this.panY/this.zoom,this.panX=this.panY=0},handleFlick:function(b){if(1==this.zoom&&500>b.duration)"ltr"==b.direction?this.moveTo(1):"rtl"==b.direction&&this.moveTo(-1),this.downX=this.downY=null},moveTo:function(b){var b=0<b?1:-1,a;if(1>
b)if(this._rightImg&&this._rightImg._loaded)a=this._rightImg;else{if(this._rightSmallImg&&this._rightSmallImg._loaded)a=this._rightSmallImg}else if(this._leftImg&&this._leftImg._loaded)a=this._leftImg;else if(this._leftSmallImg&&this._leftSmallImg._loaded)a=this._leftSmallImg;this._moveDir=b;var d=this;a&&a._loaded?this._animPanTo(this.size.w*b,null,500,function(){d.panX=0;d.panY=0;0>b?d._switchImage("left","right"):d._switchImage("right","left");d.render();d.onChange(-1*b)}):this._animPanTo(0,c.fx.easing.expoOut,
700)},_switchImage:function(b,a){var c="_"+b+"SmallImg",d="_"+b+"Img",f="_"+a+"SmallImg",i="_"+a+"Img";this[d]=this._centerImg;this[c]=this._centerSmallImg;this[d]._type=b;if(this[c])this[c]._type=b;this._centerImg=this[i];this._centerSmallImg=this[f];this._centerImg._type="center";if(this._centerSmallImg)this._centerSmallImg._type="center";this[i]=this[f]=null},_animPanTo:function(b,a,d,g){this._animCallback=g;this._anim=new c.Animation({curve:[this.panX,b],onAnimate:this._updateAnimatedPan,duration:d||
500,easing:a,onEnd:this._onAnimPanEnd});this._anim.play();return this._anim},onChange:function(){},_updateAnimatedPan:function(b){this.panX=b;this.render()},_onAnimPanEnd:function(){this.panX=this.panY=0;this._animCallback&&this._animCallback()},zoomTo:function(b,a,c){this.set("zoomCenterX",b);this.set("zoomCenterY",a);this.set("animatedZoom",c)},render:function(){this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height);this._renderImg(this._centerSmallImg,this._centerImg,
1==this.zoom?0>this.panX?1:0<this.panX?-1:0:0);1==this.zoom&&0!=this.panX&&(0<this.panX?this._renderImg(this._leftSmallImg,this._leftImg,1):this._renderImg(this._rightSmallImg,this._rightImg,-1))},_renderImg:function(b,a,c){if((b=a&&a._loaded?a:b)&&b._loaded){var a=this.canvas.getContext("2d"),d=b._baseWidth*this.zoom,f=b._baseHeight*this.zoom,i=Math.min(this.size.w,d),h=Math.min(this.size.h,f),d=this.dispWidth=b.width*(i/d),f=this.dispHeight=b.height*(h/f),j=this.zoomCenterY-this.panY/this.zoom,
q=Math.floor(Math.max(d/2,Math.min(b.width-d/2,this.zoomCenterX-this.panX/this.zoom))),j=Math.floor(Math.max(f/2,Math.min(b.height-f/2,j))),q=Math.max(0,Math.round((b.width-d)/2+(q-b._centerX))),j=Math.max(0,Math.round((b.height-f)/2+(j-b._centerY))),l=Math.round(Math.max(0,this.canvas.width-i)/2),p=Math.round(Math.max(0,this.canvas.height-h)/2),m=i,u=d;1==this.zoom&&c&&this.panX&&(0>this.panX?0<c?(i-=Math.abs(this.panX),l=0):0>c&&(i=Math.max(1,Math.abs(this.panX)-5),l=this.size.w-i):0<c?(i=Math.max(1,
Math.abs(this.panX)-5),l=0):0>c&&(i-=Math.abs(this.panX),l=this.size.w-i),d=Math.max(1,Math.floor(d*(i/m))),0<c&&(q=q+u-d),q=Math.floor(q));try{a.drawImage(b,Math.max(0,q),j,Math.min(u,d),f,l,p,Math.min(m,i),h)}catch(t){}}},_setZoomAttr:function(b){this.zoom=Math.min(this.maxZoom,Math.max(1,b));if(1==this.zoom&&this._centerImg&&this._centerImg._loaded){if(!this.isAnimating())this.zoomCenterX=this._centerImg.width/2,this.zoomCenterY=this._centerImg.height/2;this.panX=this.panY=0}this.render()},_setZoomCenterXAttr:function(b){if(b!=
this.zoomCenterX)this._centerImg&&this._centerImg._loaded&&(b=Math.min(this._centerImg.width,b)),this.zoomCenterX=Math.max(0,Math.round(b))},_setZoomCenterYAttr:function(b){if(b!=this.zoomCenterY)this._centerImg&&this._centerImg._loaded&&(b=Math.min(this._centerImg.height,b)),this.zoomCenterY=Math.max(0,Math.round(b))},_setZoomCenterAttr:function(b){if(b.x!=this.zoomCenterX||b.y!=this.zoomCenterY)this.set("zoomCenterX",b.x),this.set("zoomCenterY",b.y),this.render()},_setAnimatedZoomAttr:function(b){if(!(this._anim&&
"playing"==this._anim.status()))this._anim=new c.Animation({curve:[this.zoom,b],onAnimate:this._updateAnimatedZoom,onEnd:this._onAnimEnd}),this._anim.play()},_updateAnimatedZoom:function(b){this._setZoomAttr(b)},_setCenterUrlAttr:function(b){this._setImage("center",b)},_setLeftUrlAttr:function(b){this._setImage("left",b)},_setRightUrlAttr:function(b){this._setImage("right",b)},_setImage:function(b,a){var d=null,g=null;c.isString(a)?g=a:(g=a.large,d=a.small);if(!(this["_"+b+"Img"]&&this["_"+b+"Img"]._src==
g)){var f=this["_"+b+"Img"]=new Image;f._type=b;f._loaded=!1;f._src=g;f._conn=c.connect(f,"onload",this.handleLoad);if(d){var i=this["_"+b+"SmallImg"]=new Image;i._type=b;i._loaded=!1;i._conn=c.connect(i,"onload",this.handleLoad);i._isSmall=!0;i._src=d;i.src=d}f.src=g}},handleLoad:function(b){b=b.target;b._loaded=!0;c.disconnect(b._conn);switch(b._type){case "center":this.zoomCenterX=b.width/2,this.zoomCenterY=b.height/2}var a=b.height,d=b.width;d/this.size.w<a/this.size.h?(b._baseHeight=this.canvas.height,
b._baseWidth=d/(a/this.size.h)):(b._baseWidth=this.canvas.width,b._baseHeight=a/(d/this.size.w));b._centerX=d/2;b._centerY=a/2;this.render();this.onLoad(b._type,b._src,b._isSmall)},onLoad:function(){}})})},"dijit/_base/focus":function(){define("dijit/_base/focus","dojo/_base/array,dojo/dom,dojo/_base/lang,dojo/topic,dojo/_base/window,../focus,../main".split(","),function(h,c,d,b,a,e,g){e.focus=function(b){if(b){var c="node"in b?b.node:b,d=b.bookmark,b=b.openedForWindow,h=d?d.isCollapsed:!1;if(c){var q=
"iframe"==c.tagName.toLowerCase()?c.contentWindow:c;if(q&&q.focus)try{q.focus()}catch(l){}e._onFocusNode(c)}if(d&&a.withGlobal(b||a.global,g.isCollapsed)&&!h){b&&b.focus();try{a.withGlobal(b||a.global,g.moveToBookmark,null,[d])}catch(p){}}}};e.watch("curNode",function(a,c,d){g._curFocus=d;g._prevFocus=c;d&&b.publish("focusNode",d)});e.watch("activeStack",function(a,b,c){g._activeStack=c});e.on("widget-blur",function(a,c){b.publish("widgetBlur",a,c)});e.on("widget-focus",function(a,c){b.publish("widgetFocus",
a,c)});d.mixin(g,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return g.getBookmark().isCollapsed},getBookmark:function(){var b,c,d=a.doc.selection,g=e.curNode;if(a.global.getSelection){if(d=a.global.getSelection())if(d.isCollapsed){if(b=g?g.tagName:"")if(b=b.toLowerCase(),"textarea"==b||"input"==b&&(!g.type||"text"==g.type.toLowerCase()))return d={start:g.selectionStart,end:g.selectionEnd,node:g,pRange:!0},{isCollapsed:d.end<=d.start,mark:d};b={isCollapsed:!0};if(d.rangeCount)b.mark=d.getRangeAt(0).cloneRange()}else c=
d.getRangeAt(0),b={isCollapsed:!1,mark:c.cloneRange()}}else if(d){b=g?g.tagName:"";b=b.toLowerCase();if(g&&b&&("button"==b||"textarea"==b||"input"==b)){if(d.type&&"none"==d.type.toLowerCase())return{isCollapsed:!0,mark:null};c=d.createRange();return{isCollapsed:c.text&&c.text.length?!1:!0,mark:{range:c,pRange:!0}}}b={};try{c=d.createRange(),b.isCollapsed=!("Text"==d.type?c.htmlText.length:c.length)}catch(h){return b.isCollapsed=!0,b}if("CONTROL"==d.type.toUpperCase())if(c.length){b.mark=[];d=0;for(g=
c.length;d<g;)b.mark.push(c.item(d++))}else b.isCollapsed=!0,b.mark=null;else b.mark=c.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return b},moveToBookmark:function(b){var c=a.doc;if(b=b.mark)if(a.global.getSelection)(c=a.global.getSelection())&&c.removeAllRanges?b.pRange?(c=b.node,c.selectionStart=b.start,c.selectionEnd=b.end):(c.removeAllRanges(),c.addRange(b)):console.warn("No idea how to restore selection for this browser!");else if(c.selection&&
b){var e;b.pRange?e=b.range:d.isArray(b)?(e=c.body.createControlRange(),h.forEach(b,function(a){e.addElement(a)})):(e=c.body.createTextRange(),e.moveToBookmark(b));e.select()}},getFocus:function(b,d){var h=!e.curNode||b&&c.isDescendant(e.curNode,b.domNode)?g._prevFocus:e.curNode;return{node:h,bookmark:h&&h==e.curNode&&a.withGlobal(d||a.global,g.getBookmark),openedForWindow:d}},_activeStack:[],registerIframe:function(a){return e.registerIframe(a)},unregisterIframe:function(a){a&&a.remove()},registerWin:function(a,
b){return e.registerWin(a,b)},unregisterWin:function(a){a&&a.remove()}});return g})},"dojox/mobile/ListItem":function(){define("dojox/mobile/ListItem","dojo/_base/array,dojo/_base/declare,dojo/_base/lang,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dijit/registry,dijit/_WidgetBase,./iconUtils,./_ItemBase,./ProgressIndicator".split(","),function(h,c,d,b,a,e,g,f,i,k,j){c=c("dojox.mobile.ListItem",k,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:!1,noArrow:!1,checked:!1,arrowClass:"",
checkClass:"",uncheckClass:"",variableHeight:!1,rightIconTitle:"",rightIcon2Title:"",header:!1,tag:"li",busy:!1,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:!0,_selClass:"mblListItemSelected",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||a.create(this.tag);
this.inherited(arguments);this.selected&&b.add(this.domNode,this._selClass);this.header&&b.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);this.labelNode=a.create("div",{className:"mblListItemLabel"});var c=this.srcNodeRef;c&&1===c.childNodes.length&&3===c.firstChild.nodeType&&this.labelNode.appendChild(c.firstChild);this.domNode.appendChild(this.labelNode);if(this.anchorLabel)this.labelNode.style.display="inline",this.labelNode.style.cursor="pointer",this._anchorClickHandle=this.connect(this.labelNode,
"onclick","_onClick"),this.onTouchStart=function(a){return a.target!==this.labelNode};this._layoutChildren=[]},startup:function(){if(!this._started){var a=this.getParent(),c=this.getTransOpts();c.moveTo||c.href||c.url||this.clickable||a&&a.select?this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"):this._handleClick=!1;this.inherited(arguments);if(b.contains(this.domNode,"mblVariableHeight"))this.variableHeight=!0;this.variableHeight&&(b.add(this.domNode,"mblVariableHeight"),this.defer(d.hitch(this,
"layoutVariableHeight"),0));if(!this._isOnLine)this._isOnLine=!0,this.set({icon:this.icon,deleteIcon:this.deleteIcon,rightIcon:this.rightIcon,rightIcon2:this.rightIcon2});a&&a.select&&this.set("checked",this.checked);this.setArrow();this.layoutChildren()}},layoutChildren:function(){var a;h.forEach(this.domNode.childNodes,function(c){if(1===c.nodeType){var d=c.getAttribute("layout")||(g.byNode(c)||{}).layout;d&&(b.add(c,"mblListItemLayout"+d.charAt(0).toUpperCase()+d.substring(1)),this._layoutChildren.push(c),
"center"===d&&(a=c))}},this);a&&this.domNode.insertBefore(a,this.domNode.firstChild)},resize:function(){this.variableHeight&&this.layoutVariableHeight();this.labelNode.style.display=this.labelNode.firstChild?"block":"inline"},_onTouchStart:function(a){!a.target.getAttribute("preventTouch")&&!(g.getEnclosingWidget(a.target)||{}).preventTouch&&this.inherited(arguments)},_onClick:function(a){if(!(this.getParent().isEditing||a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))){var c=this.labelNode;
if(this.anchorLabel&&a.currentTarget===c)b.add(c,"mblListItemLabelSelected"),setTimeout(function(){b.remove(c,"mblListItemLabelSelected")},this._duration),this.onAnchorLabelClicked(a);else{var d=this.getParent();d.select&&("single"===d.select?this.checked||this.set("checked",!0):"multiple"===d.select&&this.set("checked",!this.checked));this.defaultClickAction(a)}}},onClick:function(){},onAnchorLabelClicked:function(){},layoutVariableHeight:function(){var a=this.domNode.offsetHeight;if(a!==this.domNodeHeight)this.domNodeHeight=
a,h.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(a){if(a){var b=this.domNode,c=function(){var c=Math.round((b.offsetHeight-a.offsetHeight)/2)-e.get(b,"paddingTop");a.style.marginTop=c+"px"};0===a.offsetHeight&&"IMG"===a.tagName?a.onload=c:c()}},this)},setArrow:function(){if(!this.checked){var a="",b=this.getParent(),c=this.getTransOpts();if(c.moveTo||c.href||c.url||
this.clickable)if(!this.noArrow&&(!b||!b.selectOne))a=this.arrowClass||"mblDomButtonArrow";a&&this._setRightIconAttr(a)}},_findRef:function(a){for(var b,c="deleteIcon,icon,rightIcon,uncheckIcon,rightIcon2,rightText".split(","),a=h.indexOf(c,a)+1;a<c.length;a++)if(b=this[c[a]+"Node"])return b;for(a=c.length-1;0<=a;a--)if(b=this[c[a]+"Node"])return b.nextSibling;return this.domNode.firstChild},_setIcon:function(a,c){if(this._isOnLine){this._set(c,a);this[c+"Node"]=i.setIcon(a,this[c+"Pos"],this[c+"Node"],
this[c+"Title"]||this.alt,this.domNode,this._findRef(c),"before");if(this[c+"Node"]){var d=c.charAt(0).toUpperCase()+c.substring(1);b.add(this[c+"Node"],"mblListItem"+d)}(d=this[c+"Role"])&&this[c+"Node"].setAttribute("role",d)}},_setDeleteIconAttr:function(a){this._setIcon(a,"deleteIcon")},_setIconAttr:function(a){this._setIcon(a,"icon")},_setRightTextAttr:function(b){if(!this.rightTextNode)this.rightTextNode=a.create("div",{className:"mblListItemRightText"},this.labelNode,"before");this.rightText=
b;this.rightTextNode.innerHTML=this._cv?this._cv(b):b},_setRightIconAttr:function(a){this._setIcon(a,"rightIcon")},_setUncheckIconAttr:function(a){this._setIcon(a,"uncheckIcon")},_setRightIcon2Attr:function(a){this._setIcon(a,"rightIcon2")},_setCheckedAttr:function(a){if(this._isOnLine){var c=this.getParent();c&&"single"===c.select&&a&&h.forEach(c.getChildren(),function(a){a!==this&&a.checked&&a.set("checked",!1)},this);this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);
b.toggle(this.domNode,"mblListItemChecked",a);b.toggle(this.domNode,"mblListItemUnchecked",!a);b.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=this.uncheckIconNode&&!a?"absolute":"";if(c&&this.checked!==a)c.onCheckStateChanged(this,a);this._set("checked",a)}},_setBusyAttr:function(c){var d=this._prog;if(c){if(!this._progNode)this._progNode=a.create("div",{className:"mblListItemIcon"}),d=this._prog=new j({size:25,center:!1}),b.add(d.domNode,this.progStyle),
this._progNode.appendChild(d.domNode);this.iconNode?this.domNode.replaceChild(this._progNode,this.iconNode):a.place(this._progNode,this._findRef("icon"),"before");d.start()}else this.iconNode?this.domNode.replaceChild(this.iconNode,this._progNode):this.domNode.removeChild(this._progNode),d.stop();this._set("busy",c)},_setSelectedAttr:function(a){this.inherited(arguments);b.toggle(this.domNode,this._selClass,a)}});c.ChildWidgetProperties={layout:"",preventTouch:!1};d.extend(f,c.ChildWidgetProperties);
return c})},"dojox/mobile/app/StageController":function(){define(["dijit","dojo","dojox","dojo/require!dojox/mobile/app/SceneController"],function(h,c,d){c.provide("dojox.mobile.app.StageController");c.experimental("dojox.mobile.app.StageController");c.require("dojox.mobile.app.SceneController");c.declare("dojox.mobile.app.StageController",null,{scenes:null,effect:"fade",constructor:function(b){this.domNode=b;this.scenes=[];if(c.config.mobileAnim)this.effect=c.config.mobileAnim},getActiveSceneController:function(){return this.scenes[this.scenes.length-
1]},pushScene:function(b,a){if(!this._opInProgress){this._opInProgress=!0;var e=c.create("div",{"class":"scene-wrapper",style:{visibility:"hidden"}},this.domNode),g=new d.mobile.app.SceneController({},e);0<this.scenes.length&&this.scenes[this.scenes.length-1].assistant.deactivate();this.scenes.push(g);var f=this;c.forEach(this.scenes,this.setZIndex);g.stageController=this;g.init(b,a).addCallback(function(){1==f.scenes.length?(g.domNode.style.visibility="visible",f.scenes[f.scenes.length-1].assistant.activate(a),
f._opInProgress=!1):f.scenes[f.scenes.length-2].performTransition(f.scenes[f.scenes.length-1].domNode,1,f.effect,null,function(){f.scenes[f.scenes.length-1].assistant.activate(a);f._opInProgress=!1})})}},setZIndex:function(b,a){c.style(b.domNode,"zIndex",a+1)},popScene:function(b){if(!this._opInProgress){var a=this;if(1<this.scenes.length)this._opInProgress=!0,this.scenes[a.scenes.length-2].assistant.activate(b),this.scenes[a.scenes.length-1].performTransition(a.scenes[this.scenes.length-2].domNode,
-1,this.effect,null,function(){a._destroyScene(a.scenes[a.scenes.length-1]);a.scenes.splice(a.scenes.length-1,1);a._opInProgress=!1})}},popScenesTo:function(b,a){if(!this._opInProgress){for(;2<this.scenes.length&&this.scenes[this.scenes.length-2].sceneName!=b;)this._destroyScene(this.scenes[this.scenes.length-2]),this.scenes.splice(this.scenes.length-2,1);this.popScene(a)}},_destroyScene:function(b){b.assistant.deactivate();b.assistant.destroy();b.destroyRecursive()}})})},"dijit/place":function(){define("dijit/place",
"dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),function(h,c,d,b,a,e,g){function f(b,d,f,g){var l=e.getBox(b.ownerDocument);(!b.parentNode||"body"!=(""+b.parentNode.tagName).toLowerCase())&&a.body(b.ownerDocument).appendChild(b);var p=null;h.some(d,function(a){var d=a.corner,e=a.pos,h=0,k={w:{L:l.l+l.w-e.x,R:e.x-l.l,M:l.w}[d.charAt(1)],h:{T:l.t+l.h-e.y,B:e.y-l.t,M:l.h}[d.charAt(0)]},n=b.style;n.left=n.right="auto";f&&(h=f(b,a.aroundCorner,
d,k,g),h="undefined"==typeof h?0:h);var o=b.style,m=o.display,w=o.visibility;if("none"==o.display)o.visibility="hidden",o.display="";n=c.position(b);o.display=m;o.visibility=w;m={L:e.x,R:e.x-n.w,M:Math.max(l.l,Math.min(l.l+l.w,e.x+(n.w>>1))-n.w)}[d.charAt(1)];w={T:e.y,B:e.y-n.h,M:Math.max(l.t,Math.min(l.t+l.h,e.y+(n.h>>1))-n.h)}[d.charAt(0)];e=Math.max(l.l,m);o=Math.max(l.t,w);m=Math.min(l.l+l.w,m+n.w);w=Math.min(l.t+l.h,w+n.h);m-=e;w-=o;h+=n.w-m+(n.h-w);if(null==p||h<p.overflow)p={corner:d,aroundCorner:a.aroundCorner,
x:e,y:o,w:m,h:w,overflow:h,spaceAvailable:k};return!h});p.overflow&&f&&f(b,p.aroundCorner,p.corner,p.spaceAvailable,g);var d=c.isBodyLtr(b.ownerDocument),m=b.style;m.top=p.y+"px";m[d?"left":"right"]=(d?p.x:l.w-p.x-p.w)+"px";m[d?"right":"left"]="auto";return p}return g.place={at:function(a,b,c,d){c=h.map(c,function(a){var c={corner:a,pos:{x:b.x,y:b.y}};d&&(c.pos.x+="L"==a.charAt(1)?d.x:-d.x,c.pos.y+="T"==a.charAt(0)?d.y:-d.y);return c});return f(a,c)},around:function(a,e,g,q,l){function p(a,b){y.push({aroundCorner:a,
corner:b,pos:{x:{L:n,R:n+x,M:n+(x>>1)}[a.charAt(1)],y:{T:o,B:o+w,M:o+(w>>1)}[a.charAt(0)]}})}var m="string"==typeof e||"offsetWidth"in e?c.position(e,!0):e;if(e.parentNode)for(var u="absolute"==d.getComputedStyle(e).position,e=e.parentNode;e&&1==e.nodeType&&"BODY"!=e.nodeName;){var t=c.position(e,!0),r=d.getComputedStyle(e);/relative|absolute/.test(r.position)&&(u=!1);if(!u&&/hidden|auto|scroll/.test(r.overflow)){var v=Math.min(m.y+m.h,t.y+t.h),s=Math.min(m.x+m.w,t.x+t.w);m.x=Math.max(m.x,t.x);m.y=
Math.max(m.y,t.y);m.h=v-m.y;m.w=s-m.x}"absolute"==r.position&&(u=!0);e=e.parentNode}var n=m.x,o=m.y,x="w"in m?m.w:m.w=m.width,w="h"in m?m.h:(b.deprecated("place.around: dijit/place.__Rectangle: { x:"+n+", y:"+o+", height:"+m.height+", width:"+x+" } has been deprecated.  Please use { x:"+n+", y:"+o+", h:"+m.height+", w:"+x+" }","","2.0"),m.h=m.height),y=[];h.forEach(g,function(a){var b=q;switch(a){case "above-centered":p("TM","BM");break;case "below-centered":p("BM","TM");break;case "after-centered":b=
!b;case "before-centered":p(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":p(b?"TL":"TR",b?"TR":"TL");p(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":p(b?"BL":"BR",b?"TL":"TR");p(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":p(b?"TL":"TR",b?"BL":"BR");p(b?"TR":"TL",b?"BR":"BL");break;default:p(a.aroundCorner,a.corner)}});a=f(a,y,l,{w:x,h:w});a.aroundNodePos=m;return a}}})},"dojox/mobile/app/_event":function(){define("dojox/mobile/app/_event",
["dijit","dojo","dojox"],function(h,c,d){c.provide("dojox.mobile.app._event");c.experimental("dojox.mobile.app._event.js");c.mixin(d.mobile.app,{eventMap:{},connectFlick:function(b,a,d){var g,f,h=!1,k,j,q,l,p,m;c.connect("onmousedown",b,function(a){h=!1;g=a.targetTouches?a.targetTouches[0].clientX:a.clientX;f=a.targetTouches?a.targetTouches[0].clientY:a.clientY;m=(new Date).getTime();q=c.connect(b,"onmousemove",u);l=c.connect(b,"onmouseup",t)});var u=function(a){c.stopEvent(a);k=a.targetTouches?a.targetTouches[0].clientX:
a.clientX;j=a.targetTouches?a.targetTouches[0].clientY:a.clientY;15<Math.abs(Math.abs(k)-Math.abs(g))?(h=!0,p=k>g?"ltr":"rtl"):15<Math.abs(Math.abs(j)-Math.abs(f))&&(h=!0,p=j>f?"ttb":"btt")},t=function(f){c.stopEvent(f);q&&c.disconnect(q);l&&c.disconnect(l);if(h)if(f={target:b,direction:p,duration:(new Date).getTime()-m},a&&d)a[d](f);else d(f)}}});d.mobile.app.isIPhone=c.isSafari&&(-1<navigator.userAgent.indexOf("iPhone")||-1<navigator.userAgent.indexOf("iPod"));d.mobile.app.isWebOS=-1<navigator.userAgent.indexOf("webOS");
d.mobile.app.isAndroid=-1<navigator.userAgent.toLowerCase().indexOf("android");if(d.mobile.app.isIPhone||d.mobile.app.isAndroid)d.mobile.app.eventMap={onmousedown:"ontouchstart",mousedown:"ontouchstart",onmouseup:"ontouchend",mouseup:"ontouchend",onmousemove:"ontouchmove",mousemove:"ontouchmove"};c._oldConnect=c._connect;c._connect=function(b,a,e,g,f){a=d.mobile.app.eventMap[a]||a;if("flick"==a||"onflick"==a)if(c.global.Mojo)a=Mojo.Event.flick;else return d.mobile.app.connectFlick(b,e,g);return c._oldConnect(b,
a,e,g,f)}})},"dojox/mobile/_base":function(){define("dojox/mobile/_base","./common,./View,./Heading,./RoundRect,./RoundRectCategory,./EdgeToEdgeCategory,./RoundRectList,./EdgeToEdgeList,./ListItem,./Container,./Pane,./Switch,./ToolBarButton,./ProgressIndicator".split(","),function(h){return h})},"dojox/mobile/Button":function(){define("dojox/mobile/Button","dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-construct,dijit/_WidgetBase,dijit/form/_ButtonMixin,dijit/form/_FormWidgetMixin".split(","),
function(h,c,d,b,a,e,g){return c("dojox.mobile.Button",[a,g,e],{baseClass:"mblButton",_setTypeAttr:null,duration:1E3,_onClick:function(a){var b=this.inherited(arguments);if(b&&0<=this.duration){var c=this.focusNode||this.domNode,e=(this.baseClass+" "+this["class"]).split(" "),e=h.map(e,function(a){return a+"Selected"});d.add(c,e);setTimeout(function(){d.remove(c,e)},this.duration)}return b},isFocusable:function(){return!1},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var a=this.srcNodeRef.firstChild;
if(a&&3===a.nodeType)a.nodeValue=this._cv(a.nodeValue)}}else this.srcNodeRef=b.create("button",{type:this.type});this.inherited(arguments);this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(a){this.inherited(arguments,[this._cv?this._cv(a):a])}})})},"dojox/mobile/Switch":function(){define("dojox/mobile/Switch","dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/event,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,dojo/touch,dijit/_Contained,dijit/_WidgetBase,./sniff".split(","),
function(h,c,d,b,a,e,g,f,i,k,j,q){return d("dojox.mobile.Switch",[j,k],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",_createdMasks:[],buildRendering:function(){this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:g.create("span");this.inherited(arguments);var a=this.srcNodeRef&&this.srcNodeRef.className||this.className||this["class"];if(a=a.match(/mblSw.*Shape\d*/))this.shape=a;
e.add(this.domNode,this.shape);this.domNode.innerHTML='<div class="mblSwitchInner"><div class="mblSwitchBg mblSwitchBgLeft"><div class="mblSwitchText mblSwitchTextLeft"></div></div><div class="mblSwitchBg mblSwitchBgRight"><div class="mblSwitchText mblSwitchTextRight"></div></div><div class="mblSwitchKnob"></div><input type="hidden"'+(this.name?' name="'+this.name+'"':"")+"></div></div>";a=this.inner=this.domNode.firstChild;this.left=a.childNodes[0];this.right=a.childNodes[1];this.knob=a.childNodes[2];
this.input=a.childNodes[3]},postCreate:function(){this._clickHandle=this.connect(this.domNode,"onclick","_onClick");this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");this._startHandle=this.connect(this.domNode,i.press,"onTouchStart");this._initialValue=this.value},_changeState:function(a,b){var c="on"===a;this.left.style.display="";this.right.style.display="";this.inner.style.left="";b&&e.add(this.domNode,"mblSwitchAnimation");e.remove(this.domNode,c?"mblSwitchOff":"mblSwitchOn");
e.add(this.domNode,c?"mblSwitchOn":"mblSwitchOff");var d=this;setTimeout(function(){d.left.style.display=c?"":"none";d.right.style.display=!c?"":"none";e.remove(d.domNode,"mblSwitchAnimation")},b?300:0)},_createMaskImage:function(){if(!this._hasMaskImage&&(this._width=this.domNode.offsetWidth-this.knob.offsetWidth,this._hasMaskImage=!0,q("webkit"))){var b=f.get(this.left,"borderTopLeftRadius");if("0px"!=b){var c=b.split(" "),b=parseFloat(c[0]),c=1==c.length?b:parseFloat(c[1]),d=this.domNode.offsetWidth,
e=this.domNode.offsetHeight,g=(this.shape+"Mask"+d+e+b+c).replace(/\./,"_");if(!this._createdMasks[g]){this._createdMasks[g]=1;var h=a.doc.getCSSCanvasContext("2d",g,d,e);h.fillStyle="#000000";h.beginPath();b==c?(h.moveTo(b,0),h.arcTo(0,0,0,b,b),h.lineTo(0,e-b),h.arcTo(0,e,b,e,b),h.lineTo(d-b,e),h.arcTo(d,e,d,b,b),h.lineTo(d,b),h.arcTo(d,0,d-b,0,b)):(e=Math.PI,h.scale(1,c/b),h.moveTo(b,0),h.arc(b,b,b,1.5*e,0.5*e,!0),h.lineTo(d-b,2*b),h.arc(d-b,b,b,0.5*e,1.5*e,!0));h.closePath();h.fill()}this.domNode.style.webkitMaskImage=
"-webkit-canvas("+g+")"}}},_onClick:function(a){if(!(a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a))&&!this._moved)this.value=this.input.value="on"==this.value?"off":"on",this._changeState(this.value,!0),this.onStateChanged(this.value)},onClick:function(){},onTouchStart:function(a){this._moved=!1;this.innerStartX=this.inner.offsetLeft;if(!this._conn)this._conn=[this.connect(this.inner,i.move,"onTouchMove"),this.connect(this.inner,i.release,"onTouchEnd")];this.touchStartX=a.touches?a.touches[0].pageX:
a.clientX;this.left.style.display="";this.right.style.display="";b.stop(a);this._createMaskImage()},onTouchMove:function(a){a.preventDefault();if(a.targetTouches){if(1!=a.targetTouches.length)return;a=a.targetTouches[0].clientX-this.touchStartX}else a=a.clientX-this.touchStartX;var b=this.innerStartX+a;b<=-(this._width-10)&&(b=-this._width);-10<=b&&(b=0);this.inner.style.left=b+"px";if(10<Math.abs(a))this._moved=!0},onTouchEnd:function(){h.forEach(this._conn,c.disconnect);this._conn=null;if(this.innerStartX==
this.inner.offsetLeft){if(q("touch")){var b=a.doc.createEvent("MouseEvents");b.initEvent("click",!0,!0);this.inner.dispatchEvent(b)}}else if(b=this.inner.offsetLeft<-(this._width/2)?"off":"on",this._changeState(b,!0),b!=this.value)this.value=this.input.value=b,this.onStateChanged(b)},onStateChanged:function(){},_setValueAttr:function(a){this._changeState(a,!1);if(this.value!=a)this.onStateChanged(a);this.value=this.input.value=a},_setLeftLabelAttr:function(a){this.leftLabel=a;this.left.firstChild.innerHTML=
this._cv?this._cv(a):a},_setRightLabelAttr:function(a){this.rightLabel=a;this.right.firstChild.innerHTML=this._cv?this._cv(a):a},reset:function(){this.set("value",this._initialValue)}})})},"dijit/focus":function(){define("dijit/focus","dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),function(h,c,d,b,a,e,g,f,i,k,j,q,l,
p,m,u,t){var r=new (c([j,e],{curNode:null,activeStack:[],constructor:function(){var b=g.hitch(this,function(a){d.isDescendant(this.curNode,a)&&this.set("curNode",null);d.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});h.before(a,"empty",b);h.before(a,"destroy",b)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,d=function(a){c._justMouseDowned=!0;setTimeout(function(){c._justMouseDowned=!1},0);if(!k("ie")||!a||!(a.srcElement&&
null==a.srcElement.parentNode))c._onTouchNode(b||a.target||a.srcElement,"mouse")},e=k("ie")?a.document.documentElement:a.document;if(e){if(k("ie")){a.document.body.attachEvent("onmousedown",d);var f=function(a){var d=a.srcElement.tagName.toLowerCase();"#document"==d||"body"==d||(m.isTabNavigable(a.srcElement)?c._onFocusNode(b||a.srcElement):c._onTouchNode(b||a.srcElement))};e.attachEvent("onfocusin",f);var g=function(a){c._onBlurNode(b||a.srcElement)};e.attachEvent("onfocusout",g);return{remove:function(){a.document.detachEvent("onmousedown",
d);e.detachEvent("onfocusin",f);e.detachEvent("onfocusout",g);e=null}}}e.body.addEventListener("mousedown",d,!0);e.body.addEventListener("touchstart",d,!0);var h=function(a){c._onFocusNode(b||a.target)};e.addEventListener("focus",h,!0);var i=function(a){c._onBlurNode(b||a.target)};e.addEventListener("blur",i,!0);return{remove:function(){e.body.removeEventListener("mousedown",d,!0);e.body.removeEventListener("touchstart",d,!0);e.removeEventListener("focus",h,!0);e.removeEventListener("blur",i,!0);
e=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(g.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(g.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,c){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),
delete this._clearActiveWidgetsTimer);var d=[];try{for(;a;){var e=b.get(a,"dijitPopupParent");if(e)a=u.byId(e).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===l.body())break;a=p.get(a.ownerDocument).frameElement}else{var f=a.getAttribute&&a.getAttribute("widgetId"),g=f&&u.byId(f);g&&!("mouse"==c&&g.get("disabled"))&&d.unshift(f);a=a.parentNode}}}catch(h){}this._setStack(d,c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack;this.set("activeStack",a);for(var d=0;d<Math.min(c.length,a.length)&&!(c[d]!=a[d]);d++);for(var e,f=c.length-1;f>=d;f--)if(e=u.byId(c[f]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(b),this.emit("widget-blur",e,b);for(f=d;f<a.length;f++)if(e=u.byId(a[f]))e.set("focused",!0),e._focusManager==this&&
e._onFocus(b),this.emit("widget-focus",e,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));i(function(){var a=r.registerWin(p.get(l.doc));k("ie")&&q.addOnWindowUnload(function(){a&&(a.remove(),a=null)})});t.focus=function(a){r.focus(a)};for(var v in r)/^_/.test(v)||(t.focus[v]="function"==typeof r[v]?g.hitch(r,v):r[v]);r.watch(function(a,b,c){t.focus[a]=c});return r})},"dijit/_base/sniff":function(){define("dijit/_base/sniff",["dojo/uacss"],function(){})},"dojox/mobile/Pane":function(){define("dojox/mobile/Pane",
["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(h,c,d,b){return c("dojox.mobile.Pane",[b,d],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},resize:function(){h.forEach(this.getChildren(),function(a){a.resize&&a.resize()})}})})},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(h){return h.dijit})},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare",
"dojo/dom-class","./Container"],function(h,c,d){return h("dojox.mobile.RoundRect",d,{shadow:!1,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);this.shadow&&c.add(this.domNode,"mblShadow")}})})},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(h,c,d,b){return h("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(a){if(this.disabled)return d.stop(a),!1;var c=
!1===this.onClick(a);if(!c&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var g=this.domNode;g.parentNode;g=g.parentNode){var f=b.byNode(g);if(f&&"function"==typeof f._onSubmit){f._onSubmit(a);c=!0;break}}c&&a.preventDefault();return!c},postCreate:function(){this.inherited(arguments);c.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a}})})},"dijit/_base/typematic":function(){define("dijit/_base/typematic",
["../typematic"],function(){})},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase"],function(h,c,d,b,a){return h("dojox.mobile.RoundRectCategory",[a,b],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var a=this.domNode=this.containerNode=this.srcNodeRef||d.create(this.tag);this.inherited(arguments);if(!this.label&&1===a.childNodes.length&&3===a.firstChild.nodeType)this.label=
a.firstChild.nodeValue},_setLabelAttr:function(a){this.label=a;this.domNode.innerHTML=this._cv?this._cv(a):a}})})},"dojox/mobile/app/TextBox":function(){define("dojox/mobile/app/TextBox",["dijit","dojo","dojox","dojo/require!dojox/mobile/TextBox"],function(h,c,d){c.provide("dojox.mobile.app.TextBox");c.deprecated("dojox.mobile.app.TextBox is deprecated","dojox.mobile.app.TextBox moved to dojox.mobile.TextBox",1.8);c.require("dojox.mobile.TextBox");d.mobile.app.TextBox=d.mobile.TextBox})},"dojox/mobile/app/SceneAssistant":function(){define("dojox/mobile/app/SceneAssistant",
["dijit","dojo","dojox"],function(h,c){c.provide("dojox.mobile.app.SceneAssistant");c.experimental("dojox.mobile.app.SceneAssistant");c.declare("dojox.mobile.app.SceneAssistant",null,{constructor:function(){},setup:function(){},activate:function(){},deactivate:function(){},destroy:function(){var d=c.query("> [widgetId]",this.containerNode).map(h.byNode);c.forEach(d,function(b){b.destroyRecursive()});this.disconnect()},connect:function(d,b,a){if(!this._connects)this._connects=[];this._connects.push(c.connect(d,
b,a))},disconnect:function(){c.forEach(this._connects,c.disconnect);this._connects=[]}})})},"dijit/_base/popup":function(){define("dijit/_base/popup",["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(h,c,d){var b=d._createWrapper;d._createWrapper=function(a){a.declaredClass||(a={_popupWrapper:a.parentNode&&h.contains(a.parentNode,"dijitPopup")?a.parentNode:null,domNode:a,destroy:function(){},ownerDocument:a.ownerDocument,ownerDocumentBody:c.body(a.ownerDocument)});return b.call(this,
a)};var a=d.open;d.open=function(b){if(b.orient&&"string"!=typeof b.orient&&!("length"in b.orient)){var c=[],d;for(d in b.orient)c.push({aroundCorner:d,corner:b.orient[d]});b.orient=c}return a.call(this,b)};return d})},"dojox/mobile/transition":function(){define("dojox/mobile/transition",["dojo/_base/Deferred","dojo/_base/config"],function(h,c){if(c.mblCSS3Transition){var d=new h;require([c.mblCSS3Transition],function(b){d.resolve(b)});return d}return null})},"dijit/_base/wai":function(){define("dijit/_base/wai",
["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(h,c,d){c.mixin(d,{hasWaiRole:function(b,a){var c=this.getWaiRole(b);return a?-1<c.indexOf(a):0<c.length},getWaiRole:function(b){return c.trim((h.get(b,"role")||"").replace("wairole:",""))},setWaiRole:function(b,a){h.set(b,"role",a)},removeWaiRole:function(b,a){var d=h.get(b,"role");d&&(a?(d=c.trim((" "+d+" ").replace(" "+a+" "," ")),h.set(b,"role",d)):b.removeAttribute("role"))},hasWaiState:function(b,a){return b.hasAttribute?b.hasAttribute("aria-"+
a):!!b.getAttribute("aria-"+a)},getWaiState:function(b,a){return b.getAttribute("aria-"+a)||""},setWaiState:function(b,a,c){b.setAttribute("aria-"+a,c)},removeWaiState:function(b,a){b.removeAttribute("aria-"+a)}});return d})},"dojo/window":function(){define("./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),function(h,c,d,b,a,e){var g={getBox:function(b){var b=b||d.doc,e="BackCompat"==b.compatMode?d.body(b):b.documentElement,h=a.docScroll(b);if(c("touch"))var j=g.get(b),
b=j.innerWidth||e.clientWidth,e=j.innerHeight||e.clientHeight;else b=e.clientWidth,e=e.clientHeight;return{l:h.x,t:h.y,w:b,h:e}},get:function(a){if(c("ie")&&g!==document.parentWindow){a.parentWindow.execScript("document._parentWindow = window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(f,g){try{var f=b.byId(f),h=f.ownerDocument||d.doc,j=d.body(h),q=h.documentElement||j.parentNode,l=c("ie"),p=c("webkit");if((!c("mozilla")&&
!l&&!p&&!c("opera")||f==j||f==q)&&"undefined"!=typeof f.scrollIntoView)f.scrollIntoView(!1);else{var m="BackCompat"==h.compatMode,u=9<=l&&"frameElement"in f.ownerDocument.parentWindow?0<q.clientHeight&&0<q.clientWidth&&(0==j.clientHeight||0==j.clientWidth||j.clientHeight>q.clientHeight||j.clientWidth>q.clientWidth)?q:j:m?j:q,p=p?j:u,t=u.clientWidth,r=u.clientHeight,v=!a.isBodyLtr(h),s=g||a.position(f),n=f.parentNode,h=function(a){return 6>=l||l&&m?!1:"fixed"==e.get(a,"position").toLowerCase()};if(!h(f))for(;n;){n==
j&&(n=p);var o=a.position(n),x=h(n);if(n==p){o.w=t;o.h=r;p==q&&l&&v&&(o.x+=p.offsetWidth-o.w);if(0>o.x||!l)o.x=0;if(0>o.y||!l)o.y=0}else{var w=a.getPadBorderExtents(n);o.w-=w.w;o.h-=w.h;o.x+=w.l;o.y+=w.t;var y=n.clientWidth,z=o.w-y;if(0<y&&0<z)o.w=y,o.x+=v&&(l||n.clientLeft>w.l)?z:0;y=n.clientHeight;z=o.h-y;if(0<y&&0<z)o.h=y}if(x){if(0>o.y)o.h+=o.y,o.y=0;if(0>o.x)o.w+=o.x,o.x=0;if(o.y+o.h>r)o.h=r-o.y;if(o.x+o.w>t)o.w=t-o.x}var A=s.x-o.x,B=s.y-Math.max(o.y,0),D=A+s.w-o.w,E=B+s.h-o.h;if(0<D*A){var C=
Math[0>A?"max":"min"](A,D);if(v&&(8==l&&!m||9<=l))C=-C;s.x+=n.scrollLeft;n.scrollLeft+=C;s.x-=n.scrollLeft}0<E*B&&(s.y+=n.scrollTop,n.scrollTop+=Math[0>B?"max":"min"](B,E),s.y-=n.scrollTop);n=n!=p&&!x&&n.parentNode}}}catch(F){console.error("scrollIntoView: "+F),f.scrollIntoView(!1)}}};h.setObject("dojo.window",g);return g})},"dojox/mobile/EdgeToEdgeList":function(){define("dojox/mobile/EdgeToEdgeList",["dojo/_base/declare","./RoundRectList"],function(h,c){return h("dojox.mobile.EdgeToEdgeList",c,
{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList"}})})},"dijit/popup":function(){define("dijit/popup","dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),function(h,c,d,b,a,e,g,f,i,k,j,q,l,p,m,u,t){function r(){this._popupWrapper&&(g.destroy(this._popupWrapper),
delete this._popupWrapper)}b=b(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,d=a.domNode;if(!b)b=g.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),b.appendChild(d),d=d.style,d.display="",d.visibility="",d.position="",d.top="0px",a._popupWrapper=b,c.after(a,"destroy",r,!0);return b},moveOffScreen:function(a){a=this._createWrapper(a);i.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=
this._createWrapper(a);i.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(b){for(var c=this._stack,g=b.popup,h=b.orient||["below","below-alt","above","above-alt"],i=b.parent?b.parent.isLeftToRight():f.isBodyLtr(g.ownerDocument),r=b.around,y=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;c.length&&(!b.parent||!a.isDescendant(b.parent.domNode,c[c.length-1].widget.domNode));)this.close(c[c.length-
1].widget);var z=this._createWrapper(g);e.set(z,{id:y,style:{zIndex:this._beginZIndex+c.length},"class":"dijitPopup "+(g.baseClass||g["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});if((p("ie")||p("mozilla"))&&!g.bgIframe)g.bgIframe=new u(z);h=r?m.around(z,r,h,i,g.orient?q.hitch(g,"orient"):null):m.at(z,b,"R"==h?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],b.padding);z.style.display="";z.style.visibility="visible";g.domNode.style.visibility="visible";i=[];i.push(l(z,
d._keypress,q.hitch(this,function(a){if(a.charOrCode==j.ESCAPE&&b.onCancel)k.stop(a),b.onCancel();else if(a.charOrCode===j.TAB&&(k.stop(a),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));g.onCancel&&b.onCancel&&i.push(g.on("cancel",b.onCancel));i.push(g.on(g.onExecute?"execute":"change",q.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));c.push({widget:g,parent:b.parent,onExecute:b.onExecute,onCancel:b.onCancel,onClose:b.onClose,handlers:i});if(g.onOpen)g.onOpen(h);
return h},close:function(a){for(var b=this._stack;a&&h.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,e=c.onClose;if(d.onClose)d.onClose();for(var f;f=c.handlers.pop();)f.remove();d&&d.domNode&&this.hide(d);e&&e()}}});return t.popup=new b})},"dojox/mobile/uacss":function(){define("dojox/mobile/uacss",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(h,c,d,b){d=d.doc.documentElement;d.className=c.trim(d.className+" "+[b("bb")?"dj_bb":"",
b("android")?"dj_android":"",b("iphone")?"dj_iphone":"",b("ipod")?"dj_ipod":"",b("ipad")?"dj_ipad":""].join(" ").replace(/ +/g," "));return h})},"dijit/_base/window":function(){define("dijit/_base/window",["dojo/window","../main"],function(h,c){c.getDocumentWindow=function(c){return h.get(c)}})},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase","require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(h,c,d,b,a,e,g,f,i,k,j,q,l,p,m,u,t,r,v,s,n,o){function x(a){return function(b){f[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}l.add("dijit-legacy-requires",!p.isAsync);l("dijit-legacy-requires")&&t(0,function(){h(["dijit/_base/manager"])});var w={};return e("dijit._WidgetBase",[r,n],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:x("lang"),dir:"",_setDirAttr:x("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:b.blankGif||h.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=g.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,m.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=o.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:s.doc);this.ownerDocumentBody=s.body(this.ownerDocument);o.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],d;for(d in this.attributeMap)b.push(d);var a=a.prototype,e;for(e in a)e in this.attributeMap||"_set"+e.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(e)}c.forEach(b,function(a){this.params&&a in this.params||this[a]&&this.set(a,this[a])},this);for(var f in this.params)this.set(f,this.params[f])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(c.map(a,function(a){return a+"Rtl"})));i.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,c.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&m.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();c.forEach(this._connects,m.hitch(this,"disconnect"));c.forEach(this._supportingWidgets,b);this.domNode&&c.forEach(o.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);o.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?f.remove(this.domNode,
"widgetId"):k.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||k.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){c.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;m.isObject(a)?q.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,d){d=3<=arguments.length?d:this.attributeMap[a];
c.forEach(m.isArray(d)?d:[d],function(c){var d=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":m.isFunction(b)&&(b=m.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?f.set(d,c,b):d.set(c,b);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":d.innerHTML=b;break;case "class":i.replace(d,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?
this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(m.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!m.isFunction(this.focusNode)?"focusNode":"domNode",f=this[d].tagName,g;if(!(g=w[f])){g=this[d];var h={},i;for(i in g)h[i.toLowerCase()]=!0;g=w[f]=h}i=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:c.l in g&&"function"!=typeof b||
/^aria-|^data-|^role$/.test(a)?d:null;null!=i&&this._attrToDom(a,b,i);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._created&&b!==c&&(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+
a,{detail:{prevValue:c,newValue:b}}))},emit:function(a,b,c){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail={};b.detail.widget=this;var d,e=this["on"+a];e&&(d=e.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&u.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?d.after(this,c,b,!0):this.own(u(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap=
{},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?o.findWidgets(this.containerNode):[]},getParent:function(){return o.getEnclosingWidget(this.domNode.parentNode)},connect:function(b,c,d){return this.own(a.connect(b,c,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(v.subscribe(a,
m.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:j.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=q.get(this.domNode,"display")},placeAt:function(a,b){var c=!a.tagName&&o.byId(a);c&&c.addChild&&(!b||"number"===typeof b)?c.addChild(this,b):(c=c?c.containerNode&&!/after|before|replace/.test(b||"")?c.containerNode:c.domNode:g.byId(a,this.ownerDocument),k.place(this.domNode,c,b),!this._started&&(this.getParent()||
{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var c=setTimeout(m.hitch(this,function(){c=null;this._destroyed||m.hitch(this,a)()}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}})})},"dojox/mobile/app/AlertDialog":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_WidgetBase"],function(h,c,d){c.provide("dojox.mobile.app.AlertDialog");c.experimental("dojox.mobile.app.AlertDialog");c.require("dijit._WidgetBase");
c.declare("dojox.mobile.app.AlertDialog",h._WidgetBase,{title:"",text:"",controller:null,buttons:null,defaultButtonLabel:"OK",onChoose:null,constructor:function(){this.onClick=c.hitch(this,this.onClick);this._handleSelect=c.hitch(this,this._handleSelect)},buildRendering:function(){this.domNode=c.create("div",{"class":"alertDialog"});var b=c.create("div",{"class":"alertDialogBody"},this.domNode);c.create("div",{"class":"alertTitle",innerHTML:this.title||""},b);c.create("div",{"class":"alertText",innerHTML:this.text||
""},b);var a=c.create("div",{"class":"alertBtns"},b);if(!this.buttons||0==this.buttons.length)this.buttons=[{label:this.defaultButtonLabel,value:"ok","class":"affirmative"}];var e=this;c.forEach(this.buttons,function(b){var f=new d.mobile.Button({btnClass:b["class"]||"",label:b.label});f._dialogValue=b.value;c.place(f.domNode,a);e.connect(f,"onClick",e._handleSelect)});b=this.controller.getWindowSize();this.mask=c.create("div",{"class":"dialogUnderlayWrapper",innerHTML:'<div class="dialogUnderlay"></div>',
style:{width:b.w+"px",height:b.h+"px"}},this.controller.assistant.domNode);this.connect(this.mask,"onclick",function(){e.onChoose&&e.onChoose();e.hide()})},postCreate:function(){this.subscribe("/dojox/mobile/app/goback",this._handleSelect)},_handleSelect:function(b){var a;if(b&&b.target)for(a=b.target;!h.byNode(a););if(this.onChoose)this.onChoose(a?h.byNode(a)._dialogValue:void 0);this.hide()},show:function(){this._doTransition(1)},hide:function(){this._doTransition(-1)},_doTransition:function(b){var a,
d=c.marginBox(this.domNode.firstChild).h;a=this.controller.getWindowSize().h;d=a-d;a=c.fx.slideTo({node:this.domNode,duration:400,top:{start:0>b?d:a,end:0>b?a:d}});d=c[0>b?"fadeOut":"fadeIn"]({node:this.mask,duration:400});a=c.fx.combine([a,d]);var g=this;c.connect(a,"onEnd",this,function(){if(0>b)g.domNode.style.display="none",c.destroy(g.domNode),c.destroy(g.mask)});a.play()},destroy:function(){this.inherited(arguments);c.destroy(this.mask)},onClick:function(){}})})}}});
define("dojox/mobile/app",["./app/_base"],function(h){return h});